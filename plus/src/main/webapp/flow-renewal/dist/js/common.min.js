"use strict";function asyncGeneratorStep(e,n,t,o,r,i,a){try{var c=e[i](a),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(o,r)}function _asyncToGenerator(c){return function(){var e=this,a=arguments;return new Promise(function(n,t){var o=c.apply(e,a);function r(e){asyncGeneratorStep(o,n,t,r,i,"next",e)}function i(e){asyncGeneratorStep(o,n,t,r,i,"throw",e)}r(void 0)})}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Often=function(){function t(e,n){return PopupDraw.drawToast({type:e,msg:n})}function o(e){return location.pathname.includes(e)}return{toast:t,getLocOrigin:function(){return location.protocol+"//"+location.host},isAct:o,isCookieExist:function(e){return document.cookie.includes(s(e))},isMadras:function(){return"UTLZ_1608261809693"===_USE_INTT_ID},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getCookie:function(e){for(var n=e+"=",t="",o=document.cookie.split(";"),r=0;r<o.length;r++)if(" "===o[r][0]&&(o[r]=o[r].substring(1)),0===o[r].indexOf(n))return t=o[r].slice(n.length,o[r].length),unescape(t);return t},setCookie:a,local2session:function(){(o("main")||o("miniMain"))&&Object.keys(localStorage).forEach(function(e){-1!==e.indexOf(_TAB_ID)&&(sessionStorage[e]=localStorage.getItem(e),localStorage.removeItem(e))})},session2local:function(){(o("main")||o("miniMain"))&&Object.keys(sessionStorage).forEach(function(e){-1!==e.indexOf(_TAB_ID)&&(localStorage.setItem(e,sessionStorage[e]),sessionStorage.removeItem(e))})},getDeviceJson:function(e){var n=navigator.userAgent.match(/Mobile|iP(hone|od)|Windows (CE|Phone)|Minimo|Opera M(obi|ini)|BlackBerry|Nokia/)&&!navigator.userAgent.match(/iPad/),t=navigator.userAgent.match(/iPad|Android/),n=Electron.isElectronApp()?"DESKTOP":n?"MWEB":t?"TABLET":"PC_"+function(){var e=navigator.userAgent.toLowerCase();if(e.includes("chrome"))return"CHROME";if(e.includes("opera"))return"OPERA";if(e.includes("firefox"))return"FIREFOX";return e.includes("safari")?"SAFARI":"IE"}(),t=LocalUtil.getDeviceId();return t=""!==t?t:ServerChecker.isMobis&&Mobis.isInnerIp(e)?e:u(),LocalUtil.setLocal("ONLY_DEVICE_ID",t),LocalUtil.setLocal("ONLY_DEVICE_NM",n+"_"+t),{DUID:t,DUID_NM:n+"_"+t}},getIEVersion:function(){var e,n="N/A",t=navigator.userAgent.toLowerCase();"Microsoft Internet Explorer"===navigator.appName?e="msie ":-1<t.search("trident")?e="trident/.*rv:":-1<t.search("edge/")&&(e="edge/");null!=new RegExp(e+"([0-9]{1,})(\\.{0,}[0-9]{0,1})").exec(t)&&(n=RegExp.$1+RegExp.$2);return n},getClientOSInfo:function(){var e=navigator.userAgent.toLowerCase();return{isWin:-1<e.indexOf("windows"),isMac:-1<e.indexOf("macintosh"),isWin7:-1<e.indexOf("windows nt 6.1"),isWin8:-1<e.indexOf("windows nt 6.2"),isWin10:-1<e.indexOf("windows nt 10.0")}},getUUID:function(){return _USER_ID+"_"+LocalUtil.getLocalValue("ONLY_DEVICE_ID")+"_xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})},getRandomDeviceId:u,getJsonToParse:function(n){try{return JSON.parse(n)}catch(e){return Array.isArray(n)?[]:""}},getDateFormat:function(e,n){var t;"HOURS"===n?t=60:"MINUTES"===n&&(t=10);return t&&e.setMinutes(Math.ceil(e.getMinutes()/t)*t),e.getFullYear()+""+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+(e.getDate()<10?"0"+e.getDate():e.getDate())+(e.getHours()<10?"0"+e.getHours():e.getHours())+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+"00"},getAttrs:function(e){for(var n=[],t=e.length,o=0;o<t;o++){for(var r=void 0,i=e[o].attributes,a=i.length,c={},s=0;s<a;s++){var u=(r=i[s]).nodeName.toUpperCase().replace(/[-]/gi,"_");!("ID"===u||"CLASS"===u||"CONTENTEDITABLE"===u||"STYLE"===u||"DATA"===u)&&(c[u]=r.nodeValue)}n.push(c)}return n},null2Void:s,undefined2Obj:function(e,n){return i(e,n,"object")},isFunc:r,isServerModeByHost:c,isBrowser:function(e){var n=navigator.userAgent.toLowerCase(),n={ie6:n.includes("msie 6"),ie7:n.includes("msie 7"),ie8:n.includes("msie 8"),ie9:n.includes("msie 9"),ie10:n.includes("msie 10"),ie11:n.includes("msie 11"),ie:n.includes("netscape")||n.includes("trident")||n.includes("msie"),edge:n.includes("edge"),opera:!!window.opera,safari:n.includes("safari")&&!n.includes("chrome"),safari3:n.includes("applewebkir/5"),mac:n.includes("mac"),chrome:n.includes("chrome"),firefox:n.includes("firefox"),whale:n.includes("whale")};return e?n[e]:n},isMessenger:function(){return location.href.includes("flowDrive")&&"undefined"!=typeof _RESPONSE_TYPE?"CHAT"===_RESPONSE_TYPE:!(!location.href.includes("GOOGLE_DRIVE")||!o("subscreen"))||o("messenger")},isDeadlineExceeded:function(e){return""!==s(e)&&Tz.momentConversion("convertOnly","type19",e)<Tz.momentConversion("convertOnly","type19",moment())},isSameDay:function(e){return""!==s(e)&&Tz.momentConversion("convertOnly","type12",e)===Tz.momentConversion("convertOnly","type12",moment())},submitForm:function(e,n,t,o,r){var i=$("<form></form>").attr($.extend({},s(r,{}),{id:e,name:e,method:o&&Electron.isElectronApp()?"get":"post",action:n,target:t}));if(o)for(var a in o){var c;o.hasOwnProperty(a)&&(c=o[a]instanceof Object?JSON.stringify(o[a]).replaceAll('"',"'"):o[a],c=$("<input>").attr($.extend({},{type:"hidden",name:a,value:c})),i.append(c))}$("body").append(i),i.submit(),i.remove()},clog:function(e,n,t,o,r,i,a){c("DEV_TEST")&&console.log("console",e,n,t,o,r,i,a)},elog:function(e,n,t,o,r,i,a){console.log("error",e,n,t,o,r,i,a)},copyUrl:function(n){n=$('<input id="tempUrlCopyInput" type="text" style="position:absolute;top:-9999em;">').val(n);$("body").append(n);n=$("#tempUrlCopyInput");n.select();try{document.execCommand("copy"),t("info",i18next.t("front.alert.copiedToClipboard")),n.remove()}catch(e){t("error",i18next.t("front.alert.errorTryAgain")),n.remove()}},tryLogout:function(){var e,n;Electron.isElectronApp()&&(o("signin.act")||o("signIn.act"))||(e="Y"===Often.getCookie("googleLoginYn"),$("#acconutModal").fadeOut(200),(n={}).contents={main:i18next.t("front.alert.logout"),secondarySubmit:e?"front.common.googleLogoutWarning":""},n.callback={submit:f,secondarySubmit:e?l:""},PopupDraw.closePopup(),PopupDraw.drawConfirm(n))},logoutDirect:f,diffSeconds:function(e,n){var t="YYYYMMDDHHmmss",e=e?moment(e,t):moment(),t=n?moment(n,t):moment();return moment.duration(t.diff(e)).asSeconds()},showOrHideByFunc:function(e,n){r(e)?n.show():n.hide()}};function r(e){var n=LocalUtil.getLocal("ONLY_FUNC_LIST");return 0<s(n).length&&""!==s(e)&&""!==s(JSON.parse(n)[e])}function a(e,n,t,o){var r=new Date,i="",a="";""===s(t)&&""===s(o)||(t?r.setDate(r.getDate()+t):r.setTime(r.getTime()+o),i="expires=",a=r.toGMTString()+";"),document.cookie=e+"="+escape(n)+"; path=/; "+i+a+("http:"===location.protocol?"":"; secure")}function s(e,n){return i(e,n,"string")}function i(e,n,t){return null==e||""===e||void 0===_typeof(e)||"null"===e||"undefined"===e||void 0===e?_typeof(n)===t?n:"":e}function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"DEV_TEST",n=location.host,t=function(){return n.includes("seco.flow.team")||n.includes("zoomok.flow.team")},o=function(){return n.includes("develop.flow.team")||n.includes("staging.flow.team")},r=function(){return n.includes("localhost")||n.includes("flowdev.info")||n.includes("flowteam.info")||n.includes("flowtest.info")};return{REAL:n.includes("flow.team")&&!o()&&!r()&&!t(),ALL_TEST:o()||r(),REAL_TEST:o(),DEV_TEST:r()}[e]}function u(){return Math.round(1e6*Math.random())+"-"+Math.round(1e3*Math.random())+"-"+Math.round(1e3*Math.random())+"-"+Math.round(1e6*Math.random())}function l(){var e="https://accounts.google.com/Logout?continue=http://google.com",n=Electron.isElectronApp()?window.open(e,"Google Logout","top="+screen.height+", left="+screen.width):window.open(e);window.setTimeout(function(){n.close(),f()},100)}function f(r){var i=Electron.isElectronApp();function e(){return n.apply(this,arguments)}function n(){return(n=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Often.isFunc("FLOW_S_LOGOUT_ON_NEW"),e.next=3,Ajax.executeApi(RestApi.GET.COLABO2_LOGOUT_R001);case 3:if(t=e.sent,LocalUtil.removeAllLocal(),Often.setCookie("flowLogin",""),a("miniflowLogin","",360),a("googleLoginYn","",360),"boolean"==typeof r&&r)return e.abrupt("return");e.next=10;break;case 10:if(!i){e.next=15;break}if(SocketControl.closeExpiredWindows(i),Electron.logout(t),_IsMini)return e.abrupt("return");e.next=15;break;case 15:o=""!==SUB_DOM?"/corpsignin.act":"/signin.act",location.replace(n?"/login.act":s(t.REDIRECT_URI,o));case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}Electron.isElectronApp()?(MiniState.sendStatusSocket(ProfileState.OFFLINE),MiniState.updateUserStateData(ProfileState.OFFLINE,e)):e()}}();
"use strict";var Internationalization=function(){return{initSetting:function(e){i18next.use(i18nextHttpBackend).init({lng:n(),debug:Often.isServerModeByHost("DEV_TEST"),fallbackLng:"ko",cleanCode:!0,interpolation:{format:function(n,e,t){return"lowerCase"===e?Interpolation.validateI18nextCode(n):"koreanPrefixEL"===e?Interpolation.koreanPrefix(n,"을","를"):"koreanPrefixIG"===e?Interpolation.koreanPrefix(n,"이","가"):"pastTense"===e?Interpolation.getPastTense(n):"name"===e?Interpolation.addName(n):n instanceof Date?moment(n).format(e):n}},backend:{loadPath:"/js/collabo/messageV2/message_{{lng}}.json"}}).then(function(){$("#priorityButton").append(i18next.t("front.common.add",{val:"$t(front.common.priority)"})),$("#videoButton").append(i18next.t("front.common.add",{val:"$t(front.common.videoConference)"})),$("#addEmail span").text(i18next.t("front.common.add",{val:"$t(dictionary.email)"})),t(),e()}).catch(function(n){n&&Often.isServerModeByHost("DEV_TEST")&&console.log("다국어에서 에러가 발생했습니다"),e()})},initDatePicker:function(){"en"===n()?flatpickr.localize(flatpickr.l10ns.en):flatpickr.localize(flatpickr.l10ns.ko)},languageCodeDebug:function(){Often.isFunc("DEBUG_LANG_CODE")?(Often.setCookie("FLOW_LANG","debug",3600),mutiLangDebug.activate()):mutiLangDebug.remove()},getCurrentLanguage:n,setMomentLocale:t,changeLangTemporarily:function(n,e){i18next.changeLanguage(n).then(e)}};function n(){var n=Often.null2Void(Often.getCookie("FLOW_LANG"),"ko");return"debug"===n?"en":n}function t(){moment.locale("ko",{relativeTime:{h:"%d시간"}}),moment.locale(n())}}(),Interpolation=function(){return{koreanPrefix:function(n,e,t){var a=(n=o(n)).charCodeAt(n.length-1);return a<44032||55203<a?n:n+(0<(a-44032)%28?e:t)},addName:function(n){n=i18next.t(n);return i18next.t("front.common.name",{val:n})},breakLine:function(n){return n.replace(/\n/g,"<br/>")},getPastTense:function(n){if(n=o(n),"en"!==Internationalization.getCurrentLanguage())return n;var e={are:"were",have:"had",is:"was",apply:"applied"};if(n=o(n),e[n])return e[n];if(/e$/i.test(n))return n+"d";if(/[aeiou]c$/i.test(n))return n+"ked";if(/el$/i.test(n))return n+"ed";if(/[aeio][aeiou][dlmnprst]$/.test(n))return n+"ed";return n+"ed"},validateI18nextCode:o};function o(n){if(-1<(n=Often.null2Void(n,"")).indexOf("$t(")){var e=n.substring(3,n.length-1);return i18next.t(e).toLowerCase()}return n}}(),LinkControl={controlZendesk:function(){Often.isFunc("ZENDESK_URL_CONTROL")&&$(".icons-help").remove()}},TemporaryTranslation={koreanHolidaysFilter:function(n){if("ko"===Internationalization.getCurrentLanguage())return n;var e={"신정":"New Year's Day","3·1절":"Independence Day","식목일":"Arbor Day","제헌절":"Constitution Day","추석":"Thanksgiving Day","개천절":"National Foundation Day","한글날":"Hangul Proclamation Day","국제 연합일":"United Nations Day","성탄절":"Christmas","대체 휴일":"Substitute Holiday"};return e.hasOwnProperty(n)?e[n]:n}};
"use strict";var Ajax=function(){var _={};return{initData:function(){_={}},getData:function(e){return void 0===e?_:_[e]},getOutData:function(e,n){return _&&_[e]&&_[e].response&&_[e].response[n]?_[e].response[n]:""},executeApi:function(u,E,O,l){E=E||{};var S,T=Date.now(),e=void 0===E.useSyncAjax||Boolean(Often.null2Void(E.useSyncAjax,!0));S=void 0===E.packetOption?Ajax.OPTION.ALLOW_EXECUTE:E.packetOption;if(S!==Ajax.OPTION.PREVENT_EXECUTE||!_[u]||!_[u].isExecute){_[u]||(_[u]={}),_[u].request=E;var n={_JSON_:encodeURIComponent(JSON.stringify($.extend({},{USER_ID:_USER_ID,RGSN_DTTM:_RGSN_DTTM,USE_INTT_ID:LocalUtil.getLocalValue("ONLY_USER_SETTING","USE_INTT_ID")},E)))},t="";return""!==Often.null2Void(E.MODE)?t="&mode="+E.MODE:""!==Often.null2Void(E.GUBUN)&&(t="&gubun="+E.GUBUN),""!==t&&(t="?"+t.slice(1,t.length)),$.ajax({type:"POST",url:"/"+u+".jct"+t,data:n,cache:!0,async:e,beforeSend:function(){_[u].isExecute=!0,_[u].finalResMilliSecond=T},error:function(e){console.error(e),_[u].isExecute=!1},success:function(e){try{if(S===Ajax.OPTION.PREVENT_CALLBACK&&(f=$.extend({},_[u].request),s=$.extend({},E),function(e){e.forEach(function(e){f[e]="",s[e]=""})}(["PG_PER_CNT","FIL_STTS","FIL_PRIORITY","SRCH_WORD","SEARCH_RECORD"]),JSON.stringify(f)===JSON.stringify(s)&&_[u].finalResMilliSecond!==T))return void Often.clog("중복콜백무시",u);if(!e||!e.COMMON_HEAD)return void("function"==typeof l&&l(e));var n=e.COMMON_HEAD,t=n.ERROR,r=n.CODE,o=n.MESSAGE;if(t){var i=i18next.t("front.alert.errorTryAgain");if("S0139"===r||"S0002"===r)return LocalUtil.removeLocal("SUB_PATH"),void location.reload();if("WCB010"===r)return void Often.toast("error",i18next.t("front.alert.deletedPost"));if("S0029"===r)return"function"==typeof l&&l(e),Often.toast("error","업무 제목을 입력해주세요.");if(""!==o&&(i+="\nERROR : "+o,"NO_ALERT"!==o&&Often.toast("error",o),"function"==typeof l&&l(e)),Often.isServerModeByHost("DEV_TEST")&&(c=(a={response:e,error:i,apiKey:u,inputJson:E}).apiKey+"/"+JSON.stringify(a.inputJson)+"/"+JSON.stringify(a.response),Often.isServerModeByHost("ALL_TEST")?PopupDraw.drawConfirm({contents:{main:a.error},callback:{final:function(e){e.find(".cancel-event").remove();var n=$("<div></div>").addClass("error-cont");n.text(c),e.find(".popup-cont").after(n)}}}):console.error(c)),""!==r)return}_[u].response=e,"function"==typeof O&&O(_[u].response)}catch(e){console.error(e)}finally{_[u].isExecute=!1}var a,c,f,s}})}},OPTION:{ALLOW_EXECUTE:0,PREVENT_EXECUTE:1,PREVENT_CALLBACK:2}}}();
"use strict";var Authority=function(){return{isAuthorityCheck:i,isAdminAuthorityCheckAndAction:function(t,e){return!(!t||i("ADMIN"))&&(e&&e.preventDefault(),Often.toast("error",i18next.t("front.alert.adminRestriction")),!0)},changeCreatePostAreaByAuthority:function(t){var e=t.find(".work-desing-text");i("WRITE")?(t.removeClass("admin"),e.text(i18next.t("front.detail.placeholderWritePost"))):(t.addClass("admin"),e.text(i18next.t("front.common.adminWriteOnly",{type:"$t(dictionary.article)"})))}};function i(t,e){var i;e=e||((i=$("#postPopup")).is(":visible")?Often.null2Void(i.find(".detail-item").attr("data-project-srno")):Detail.getProjectSrno());var n,r=Often.null2Void(LocalUtil.getLocalValue("POP_PROJECT_SETTING")),o=Often.null2Void(LocalUtil.getLocalValue("CURRENT_PROJECT_SETTING"));if(r.COLABO_SRNO===e)n=r;else{if(o.COLABO_SRNO!==e)return SentryMonitor.captureException("isAuthorityCheck ERROR"),!0;n=o}o="Y"===n[Often.isFunc(Func.CLOUD.WRITE_AUTHORITY_SEPARATE)?"MNGR_WR_CM_YN":"MNGR_WR_YN"];return"ADMIN"===t?"Y"===n.MNGR_DSNC:"WRITE"===t?!("N"===n.MNGR_DSNC&&"Y"===n.MNGR_WR_YN):"REMARK"===t?!("N"===n.MNGR_DSNC&&o):void 0}}();
"use strict";var BaseSetting={setBuySetting:function(i){Ajax.executeApi(RestApi.GET.COLABO2_BUY_R001,{DUID:Often.getCookie("FLOW_DUID")},function(t){LocalUtil.setLocal("ONLY_FUNC_LIST",t.FUNC_DEPLOY_LIST),LocalUtil.setLocal("ONLY_CHATBOT_ID_LIST",JSON.stringify(t.CHATBOT_REC));var n,e={};for(n in t)"FUNC_DEPLOY_LIST"!==n&&"CHATBOT_REC"!==n&&"COMMON_HEAD"!==n&&(e[n]=t[n]);ServerChecker.isKyungrinara="Y"===e.SERP_YN,LocalUtil.setLocal("ONLY_BUY_SETTING",JSON.stringify(e)),"function"==typeof i&&i(t)})},setUserSetting:function(i){Ajax.executeApi(RestApi.GET.COLABO2_SET_R101,{},function(t){var n={};for(e in t)for(var e in t)"COMMON_HEAD"!==e&&(n[e]=t[e]);LocalUtil.setLocal("ONLY_USER_SETTING",JSON.stringify(n)),"function"==typeof i&&i(t)})},setFuncSetting:function(n){Ajax.executeApi(RestApi.GET.COLABO2_FUNC_R003,{},function(t){LocalUtil.setLocal("ONLY_FUNC_LIST",t.FUNC_DEPLOY_LIST),"function"==typeof n&&n()})},showMainNotice:function(){var c=Electron.isElectronApp(),a=c?"D":"P";Ajax.executeApi(RestApi.GET.COLABO2_ADM_R002,{GUBUN:a},function(o){var n,e;"Y"!==Often.null2Void(o.READ_YN,"Y")&&((n=PopupDraw.getPopupWrapObj()).find(".contents").html($("#flowNoticeDiv").html()),n.find(".js-ttl").text(o.TTL),n.find(".js-cntn").html(o.CNTN.replace("\\n","<br>")),n.find(".js-link").text(o.BTN_NM),n.on("click",function(t){var n=$(t.target),e=n.findUp(".js-link"),i=n.findUp(".js-not-show"),t=n.findUp(".js-close");return 0<e.length?function(){if(c)return Electron.openWindow(o.LNK,"notice",1200,800);window.open(o.LNK,"_blank")}():0<i.length?void Ajax.executeApi(RestApi.POST.COLABO2_ADM_C002,{GUBUN:a,NOTICE_SRNO:o.NOTICE_SRNO,packetOption:Ajax.OPTION.PREVENT_EXECUTE},PopupDraw.closePopup):0<t.length?PopupDraw.closePopup():void(0<n.findUp(".back-area").length&&0===n.findUp("#flowNotice").length&&PopupDraw.closePopup())}),(e=new Image).src=o.IMG_URL,e.onload=function(){$(e).addClass("js-img");var t=n.find(".js-img");t.after($(e)),t.remove(),$("body").append(n),n.fadeIn(200)})})}};
"use strict";var BrowserNoti=function(){var n=0,O=null,A=null,c={};return{initSetting:function(){var t;i()&&(t="Y"===LocalUtil.getDesktopNotiPopup(),"default"===Notification.permission&&t&&(0===n||1===n?(Top.setBanner("alarm-step-1"),n=1):2===n&&(Top.setBanner("alarm-step-2"),n=2)))},showChattingNotification:function(t){var n=LocalUtil.getLocalJson("ONLY_USER_SETTING");if(n&&"N"!==n.CHAT_ALAM_YN&&"N"!==n.COMMT_ALAM&&i()&&"granted"===Notification.permission){var e=Chatting.getOneMessageData(t),n=Often.null2Void(e.ROOM_SRNO,t.CHATTING_ROOM_SRNO);if($("body").attr("data-focus-room-srno")!==n&&0!==Object.keys(e).length&&_USER_ID!==e.RGSR_ID){t=LocalUtil.getLocalJson("ONLY_MESSENGER-"+n);if(null!==t)return o("CHATTING",e,"Y"===t.PUSH_ALAM_YN);Chatting.getRoomInfo(!1,n,function(t){o("CHATTING",e,"Y"===t.PUSH_ALAM_YN)})}}},showAlarmNotification:function(t){var n=LocalUtil.getLocalJson("ONLY_USER_SETTING");n?"N"!==n.FLOW_ALAM_YN&&"N"!==n.COMMT_ALAM&&i()&&"granted"===Notification.permission&&Alarm.getRecentAlarmData(function(t){var n=Alarm.getOneAlarmData(t);t=n,Often.isCookieExist("ALARM_"+t.COLABO_COMMT_SRNO+"_"+t.COLABO_REMARK_SRNO)||(Often.setCookie("ALARM_"+t.COLABO_COMMT_SRNO+"_"+t.COLABO_REMARK_SRNO,"Y",1,""),0)||0!==Object.keys(n).length&&_USER_ID!==n.RGSR_ID&&o("ALARM",n,!0)}):location.reload()},requestNotificationPermission:function(){Notification.requestPermission(function(t){if("default"!==t)return"denied"===t?e():void("granted"===t&&(e(),Ajax.executeApi(RestApi.PUT.COLABO2_SET_U102,{DESKTOP_ALAM:"Y"})))})},closeAlarmBanner:e};function e(t){Top.removeBanner("alarm-step-all"),n=3,t&&LocalUtil.setLocal("ONLY_DESKTOP_NOTI_POPUP","N")}function o(t,n,e){var o="CHATTING"===t,i="ALARM"===t,a=Electron.isElectronApp(),r=LockControl.isLockMode()||MiniLock.isLockMode(),l=o?n.ROOM_SRNO:"noti_post";e&&(null!=O&&null!=A&&A!==l&&_(),r?(c.ICON=ImageUtil.removeDomain("PROFILE",""),c.BODY=i18next.t("front.alert.unlockToViewMessage"),o?c.TITLE=i18next.t("front.alert.newAlert",{val:"$t(dictionary.message)"}):i&&(c.TITLE=i18next.t("front.alert.newAlert",{val:"$t(dictionary.notification)"}))):(c.ICON=ImageUtil.removeDomain("PROFILE",n.PRFL_PHTG),o?(c.TITLE=i18next.t("front.alert.userMessage",{user:n.RGSR_NM,interpolation:{escapeValue:!1}}),c.BODY=Chatting.changeContents(n)):i&&(c.TITLE=TagUtil.html2tag(n.ALAM_MSG),c.BODY=TagUtil.shortContent(n.TASK_NM,25)+TagUtil.html2tag(n.ALAM_CNTN)+function(t){var n="Y"===t.ATCH_YN,e="Y"===t.IMG_ATCH_YN,t="\n(";n&&e?t+=i18next.t("dictionary.attachment")+", "+i18next.t("dictionary.image"):n?t+=i18next.t("dictionary.attachment"):e&&(t+=i18next.t("dictionary.image"));return t+=")",n||e?t:""}(n))),a&&Electron.showNoti(l),a&&Electron.showDenyNoti(c),A=l,(O=new Notification(c.TITLE,{icon:c.ICON,body:c.BODY,tag:l,renotify:!0})).onclick=function(){event.preventDefault(),window.focus(),a&&Electron.focusBrowser(),_(),r||(o?OpenUtil.openMessengerByRoomSrno(l):i&&(Alarm.closeLayer(),AlarmUpdate.readAlarmAndAction({COLABO_SRNO:n.COLABO_SRNO,COLABO_COMMT_SRNO:n.COLABO_COMMT_SRNO,COLABO_REMARK_SRNO:n.COLABO_REMARK_SRNO,ALARM_ACTION:n.ALARM_ACTION,OPEN_POP:!0})))})}function _(){O.close(),A=null}function i(){return"undefined"!=typeof Notification}}();
"use strict";var Caret=function(){var r,c,a,s,t,n={};return{focusBeforeCaret:function(){var e=window.getSelection().focusNode,t=window.getSelection().getRangeAt(0),n=document.createRange();n.setStart(e,t.startOffset);t=document.getSelection();t.removeAllRanges(),t.addRange(n)},focusNextCaret:i,getNode:u,changeAndFocusNode:function(e){var t,n,o,r=u();"#text"===r.node.nodeName&&(o=-1===r.eraseStart,n=o?r.eraseStart+1:r.eraseStart,t=o?r.eraseEnd+1:r.eraseEnd,(o=r.node.splitText(n)).deleteData(0,t-n+1),r.node.parentNode.insertBefore(e[0],o),r.node.parentNode.insertBefore(document.createTextNode(" "),o),n=e.text(),r=e[0].nextSibling.nextSibling," "!==(o=Often.null2Void(r&&r.textContent))&&(-1<o.indexOf("@")||-1<o.indexOf(n.substr(-1))||-1<o.indexOf(n.substr(-2))||-1<o.indexOf(n.substr(-3)))&&Often.isBrowser("mac")&&r.remove(),i(e[0].nextSibling,1))},getPosition:function(){var e,t=0,n=0;return(e=window.getSelection()).rangeCount?((e=e.getRangeAt(0).cloneRange()).collapse(!0),e=e.getClientRects(),e=0<e.length?e[0]:"",t=Often.null2Void(e.left,0),n=Often.null2Void(e.top,0),{x:t,y:n}):{x:0,y:0}},getInput:o,collapse:function(){var e=window.getSelection();e.rangeCount&&e.getRangeAt(0).collapse(!0)},setCaretPositionAfterTag:function(){var t=window.getSelection(),e=document.createRange();if(Browser.ieYn&&this.value)return e.move("character",this.value.length);{var n;e.setStart(t.focusNode,1),e.setEnd(t.focusNode,1),e.collapse(!1),t.removeAllRanges(),t.addRange(e),$(t.focusNode).parents("div.editable").focus(),Browser.chrome&&(n=/[ㄱ-힣ㅏ-ㅣ]/,setTimeout(function(){var e;n.test(t.focusNode.substringData(1,1))&&(e=OS.isWin?2:1,t.focusNode.deleteData(1,e))}))}},getCaretOffset:e,saveCaret:function(){return n={range:window.getSelection().getRangeAt(0).cloneRange(),offset:e(),focusElement:function(){var e=null,t=document.getSelection();t.focusNode&&t.focusNode.constructor===Text&&(e=t.focusNode);return e}(),inputObject:$(document.getSelection().focusNode).parents("div[contenteditable=true]"),inputLength:o().length}},loadCaret:function(){var e=document.getSelection();try{n.focusElement.constructor===Text&&(n.range.setStart(n.focusElement.nextSibling.nextSibling,1),n.range.collapse(!1),e.removeAllRanges(),e.addRange(n.range))}catch(e){console.error("error!",e)}n.inputObject.focus(),n=null},captureIndex:function(e){var t=window.getSelection();try{r=t.getRangeAt(0).cloneRange();var n,o=t.focusNode.data;try{fn_ElectronVersionCheck()&&Often.getClientOSInfo().isWin&&/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(o.charAt(o.length-1))&&(c=t.focusOffset+1)}catch(e){c=t.focusOffset}null!=o&&(n=o.substring(0,c),a=n.lastIndexOf(e)),s=t.focusNode}catch(e){}},isTextInput:function(e){return!(function(e){return KeyCheck.isKey(e,"SPACE_BAR")||KeyCheck.isKey(e,"BACK")||KeyCheck.isKey(e,"DELETE")}(e)||"Shift"===e.key||"Alt"===e.key||"Control"===e.key||"Meta"===e.key||"Fn"===e.key||"ScrollLock"===e.key||"NumLock"===e.key||"CapsLock"===e.key||KeyCheck.isKey(e,"ENTER")||KeyCheck.isKey(e,"TAB")||KeyCheck.isKey(e,"ESC")||KeyCheck.isKey(e,"UP")||KeyCheck.isKey(e,"RIGHT")||KeyCheck.isKey(e,"DOWN")||KeyCheck.isKey(e,"LEFT")||"End"===e.key||"Home"===e.key||"PageDown"===e.key||"PageUp"===e.key||"Clear"===e.key||"Insert"===e.key||"PrintScreen"===e.key||"Pause"===e.key||"Win"===e.key||"Apps"===e.key||"KanjiMode"===e.key||"KanaMode"===e.key||"Standby"===e.key)},setLastFocusNode:function(e){null!=(e=e||window.getSelection().focusNode)&&($(e).hasClass("js-hidden-component")||(t=e))},getLastFocusNode:function(){return t},initLastFocusNode:function(){t=""}};function i(e,t){var n;e&&((n=document.createRange()).setStart(e,t),(t=document.getSelection()).removeAllRanges(),t.addRange(n))}function u(){return{range:r,eraseStart:a,eraseEnd:c,node:s}}function e(){return window.getSelection().anchorOffset}function o(){var e=Often.null2Void(Often.null2Void(window.getSelection().focusNode).data);if(""===e)return"";for(var t,n=e.substring(0,window.getSelection().focusOffset+1).split(" ");0<n.length;)if(t=n.pop(),""!==Often.null2Void(t))return t;return""}}();
"use strict";var ClipBoard={getClipboardData:function(a){return a.clipboardData&&a.clipboardData.getData?a.clipboardData:a.originalEvent.dataTransfer&&a.originalEvent.dataTransfer.items?a.originalEvent.dataTransfer:(window.clipboardData&&window.clipboardData.getData?window:a.originalEvent).clipboardData},copyTextData:function(t){if(""!==(t=TagUtil.removeAllTag(TagUtil.NewLine2Data(t)))){t=$('<textarea style="position: absolute; top: -9999em;">'+t+"</textarea>");$("body").append(t),t.select();try{document.execCommand("copy"),Often.toast("success",i18next.t("front.alert.copiedToClipboard")),t.remove()}catch(a){Often.toast("error",i18next.t("front.alert.supportDevice")),t.remove()}}}};
"use strict";var Company=function(){var c={};return{initSetting:function(e){(function(e){var n=Often.null2Void(e.BUY_YN,"N"),t=Often.null2Void(e.STTS,"N"),o=Often.null2Void(e.GRC_DT,"7"),i=Number(Often.null2Void(e.USER_CNT,"1"));c.isBflow=0===_USE_INTT_ID.indexOf("BFLOW_"),c.isUtlz=0===_USE_INTT_ID.indexOf("UTLZ_"),c.isFlow=0===_USE_INTT_ID.indexOf("FLOW_"),c.isGoogle=0===_USE_INTT_ID.indexOf("GMAIL_"),c.isAvailableService="Y"===Often.null2Void(e.USE_YN,"Y"),c.isManager="Y"===Often.null2Void(e.MNGR_DSNC,"N"),c.isDailyOnce=Often.isServerModeByHost("DEV_TEST")||"Y"===Often.null2Void(e.DAILY_INIT_YN,"N"),c.isDvsnTree="Y"===Often.null2Void(e.DVSN_TREE_YN,"N"),c.isCardBanner="Y"===Often.null2Void(e.CARD_BANNER_YN,"N"),c.isSerp="Y"===Often.null2Void(e.SERP_YN,"N"),c.buyCode=n,c.statusCode=t,c.remainDate=o,c.userCnt=i,LocalUtil.setLocalJson("ONLY_COMPANY_JSON",c),SentryMonitor.setExtra("COMPANY_INFO",c)})(e),function(){var e=i18next.t("front.common.version",{val:"$t("+function(){var e=c.statusCode===StatusCode.UN_BFLOW.GUEST||c.isSerp&&c.isCardBanner,n=c.buyCode===BuyCode.FREELANCER;return ServerChecker.isKtWorks?KtWorks.get("VERSION_NAME"):ServerChecker.isKyungrinara?Kyungrinara.getVersionName(e):e?"dictionary.guest":n?"dictionary.freelance":"front.common.businessBasic"}()+")"});$("#versionTab").find(".js-business-nm").text(e),$("#mySettingPopup").find("#version").text(e),$("#acconutModal").find(".js-version").text(e),Electron.isElectronApp()&&(Electron.getElectronConfig().b_fullMode||$("#logoutBtn").css("display","none"),$("#prevVersionBtn, #miniOpenBtn, #desktopDownloadBtn").css("display","none"))}(),function(){var e,n=c.buyCode===BuyCode.PAID_COMPANY,t=c.buyCode===BuyCode.FREELANCER,o={open:n,"service-upgrade":!n&&!t,"manager-admin":c.isManager&&(c.isBflow||c.isUtlz||"Y"===_ENTER_YN),"invite-member":c.isManager&&c.isBflow},i={organizationTopButton:c.isDvsnTree},s={upgradeBanner:c.statusCode===StatusCode.UN_BFLOW.GUEST,companyParticipationBtn:c.statusCode===StatusCode.UN_BFLOW.GUEST&&(c.isFlow||c.isGoogle),paymentLeftMenu:c.buyCode===BuyCode.FREELANCER,leaveFlowBtn:c.statusCode===StatusCode.UN_BFLOW.GUEST||c.buyCode===BuyCode.FREELANCER,passwordArea:c.isUtlz||c.isFlow||c.isBflow,bizplayPasswordInput:c.isUtlz,normalPasswordInput:!c.isUtlz},a={"open-yn":c.buyCode===BuyCode.PAID_COMPANY},r=$("#leftArea"),l=$("#rightTopMenu"),u=$("#mySettingPopup"),d=$("#projectMakeLayer");for(e in o)r.find("[data-code="+e+"]").css("display",o[e]?"block":"none");0===r.find("#leftBottomUl").find(".left-menu-item:visible").length&&r.find("#leftBottomUl").css("display","none");for(e in i)l.find("#"+e).css("display",i[e]?"inline-block":"none");for(e in s)u.find("#"+e).css("display",s[e]?"block":"none");for(e in a)d.find("."+e).css("display",a[e]?"block":"none")}(),function(){Often.isFunc(Func.CLOUD.VOUCHER_BANNER)&&c.buyCode!==BuyCode.PAID_COMPANY&&(c.buyCode,BuyCode.FREELANCER);c.isCardBanner&&!_IsMini&&Top.setBanner("end-time")}(),n()},getEndTimeComment:s,drawServiceBlock:i,controlPopup:n,test:function(){i(BLOCK_TYPE.SERVICE_ADMIN,o,t),$("#tempPopup").addClass("serviceStop")}};function n(){var e,n;if(!$("#paymentLayer").is(":visible"))return c.statusCode===StatusCode.BFLOW.REMAIN_WEEK&&c.isManager&&c.isDailyOnce?(e=c.remainDate,n=$.extend({},BLOCK_TYPE.EXPERIENCE),-1<Number(e)&&(n.title=s(e)),void i(n,o)):c.statusCode===StatusCode.BFLOW.END_ADMIN?(i(BLOCK_TYPE.SERVICE_ADMIN,o,t),void $("#tempPopup").addClass("serviceStop")):c.statusCode===StatusCode.BFLOW.END_USER?(Often.logoutDirect(!0),i(BLOCK_TYPE.SERVICE_USER,Often.logoutDirect,t),void $("#tempPopup").addClass("serviceStop")):c.isAvailableService?void("R"!==c.statusCode&&(n="Y"===Often.null2Void(Often.getCookie("FIRST_INVITE_POPUP"),"N"),!c.isManager||1!==c.userCnt||n||_IsMini||InviteEmployee.openInviteEmployeeLayer(!0))):(Often.logoutDirect(!0),void(ServerChecker.isEland?i($.extend({},BLOCK_TYPE.USE,{main:i18next.t("front.alert.contact",{val:"ITHELP@ELAND.CO.KR"})})):Often.isFunc(Func.CLOUD.RESTRICT_POPUP_MANAGER)?Ajax.executeApi(RestApi.GET.COLABO2_MNGR_R001,{},function(e){var t="";e.MNGR_REC&&$.each(e.MNGR_REC,function(e,n){0<e&&(t+=", "),""!==Often.null2Void(n.USER_NM,"")&&(t+=i18next.t("front.common.user",{user:n.USER_NM}))}),i($.extend({},BLOCK_TYPE.USE,{main:i18next.t("front.alert.askToAdmin",{val:t})}))}):(i(BLOCK_TYPE.USE,t,t),$("#tempPopup").addClass("serviceStop"))))}function t(){confirm(i18next.t("front.alert.redirectLogin"))&&Often.logoutDirect()}function o(){Electron.isElectronApp()?Electron.openElectronProject(Often.getLocOrigin()+"/main.act","paymentPage"):Payment.openPaymentLayer("business")}function i(e,n,t){_IsMini||PopupDraw.closePopup(),PopupDraw.drawBlock({await:!0,class:e===BLOCK_TYPE.STOP_FLOWNEW?"invite":"service",contents:e,callback:{submit:n,close:t,final:function(e){e.css("z-index","100000")}}})}function s(e){return Number(e)<0?i18next.t("front.alert.trialEnd",{version:"$t(front.common.businessBasic)"}):i18next.t("front.alert.trialExpiredDate",{version:"$t(front.common.businessBasic)",count:e})}}();
"use strict";var SignCode={TYPE:{NORMAL:"1",KAKAO:"2",GOOGLE:"3",APPLE:"11"},ENCRYPT:{SIMPLE:"Y",SERVER_TIME_CHECK:"YC"},ERROR:{NO_PROBLEM:"0000",PASSWORD_ERROR:"1000",ACCOUNT_LOCKED:"1002",ID_ERROR:"3002",NOT_EXISTS_ID:"2000",NOT_EXISTS_DOMAIN:"5001",WAIT_JOIN:"4001",REJECT_JOIN:"4006",BIZPLAY_PASSWORD_ERROR:"5510"}},ParticipantCode={MANAGER:"M",INNER:"I",OUTER:"O",_ID:["RQST_USER_ID","ATTENDENCE_ID","WORKER_ID"],_NAME:["RQST_USER_NM","ATTENDENCE_NM","WORKER_NM"]},TaskCode={OPTION:{_TEXT:["dictionary.number","dictionary.status","front.common.priority","front.common.taskTitle","front.common.progressAsNoun","dictionary.manager","dictionary.author","dictionary.from","dictionary.to","front.common.registeredDate","front.common.editDate"],_ITEM:["Nomal","Status","Priority","Title","Progress","Worker","Nomal","Nomal","Nomal","Nomal","Nomal"],_REPLACE:["TASK_NUM","","","TASK_NM","","","RGSR_NM","START_DT","END_DT","RGSN_DT","EDTR_DT"],_SORT:["TASK_NUM","STTS","PRIORITY","TASK_NM","PROGRESS","WORKER_NM","RGSR_NM","START_DT","END_DT","RGSN_DT","EDTR_DT"],_COLUMN_REC:[],_GB:["request","progress","completion","hold","feedback"],_GB_NM:["dictionary.request","dictionary.progress","dictionary.complete","dictionary.hold","dictionary.feedback"]}},ScheduleCode={HOLIDAY:"H",GENERAL:"G",TASK:"T",STATUS:{_GB:["participate","absence","undetermined"],_TEXT:["dictionary.attend","dictionary.notAttend","dictionary.maybeAttend"]}},DetailCode={WRITE1:"0",WRITE:"1",TODO:"2",SCHEDULE:"3",TASK:"4",POST:{_NUMBER:[0,1,2,3,4],_GB:["write","write2","todo","schedule","task"],_TEXT:["dictionary.article","dictionary.article","dictionary.todo","dictionary.schedule","dictionary.task"]},STATUS:{_NUMBER:[0,1,2,3,4],_GB:["request","progress","completion","hold","feedback"],_TEXT:["dictionary.request","dictionary.progress","dictionary.complete","dictionary.hold","dictionary.feedback"]},PRIORITY:{_NUMBER:[0,1,2,3],_GB:["low","normal","high","argent"],_TEXT:["dictionary.low","dictionary.normal","dictionary.high","dictionary.argent"],_ALL_TEXT:["dictionary.low","dictionary.normal","dictionary.high","dictionary.argent","dictionary.none"],_CLASS:["lv1","lv2","lv3","lv4"]},EMOJI:{_NUMBER:[0,1,2,3,4],_GB:["like","please","sad","great","thank"],_TEXT:["dictionary.like","dictionary.please","dictionary.oops","dictionary.awesome","dictionary.thanks"]},SHARE_POST:{CODE:"SHARE_POST",TEXT:"front.common.selectProject"},WRITE_ANYWHERE:{CODE:"WRITE_ANYWHERE",TEXT:"게시물 작성 중 프로젝트 선택"}},taskStatusCode={REQUEST:0,PROGRESS:1,COMPLETION:2,HOLD:3,FEEDBACK:4},SocketAPI={COMM:{LOGOUT:"LOGOUT0001",TEMP_LOGOUT:"LOGOUT0002",OVERLAP_LOGOUT:"OVERLAPLOGOUT0001",MOUSE_MOVE:"MOUSEMOVE0001",POPUP_CLOSE:"POPUP0001"},MAIN:{FOCUS_IN:"FOCUS_IN",FOCUS_OUT:"FOCUS_OUT",BADGE_UPDATE:"USER0000",CHAT_UPDATE:"USER0001",ROOM_NAME_UPDATE:"USER0002",ALARM_N_PIN_UPDATE:"USER0003",ROOM_LEAVE:"USER0004",READ_ALL_MESSAGE_BY_ROOM:"USER0005",ROOM_FOCUS:"USER0006",DELETE_MESSAGE_ALL_VIEW:"USER0007",DELETE_MESSAGE_MY_VIEW:"USER0008",CHANGE_STATE:"USE_INTT_ID_0001",FLOW_DRIVE_FILE_IMPORT:"USER0019",BADGE_SELF_UPDATE:"BADGE_SELF"},MESSENGER:{CONNECT:"INNER_CONNECT",MESSAGE_UPDATE:"CHAT0001",READ_UPDATE:"CHAT0002",JOIN_N_LEAVE:"CHAT0003",ROOM_NAME_UPDATE:"CHAT0004",ROOM_NAME_UPDATE_SELF:"CHAT0013",ALARM_N_PIN_UPDATE:"CHAT0005",DELETE_MESSAGE_ALL_VIEW:"CHAT0007",DELETE_MESSAGE_MY_VIEW:"CHAT0008",PREVIEW:"CHAT0009",NOTICE:"CHAT0010",NOTICE_STATUS_UPDATE:"CHAT0011"},CONNECT:{MESSENGER:{FILE:"MESSENGER_FILE",CREATE:"MESSENGER_CREATE"},INVITE:{FAVORITE:"INVITE_FAVORITE"}}},RoomType={PROJECT:"3",MULTI:"2",ONE_TO_ONE:"1",SELF:"0"},InviteType={SENDIENCE:"sendience",ALLSENDIENCE:"all-sendience",TEAM:"team",NEWCHAT:"NEW_CHAT",INVITECHAT:"INVITE_CHAT",FAVORITE:"favorite",CONTACT:"contact"},MiniFavoriteData={DefaultGroup:"3"},OftenCode={PREV:"P",NEXT:"N",EQUAL:"E",MORE:"M",CREATE:"C",EDIT:"E",DELETE:"D"},BuyCode={PAID_COMPANY:"Y",FREELANCER:"P",FREE:"N"},LogoutCode={STOP:"S",LOCK:""},StatusCode={NO_LIMIT:"S",BFLOW:{END_ADMIN:"E2",END_USER:"E3",REMAIN_WEEK:"P1",NO_LIMIT:"S"},ENTER:"S",UN_BFLOW:{MULTI:{REMAIN_USER:"P",END_USER:"R"},GUEST:"F",NO_LIMIT:"S"}},BLOCK_TYPE={SERVICE_ADMIN:{title:"front.alert.serviceUserTitle",main:"front.alert.serviceAdminMain",submit:"front.alert.serviceAdminSubmit"},SERVICE_USER:{title:"front.alert.serviceUserTitle",main:"front.common.alertAskAdmin",submit:"dictionary.logout"},USE:{title:"front.alert.serviceUserTitle",main:"front.common.alertAskAdmin"},EXPERIENCE:{title:"front.alert.experienceTitle",main:"front.alert.experienceMain",submit:"front.alert.experienceSubmit"},DATA10:{title:"front.alert.data10Title",main:"front.alert.data10Main",submit:"front.common.upgradeService"},PROJECT:{title:"front.alert.projcetMakeTitle",main:"front.alert.projectMakeMain",submit:"front.common.upgradeService"},INVITE:{title:"front.InviteProject.inviteCompanyMember",main:"front.alert.inviteMain",submit:"front.common.upgradeService"},SEARCH:{title:"front.common.chatSearch",main:"front.alert.chatSearchMain",submit:"front.common.upgradeService"},SECRET:{title:"front.common.chatSecret",main:"front.alert.chatSecretMain",submit:"front.common.upgradeService"},VIDEO:{title:"front.alert.videoConferenceTitle",main:"front.alert.videoConferenceMain",submit:"front.common.upgradeService"},AUTHENTICATION:{title:"front.common.videoConference",main:"front.common.noAuth",submit:"dictionary.confirm"},COLLECT:{title:"dictionary.content",main:"front.alert.listViewMain",submit:"front.common.upgradeService"},SUBTASK:{title:"front.common.writeSubTasks",main:"front.alert.subtaskMain",submit:"front.common.upgradeService"},FLOWDRIVE:{title:"front.alert.flowDriveTitle",main:"front.alert.flowFileMain",submit:"front.common.upgradeService"},DATA500:{title:"front.alert.storageFullTitle",main:"front.alert.storageFullMain",submit:"front.common.upgradeService"},POST:{title:"front.postAccessLimitTitle",main:"front.postAccessLimitMain",submit:"front.common.upgradeService"},TIMELINE:{title:"dictionary.ganttChart",main:"front.alert.timeLineMain",submit:"front.common.upgradeService"},ZOOM_CONNECT:{title:"front.alert.videoConferenceTitle",main:"Zoom을 연동하여 플로우에서\n 화상회의 서비스를 이용해 보세요!",submit:"dictionary.connect",link_text:"Zoom 무료가입 및 이용방법 안내"},DATA50:{title:"1회 업로드 용량 초과(50MB)",main:"front.alert.data10Main",submit:"front.common.upgradeService"},STOP_FLOWNEW:{title:"PC 앱 정식 버전 출시",main:"테스트 버전 지원 종료로 \n정식 버전 이용 부탁드립니다.",submit:"PC 앱 다운로드"}},searchMode={TOTAL:"total",PROJECT:"project",POST:"post",FILE:"file",TASK:"task",SCHD:"schedule"},searchAreaCode={IN_TONG:"IN_TONG",IN_PROJECT:"IN_PROJECT",IN_TASK:"IN_TASK",IN_FILE:"IN_FILE",IN_POSTS:"IN_POSTS"},MessageType={INFO:"A",INVITE:"A_INVITE",NOTIFICATION:"U",NEW:"D",DELETE:"X",CHANGED:"C",IMAGE:"I",FILE:"F",EMOTI:"E",GENERAL:""},SendienceGb={INNER:"1",OUTER:"2",MANAGER:"3"},loadMode={UP_SCROLL:"P",DOWN_SCROLL:"N",FIRST_LOAD:"I",EQUAL_LOAD:"E",FIRST_OVER_LOAD:"FIRST_OVER_LOAD",SEARCH_LOAD:"SP"},JoinStatus={APPLY_JOIN:1,REJECT_JOIN:2,REQUEST_JOIN:3,DELETE_JOIN_LOG:4,APPLY_JOIN_2:5,REJECT_JOIN_2:6,CANCEL_REQUEST_JOIN:7},noticeCode={DEFAULT:"D",FOLD:"F",MINI:"M",NONE:"N"},ELECTRON_OPEN={CHAT:"C",PROJECT:"P",FILE:"F",INVITE:"I"},UpdateElementsTarget={POPUP:{ID:"#postPopup #post-",TITLE_CLASS:"js-post-title post-title ",STATUS_CLASS:"js-task-state state-button-group clearfix "},CARD:{ID:"#detailUl #post-",TITLE_CLASS:"js-post-title post-title ",STATUS_CLASS:"js-task-state state-button-group clearfix "},LIST:{ID:"#detailUl #post-",TITLE_CLASS:"js-post-title fixed-text ",STATUS_CLASS:"js-task-state state "},PIN:{ID:"#pinPostUl #pin-",TITLE_CLASS:"js-post-title fixed-text ",STATUS_CLASS:"js-task-state js-todo-state state  "},TASK:{ID:".js-all-task-ul:visible #allTask-",TITLE_CLASS:"",STATUS_CLASS:"js-task-state task-state "},ALLPOSTS:{ID:"#myPostContentUl:visible #allPosts-",TITLE_CLASS:"",STATUS_CLASS:"js-task-state state "},SUBTASK:{ID:"#subtask-",STATUS_CLASS:"js-subtask-status-button js-task-state subtask-button subtask-status "}},ProfileState={ONLINE:"online",OUT:"out",BUSINESS:"business",OFFLINE:"offline"},FlowServiceHelper={ZOOM:"https://support.flow.team/hc/ko/articles/4404603293197",SENDIENCE:"https://support.flow.team/hc/ko/articles/4403686292877",PUSH_SETTING:"https://support.flow.team/hc/ko/articles/216566367",ALARM_SETTING:"https://support.flow.team/hc/ko/articles/360021715712",NOTIFICATION:"https://support.flow.team/hc/ko/articles/4404185955981",CREATE_PROJECT:"https://support.flow.team/hc/ko/articles/4403611187085",CREATE_PROJECT_OPTION:"https://support.flow.team/hc/ko/articles/4404585678861"},INVITEGB={PERSON:"U",DVSN:"ED"},TINY_URL_MOVE={POST:-9};
"use strict";var DocumentEvent=function(){var r=!1;return{addEvent:function(){$(document).on({keydown:n,mousedown:u,mouseover:t,mousemove:t,mouseout:t,paste:o,scroll:Participant.adjustPosition,dragenter:PasteFile.onUploadAreaDragEnterEvent,dragover:PasteFile.onDimdAreaDragOverEvent,drop:PasteFile.onDropEvent})},addEventOnMessenger:function(){$(document).on({keydown:i,mousedown:a}),Often.isFunc(Func.CLOUD.MESSENGER_TOOLTIP)&&$(document).on({mouseover:t,mousemove:t,mouseout:t})},addEventOnMini:function(){$(document).on({mousedown:l,keydown:c}),Often.isFunc(Func.CLOUD.MINI_TOOLTIP)&&$(document).on({mouseover:t,mousemove:t,mouseout:t});$(window).resize(p)},closeAllPopup:function(e,o){var t,i={"#tempPopup.flow-all-background-1":PopupDraw.closePopup,"#readCheckPopup.flow-all-background-1":function(e){e.remove()},"#reactionCheckPopup.flow-all-background-1":ReactionCheck.closePopup,"#postPopup.flow-all-background-1":function(){o||PostPopup.removePopup()},"#projectMakeLayer.flow-all-background-1":ProjectMake.closePopup,"#mySettingPopup.flow-all-background-1":MySettings.closePopup,"#allSendiencePopup.flow-all-background-1":AllSendience.closeAllSendiencePopup};e&&(i.organizationLayer=Organization.closeLayer,i.alarmLayer=Alarm.closeLayer,i.chattingLayer=Chatting.closeLayer);for(t in i){var n=$(t+":visible");0<n.length&&i[t](n)}},closeStepByStep:y};function o(e){PasteFile.onUploadAreaPasteEvent(e),PasteText.pasteTextEvent(e)}function t(e){var o=$(e.target);"mouseover"===e.type&&Tooltip.isDrawToolTipAndAction(o),"mouseout"===e.type&&Tooltip.isRemoveToolTipAndAction(o),"mousemove"===e.type&&(Tooltip.isMoveToolTipAndAction(o),PasteFile.hideDimd(o))}function i(e){if((e.ctrlKey||e.metaKey)&&KeyCheck.isKey(e,"F"))return e.preventDefault(),void MessengerSearch.openSearchLayer();if(KeyCheck.isKey(e,"ESC")){var o=$(".flow-all-background-1");return o.is(":visible")?o.trigger("click"):($(document).trigger("mousedown"),MessengerEvent.closeNonActiveLayer()?void 0:void window.close())}if(KeyCheck.isKey(e,"ENTER")){if($("#messengerSearchLayer").is(":visible"))return MessengerSearch.searchMessage();e=$(".js-file-send");return e.is(":visible")?e.find(".submit-event").trigger("click"):void 0}}function n(e){if(r=!1,KeyCheck.isKey(e,"RELOAD_WINDOW")&&Electron.isElectronApp())location.reload();else{if(e.ctrlKey){if(KeyCheck.isKey(e,"SPACE_BAR")&&!Often.isBrowser("mac"))return e.preventDefault(),SearchEvent.clickTopSearchBar(e);if(Electron.isElectronApp())return KeyCheck.isKey(e,"RELOAD_WINDOW")&&!Often.isBrowser("mac")&&window.location.reload(!0),void(KeyCheck.isKey(e,"RELOAD_MAC")&&KeyCheck.isKey(e,"SHIFT")&&Often.isBrowser("mac")&&window.location.reload(!0))}if(e.altKey){var o=$("#searchPopupLayer"),t=e.key.toUpperCase();if(o.is(":visible"))return"P"===t&&o.find(".js-search-section[data-code=project]").trigger("click"),"W"===t&&o.find(".js-search-section[data-code=post]").trigger("click"),"F"===t&&o.find(".js-search-section[data-code=file]").trigger("click"),void e.preventDefault();if("N"===t)return e.preventDefault(),$("#projectMakeButton").trigger("click");if(ViewChanger.isPage("detail")&&("1"===t||"2"===t||"3"===t||"4"===t)){e.preventDefault();return PostPopup.openRegistrationViewOnAnywhere(DetailCode[{1:"WRITE",2:"TASK",3:"SCHEDULE",4:"TODO"}[t]])}}if(KeyCheck.isKey(e,"ESC"))return y()?void 0:($(document).trigger("mousedown"),r?void 0:void(ViewChanger.isPage("search")&&ViewChanger.loadPage("skip")));var i,t=$(e.target),t=t.is("input")||t.is("textarea")||t.is("[contenteditable=true]");KeyCheck.isKey(e,"BACK")&&!t&&history.back(),!KeyCheck.isArrowVertical(e)&&!KeyCheck.isKey(e,"ENTER")||(i=(t=$("#chattingUl")).is(":visible")?"CHAT":i)&&(e.preventDefault(),i=_IsMini?$("#miniSearchInput"):$("#chattingSearchInput"),KeyCheck.isKey(e,"DOWN")&&ListEvent.arrowDownOnList("CHAT",i,t),KeyCheck.isKey(e,"UP")&&ListEvent.arrowUpOnList("CHAT",i,t),KeyCheck.isKey(e,"ENTER")&&ListEvent.enterOnList("CHAT",i,t))}}function a(e){var o,t,i=$(e.target),n={},r={"emoti-section":MessengerEmoti.closeEmotiListLayer,"message-more":MessengerMore.closeAllMorePop,"chat-files":MessengerEvent.closeFilePop,"secret-timer":MessengerSecret.closeSecretTimePop};for(o in n)g(i,o,n[o]);for(t in r)d(i,t,r[t])}function l(e){var o,t,i=$(e.target),n={organization:Organization.closeLayer,chatting:Chatting.closeLayer,alarm:Alarm.closeLayer,alarmSearchFilter:Alarm.closeAlarmSearchFilter},r={setting:Detail.closeSettingUl};for(o in n)g(i,o,n[o]);for(t in r)d(i,t,r[t])}function c(e){var o;if($("#miniLock").is(":visible"))return s;(KeyCheck.isArrowVertical(e)||KeyCheck.isKey(e,"ENTER"))&&(o=$("#miniChatting").is(":visible")?"CHAT":o)&&(e.preventDefault(),KeyCheck.isKey(e,"DOWN")&&ListEvent.arrowDownOnList(o,$("#miniSearchInput"),$("#chattingUl")),KeyCheck.isKey(e,"UP")&&ListEvent.arrowUpOnList(o,$("#miniSearchInput"),$("#chattingUl")),KeyCheck.isKey(e,"ENTER")&&ListEvent.enterOnList(o,$("#miniSearchInput"),$("#chattingUl")))}function s(){e.ctrlKey&&(KeyCheck.isKey(e,"RELOAD_WINDOW")&&!Often.isBrowser("mac")||KeyCheck.isKey(e,"RELOAD_MAC")&&Often.isBrowser("mac"))&&e.preventDefault(),KeyCheck.isKey(e,"RELOAD_WINDOW")&&e.preventDefault()}function p(e){var o=$("#miniOrganization").innerHeight()-$("#emplArea").innerHeight();$("#organizationChart").parent().css({height:o})}function u(e){var o=$(e.target),t=0<o.parents("#rightTopMenu").length,e=$("#postPopup:visible").hasClass("flow-all-background-1");if(!(!t&&e||0<o.findUp("#tempPopup").length)){var i,n,r={organization:Organization.closeLayer,chatting:Chatting.closeLayer,alarm:Alarm.closeLayer,account:Top.closeacconutModal,helpCenter:Top.closeHelpCenterLayer,detailSetting:DetailSetting.closeDetailSettingLayer,alarmSearchFilter:Alarm.closeAlarmSearchFilter,searchPopup:Search.closeTopSearchPopup,allPostsDetailSearch:AllPosts.closeAllPostsDetailSearchLayer,projectDetailSearch:ProjectSearch.closeProjectDetailSearchLayer,joinProject:JoinProject.closeJoinProjectBar,electronReload:ElectronEvent.closeReloadLayer},a={"bottom-quick":QuickGuide.closeQuickGuide,"label-setting":AllLabel.clearLayer,"project-order":ProjectSetting.clearOrderPopup,"emoji-select":ItemReaction.closeAllReactionPopup,"task-bundle":AllTask.closeBundleLayer,"alltask-setting":AllTask.closeSettingLayer,setting:Detail.closeSettingUl,"file-menu":FileMenu.removeFileMenu,"popup-menu":FileMenu.removeFileMenu,"feed-filter":Detail.closeFeedFilter,"project-more":Left.closeProjectMorePopup,"invite-employee":InviteEmployee.closeInviteEmployeeLayer,"all-posts-filter":AllPosts.closeAllPostsFilter,worker:WorkerPopup.closeWorkerPopup,mention:Mention.clearMention,hashtag:HashTag.clearHashTag,"task-detail-search":TaskSearch.closeDetailSearchLayer,"file-detail-search":FileSearch.closeDetailSearchLayer,"status-setting":ItemSubtask.closeSubtaskPopup,"priority-setting":ItemSubtask.closeSubtaskPopup};for(i in r){if(-1<i.indexOf("electron")&&!Electron.isElectronApp())break;g(o,i,r[i])}for(n in a)d(o,n,a[n])}}function g(e,o,t){var i=e.findUp("#"+o+"Layer"),n=e.findUp("#"+o+"TopButton");0<i.length||0<n.length||!$("#"+o+"Layer").is(":visible")||(t(e),r=!0)}function d(e,o,t){var i=e.findUp(".js-"+o+"-layer"),n=e.findUp(".js-"+o+"-button");0<i.length||0<n.length||!$(".js-"+o+"-layer").is(":visible")||(t(e),r=!0)}function y(){var e=$(".flatpickr-calendar");if(e.is(":visible"))return e.remove(),!0;var o,t={"#tempPopup.flow-all-background-1":PopupDraw.closePopup,"#readCheckPopup.flow-all-background-1":function(e){e.remove()},"#reactionCheckPopup.flow-all-background-1":ReactionCheck.closePopup,"#requestJoinPopup.flow-all-background-1":RequestJoin.closeRequestJoinPopup,"#confirmationPopup.flow-all-background-1":ItemSchedule.closeAttendancePopup,"#mySettingPopup.flow-all-background-1":MySettings.closePopup,"#sortSettingPopup.flow-all-background-1":TaskSort.closeSortPopup,"#teamInviteLayer.name-type-seach-popup-type-1":InviteProject.backInviteMain,"#teamInviteLayer":InvitationPopup.closePopupLayout,"#sendInviteEmlLayer.name-type-seach-popup-type-1":InviteProject.backInviteMain,"#inviteLayer.flow-all-background-1":InviteProject.closeInvite,"#mainInvitePopup.flow-all-background-1":InvitePopup.clearInvitePopup,"#allSendiencePopup.flow-all-background-1":AllSendience.closeAllSendiencePopup,"#projectMakeLayer.flow-all-background-1":function(){ProjectMake.checkWritingMakePopup(ProjectMake.closePopup)},"#postPopup":function(){PostPopup.checkWritingAndShowPopup(PostPopup.removePopup)}},i=!0;for(o in t){var n=$(o+":visible");0<n.length&&i&&(t[o](n),i=!1)}return!i}}();
"use strict";var DocViewer={openDocViewer:function(e){if(!e||0===e.length)return!1;var i=e[0];FileUtil.checkFileOnServer(e,"DOC-VIEWER",function(e){var t=i.RAND_KEY+"_"+i.ATCH_SRNO,n=Often.null2Void(e[0],{}),r=Often.null2Void(n.VIEWER_URL);if(""===r||"null"===r)return Often.toast("error",n.ERR_MSG);e=function(e){var t=e.indexOf("/FLOW_DOWNLOAD_R001.act"),n=Often.getLocOrigin(),r=-1<n.indexOf("localhost");if(-1===t)return e;return r?"http://localhost:8080"+e.substr(t):n+"/"+e.substr(t)}(n.FILE_PATH),n=Often.null2Void(n.FILE_DOWN_URL);Often.submitForm("viewer_form",r,t,$.extend(""===n?{}:{downloadUrl:n},{fid:t,filePath:e,fileName:FileUtil.getFileName(i),userId:_USER_ID}))})}};
"use strict";var Electron=function(){return{getVersion:function(){return LocalUtil.getLocal("ONLY_ELECTRON_VER")},isElectronApp:e,initSetting:function(t){if(function(){try{var t=Often.null2Void(fn_ElectronVersionCheck(),"1_1_7");return LocalUtil.setLocal("ONLY_ELECTRON_VER",t),LocalUtil.setLocal("ONLY_ELECTRON_YN","Y"),!0}catch(t){return!1}}()){var e=Often.getCookie("MINI_USER_ID");if(""!==e&&($("#userId").val(e),$("#password").focus()),"Y"!==Often.getCookie("2.1.1")){Often.setCookie("2.1.1","Y",360);try{autoUpdateOnForElectron()}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}}Often.isMessenger()||o({logoutMenuVisible:t,lockMenuVisible:t&&-1===_USE_INTT_ID.indexOf("KAKAO")&&-1===_USE_INTT_ID.indexOf("APPLE")&&-1===_USE_INTT_ID.indexOf("GMAIL"),windowModeVisible:t,serverMenuVisible:ServerChecker.isMadras||Often.isServerModeByHost("DEV_TEST")}),(ServerChecker.isSeco||ServerChecker.isZoomok)&&$("body").off("mouseenter mouseleave mousedown keypress").on("mouseenter mouseleave mousedown keypress",function(){MiniLock.setLockState(!0)})}else LocalUtil.setLocal("ONLY_ELECTRON_YN","N"),LocalUtil.removeLocal("ONLY_ELECTRON_VER")},logout:function(t){_IsMini&&location.replace(Often.null2Void(t.REDIRECT_URI,"/miniSignIn.act")),fn_logoutForElectron(),o({logoutMenuVisible:!1,lockMenuVisible:!1,windowModeVisible:!1})},focusBrowser:function(){try{fn_browserFocusForElectron()}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},getElectronConfig:function(){try{return fn_getConfigsForElectron()}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},getElectronName:t,openWindow:function(t,e,o,n,r,i){try{fn_windowOpenForElectron(t,e,o,n,r,i)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},openGoogleSignIn:function(t,e){var o=window.screenLeft+($(window).width()-600)/2,n=window.screenTop+($(window).height()-600)/2;try{fn_openGoogleSignInForElectron(t,e,600,600,o,n)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},openElectronMessenger:function(t,e,o,n,r,i){try{fn_chatOpenForElectron(t,e,o,n,r,i)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},openElectronProject:function(t,e,o,n,r,i,c){try{fn_openProjectForElectron(t,e,o,n,r,i,c)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},openGoogleDrivePost:function(t){try{fn_googleDrivePostForElectron(t)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain")),window.close()}},openMiniSettingMenu:function(){try{fn_openContextMenuForElectron("set")}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},openExternalLinkforElectron:function(e,o){try{fn_openExternalLinkforElectron(e)}catch(t){window.open(e,o)}},openExternalLink:function(t){try{fn_openExternalLinkforElectron(t)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},openDropbox:function(){try{var t="undefined"!=typeof _ROOM_SRNO;openDesktopDropbox(t?_ROOM_SRNO:"")}catch(t){}},setWindowState:function(t){try{fn_openContextMenuForElectron(t)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},setWindowMinSize:function(t,e,o){try{windowMinResizeForElectron(t,e,o)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},setWindowSize:function(t,e,o,n,r){try{popupResizeForElectron(t,e,o,n,r)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},downloadFile:function(t,e,o){try{fn_fileDownloadForElectron(t,e,o)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},downloadFileForChat:function(t,e,o,n){try{fn_chatFileDownloadForElectron(t,e,o,n)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},changeProjectWindowView:function(t,e,o){t&&ViewChanger.loadPageJson({code:"detail",first:t});e&&PostPopup.togglePostView(t,e,o,null,!0)},electronSettingChangeDetection:function(t){LocalUtil.setLocalValue("ONLY_USER_SETTING","LOCK_MODE_MIN",t[4].val),LockControl.initSetting()},powerMonitorResume:function(){SocketControl.getSocket().connected&&location.reload();Chatting.drawTopNotReadCount(),MiniLeft.setProjectBadgeCount(),MiniState.updateUserStateData(ProfileState.ONLINE),SocketControl.isDisconnectAndConnect("powerMonitorResume",{},function(){MiniState.sendStatusSocket(ProfileState.ONLINE)}),$("#miniChatting").is(":visible")?MiniLeft.movePage("Chatting")&&MiniLeft.setSearchMode("Chatting"):$("#miniProject").is(":visible")&&MiniLeft.movePage("Project")&&MiniLeft.setSearchMode("Project")},powerMonitorOffline:function(){MiniState.sendStatusSocket(ProfileState.OFFLINE),MiniState.updateUserStateData(ProfileState.OFFLINE)},powerMonitorUnlock:function(){Chatting.drawTopNotReadCount(),MiniLeft.setProjectBadgeCount(),MiniState.sendStatusSocket(ProfileState.ONLINE),MiniState.updateUserStateData(ProfileState.ONLINE)},showNoti:function(t){try{fn_browserNotificationForElectron(t&&"noti_post"!==t?"POPUP_CHAT_"+t:"MAIN")}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},hideNoti:function(t){try{fn_browserNotificationOffForElectron(t?"POPUP_CHAT_"+t:"MAIN")}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},showDenyNoti:function(t){try{"denied"===Notification.permission&&fn_browserCustomNotificationForElectron("cnpl",t)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},showModalMenu:function(t,e,o){try{fn_showModalMenuForElectron(t,e,o)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},lockScreen:function(){try{fn_lockScreenOnForElectron()}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},unLockScreen:function(){try{fn_lockScreenShowForElectron()}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},getLockSettingValue:function(t){try{return fn_lockScreenSettingStateForElectron(t)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}},showVersionLimit:function(){e()&&Often.isFunc(Func.CLOUD.STOP_FLOWNEW)&&-1<t().indexOf("new")&&(Company.drawServiceBlock(BLOCK_TYPE.STOP_FLOWNEW,function(){DownloadApp.desktopDownload(),window.close()},""),$("#tempPopup").addClass("serviceStop"))}};function t(){try{return fn_ElectronNameCheck()}catch(t){}}function e(){return"Y"===LocalUtil.getElectronYn()}function o(t){try{var e=$.extend({},{code:"MENU0001",userId:Often.null2Void(_USER_ID,"")},t);fn_sendValueForElectron(e)}catch(t){Often.toast("error",i18next.t("front.alert.errorTryAgain"))}}}();
"use strict";var ElectronEvent={clickNaviBar:function(e){!function(){var o=e.closest(".js-history-back");return 0!==o.length&&(o.find("i").hasClass("on")&&history.go(-1),!0)}()&&(function(){var o=e.closest(".js-history-forward");return 0!==o.length&&(o.find("i").hasClass("on")&&history.go(1),!0)}()||(0===e.closest(".js-reload-btn").length?function(){var o=e.closest(".js-reload-menu");if(0===o.length)return;o=o.attr("data-code");"reload"===o?window.location.reload():"reload-force"===o&&window.location.reload(!0)}():window.location.reload(!0)))},setHistoryButton:function(o,e,n){var t=$("#electronNavi"),t=o?t.find(".js-history-back"):t.find(".js-history-forward");!e||n||ViewChanger.isPage("main")?t.find("i").removeClass("on"):t.find("i").addClass("on")},addReloadMouseDownEvent:function(){$("#electronNavi .js-reload-btn").off("mousedown").on("mousedown",function(o){2===o.button&&(o.stopPropagation(),(o=$("#electronReloadLayer")).find("#js-reload").text(Often.isBrowser("mac")?"Cmd + R":"F5"),o.find("#js-reload-force").text(Often.isBrowser("mac")?"Shift + Cmd + R":"Ctrl + F5"),o.removeClass("d-none").css("display","block"),$(".header").attr("oncontextmenu","return false"))})},closeReloadLayer:function(){$("#electronReloadLayer").css("display","none")}};
"use strict";var _excluded=["a1","b1"];function asyncGeneratorStep(e,t,n,r,o,a,s){try{var i=e[a](s),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(i){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=i.apply(e,s);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}var Es6Test=function(){var e,t,n,r,o,a,s,i,u;function c(e,t,n,r,o,a){n=n||"",r=r||"",o=o||"",a=a||"",console.log("[Es6Test] "+e,t,n,r,o,a)}Often.isServerModeByHost()&&(c("testConstLet","A","B"),c("testTemplateLiterals","".concat("C"," + ").concat("D")),c("testSpreadSyntax",[].concat([1,2,3],[4,5,6])),c("testSpreadSyntax",3),i=(s={a1:10,b1:20,c1:30,d1:40}).a1,u=s.b1,s=_objectWithoutProperties(s,_excluded),c("testDestructuringAssignmentJson",i,u,s),c("testDestructuringAssignmentArray",11,21,[31,41]),function(){for(var e=0,t=[10,20,30];e<t.length;e++){var n=t[e];if(c("testForOfArray",n),10===n)return}}(),c("testFilter",["spray","limit","elite","exuberant","destruction","present"].filter(function(e){return 6<e.length})),c("testMap",[1,4,9].map(function(e){return Math.sqrt(e)})),c("testReduce",[9,2,8,5,7].reduce(function(e,t){return e+t})),(a=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getA",value:function(){return this.a}},{key:"setA",value:function(e){this.a=e}}]),e}())).setA(10),c("testClass",a.getA()),c("testAsyncAwait 3",function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(function(){console.log("testAsyncAwait 1","aa1"),e()},1e3)});case 2:return e.next=4,new Promise(function(e){return setTimeout(function(){console.log("testAsyncAwait 2","aa2"),e()},500)});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()),c("testFind",[1,2,3,4,5].find(function(e){return 3===e})),c("testIncludesStr",["apple","banana","mango"].includes("apple")),c("testIncludesArr","apple/banana/mango".includes("apple")),c("testComputedProperty",function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"hello")+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"world")}()),o={a:1,b:2,c:3},c("testShorthandProperties json",JSON.stringify(o)),c("testShorthandProperties function","getName"),c("testOptionalChaining",null===(r={foo:{bar:{baz:42}}})||null===(e=r.foo)||void 0===e||null===(t=e.bar)||void 0===t?void 0:t.baz,null===r||null===(n=r.qux)||void 0===n?void 0:n.baz),c("testObjectAssign",JSON.stringify(Object.assign({},{a:1},{b:2}))))}();
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Excel=function(){var l=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)([1-9]\d{0,5}|10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6])(?![_.\(A-Za-z0-9])/g;return{down:function(e,r,t){var o=[],c=[];t.forEach(function(e){o.push(e.CODE),c.push(e.NAME)});var n=XLSX.utils.book_new(),s=JSON.parse(JSON.stringify(r)),t=0<r.length&&Object.keys(r[0]).length,r=c.length,s=XLSX.utils.json_to_sheet(s,{header:o});n.Props={Title:e,Subject:"Excel",Author:"작성자이름",CreatedDate:new Date},n.SheetNames.push(e),function(t,e){var o=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];$.each(e,function(e,r){delete t[o[e]+"1"].w,t[o[e]+"1"].v=r})}(s,c),0<t-r&&function(o,f,i){if(!o)throw new Error("operation expects a worksheet");i=i||1;f=f||0;function e(e,r,t,o,c,n){var s=XLSX.utils.decode_row(n),l=XLSX.utils.decode_col(o);return f<=l&&(l-=i)<f?"#REF!":r+("$"===t?t+o:XLSX.utils.encode_col(l))+("$"===c?c+n:XLSX.utils.encode_row(s))}var r,t,c=XLSX.utils.decode_range(o["!ref"]),n=0,s=0;for(s=f+i;s<=c.e.c;++s)for(n=c.s.r;n<=c.e.r;++n)r=XLSX.utils.encode_cell({r:n,c:s}),t=XLSX.utils.encode_cell({r:n,c:s-i}),o[r]?(o[r].f&&(o[r].f=o[r].f.replace(l,e)),o[t]=o[r]):delete o[t];for(s=c.e.c;s>c.e.c-i;--s)for(n=c.s.r;n<=c.e.r;++n)r=XLSX.utils.encode_cell({r:n,c:s}),delete o[r];for(s=0;s<f;++s)for(n=c.s.r;n<=c.e.r;++n)r=XLSX.utils.encode_cell({r:n,c:s}),o[r]&&o[r].f&&(o[r].f=o[r].f.replace(l,e));c.e.c-=i,c.e.c<c.s.c&&(c.e.c=c.s.c);o["!ref"]=XLSX.utils.encode_range(u(c)),o["!merges"]&&o["!merges"].forEach(function(e,r){var t;switch(_typeof(e)){case"string":t=XLSX.utils.decode_range(e);break;case"object":t=e;break;default:throw new Error("Unexpected merge ref "+e)}if(t.s.c>=f){if(t.s.c=Math.max(t.s.c-i,f),t.e.c<f+i)return void delete o["!merges"][r];if(t.e.c-=i,t.e.c<t.s.c)return void delete o["!merges"][r]}else t.e.c>=f&&(t.e.c=Math.max(t.e.c-i,f));u(t),o["!merges"][r]=t});o["!merges"]&&(o["!merges"]=o["!merges"].filter(function(e){return!!e}));o["!cols"]&&o["!cols"].splice(f,i)}(s,r+1,t-r);n.Sheets[e]=s,saveAs(new Blob([function(e){for(var r=new ArrayBuffer(e.length),t=new Uint8Array(r),o=0;o<e.length;o++)t[o]=255&e.charCodeAt(o);return r}(XLSX.write(n,{bookType:"xlsx",type:"binary"}))],{type:"application/octet-stream"}),e+".xlsx")}};function u(e){return e.e.r>=1<<20&&(e.e.r=1048575),16384<=e.e.c&&(e.e.c=16383),e}}();
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var FileUtil=function(){return{openFlowDrive:function(e){var t="POST"===e;OpenUtil.openSubScreen({GB:"flowDrive",CURRENT_PROJECT_SRNO:t?ViewChanger.getProjectSrno():"",RESPONSE_TYPE:e,CONNECT_ID:SocketControl.getRoomConnectId()})},getFileSize:o,getFileNameAndExtension:a,getStandardExtension:u,getFileName:i,getSearchDate:function(e){var t=new Date,n={START_DT:"",FNSH_DT:""};n.FNSH_DT=Tz.momentTimeZone(t,"type12")+"999999","7"===e?t.setDate(t.getDate()-e):"99"===e||t.setMonth(t.getMonth()-e);return n.START_DT=Tz.momentTimeZone(t,"type12")+"000000",n},getAtchSrno:function(e){var t=[];{if(Array.isArray(e))return Often.toast("error",i18next.t("front.alert.listUnavailable"));if("string"==typeof e)t=e.split(":");else if("object"===_typeof(e)){if(0===Object.keys(e).length)return"";if(!e.ATCH_SRNO)return"";t=e.ATCH_SRNO.split(":")}}var n=2<t.length&&(-1<t[1].indexOf("FLOW_")||-1<t[1].indexOf("GOOGLE")||-1<t[1].indexOf("DROP"))||3===t.length,e=2===t.length;return t[n?2:e?1:0]},getRandKey:function(e){var t=[];{if(Array.isArray(e))return Often.toast("error",i18next.t("front.alert.listUnavailable"));if(e&&e.RAND_KEY&&0<e.RAND_KEY.length)return e.RAND_KEY;if(e&&e.FILE_IDNT_ID&&0<e.FILE_IDNT_ID.length)return e.FILE_IDNT_ID;if("string"==typeof e)t=e.split(":");else if("object"===_typeof(e)){if(0===Object.keys(e).length)return;if(!e.ATCH_SRNO)return"";t=e.ATCH_SRNO.split(":")}}return 1<t.length?t[1]:""},getUseInttId:function(e){var t=n(e.ATCH_URL);return""!==t?t:n(e.DOWNLOAD_URL);function n(e){if(!e)return"";var t="&USE_INTT_ID=",n=e.indexOf(t);if(-1===n)return"";var r=e.indexOf("&",n+1);return-1===r?e.substring(n+t.length):e.substring(n+t.length,r)}},getIconClassNameByExt:function(e,t){return f(e,u(t))},getIconClassNameByFullName:function(e,t){return f(e,u(a(t).EXT))},isAvailableFileSize:function(e){var t=LocalUtil.getLocalValue("ONLY_BUY_SETTING","BUY_YN"),n=Number(e),r=Number(LocalUtil.getLocalValue("ONLY_FILE_LIMIT_SIZE","WEB_"+(Often.isAct("main")?"PROJ":"CHAT")+"_SIZE")),e=!1;t=Often.isFunc(Func.CLOUD.AD_FILE_UPLOAD)&&!isNaN(r)&&0<r?1024*r*1024:ServerChecker.isZoomok?Zoomok.get("FILE_LIMIT_SIZE_B"):ServerChecker.isHyundaicar?Hyundaicar.get("FILE_LIMIT_SIZE_B"):ServerChecker.isDbfi?Dbfi.get("FILE_LIMIT_SIZE_B"):ServerChecker.isBgf?Bgf.get("FILE_LIMIT_SIZE_B"):t!==BuyCode.FREE?524288e3:(e=!0,ServerChecker.isKyungrinara?Kyungrinara.get("FILE_GUEST_LIMIT_SIZE_B"):10485760);0===t&&(t=524288e3);if(n<t)return!1;if(!e)return"0 B"===o(t)?Often.toast("error",i18next.t("front.alert.adminRestriction")):Often.toast("error",i18next.t("front.alert.uploadSize")),!0;t="data"+(ServerChecker.isKyungrinara?Kyungrinara.get("FILE_GUEST_LIMIT_SIZE_MB"):"10");return LimitGuest.isLimitGuest(t,Often.isMessenger()),!0},checkAndConvertDriveExtClass:f,convertDriveSize:function(e,t){t="GOOGLEDRIVE"===e?i18next.t("front.fileUtil.fileFrom",{val:"Google Drive"}):"DROPBOX"===e?i18next.t("front.fileUtil.fileFrom",{val:"Dropbox"}):t;return t},initSetting:function(){Often.isFunc(Func.CLOUD.FILE_EXTENSION_BLOCK),Often.isFunc(Func.CLOUD.AD_FILE_UPLOAD)&&Ajax.executeApi(RestApi.GET.COLABO2_FILESIZE_CONF_R001,{PTL_ID:_PTL_ID,CHNL_ID:_CHNL_ID,USE_INTT_ID:_USE_INTT_ID},function(e){LocalUtil.setLocalJson("ONLY_FILE_LIMIT_SIZE",{WEB_PROJ_SIZE:Often.null2Void(e.WEB_PROJ_SIZE,"0"),WEB_CHAT_SIZE:Often.null2Void(e.WEB_CHAT_SIZE,"0"),MB_PROJ_SIZE:Often.null2Void(e.MB_PROJ_SIZE,"0"),MB_CHAT_SIZE:Often.null2Void(e.MB_CHAT_SIZE,"0")})})},isAtchAccessible:function(e,t,n,r){return"Y"!==Often.null2Void(r,"Y")&&("N"===Often.null2Void(e,"N")||("Y"===Often.null2Void(n,"N")||"Y"===Often.null2Void(t,"Y")))},saveFile:r,checkFileOnServer:t,checkViewerExtension:_,isFolder:function(e){e="-1"==e.indexOf(".");e&&Often.toast("error",i18next.t("front.alert.uploadFolder"));return e},isLimitOnMultiUpload:isLimitOnMultiUpload,openFile:function(e,t){var n=_(i(t[0]));return"SAVE"!==e&&n?"DOC-VIEWER"===e?DocViewer.openDocViewer(t):void 0:r(t)},downFile:l};function r(e){if(!e||0===e.length)return Often.null2Void("error",i18next.t("front.alert.select",{val:"$t(dictionary.file)"}));t(e,"SAVE",n)}function t(e,t,n){Ajax.executeApi(RenewalApi.GET.ACT_FILE_CHECK,$.extend({MODE:t},{ATCH_REC:e}),function(e){return 0<e.ERR_MSG.length?Often.toast("error",e.ERR_MSG):void("function"==typeof n&&n(e.FILE_REC))})}function n(e){var i=1,o="";$.each(e,function(e,t){if(t.ERR_MSG)return o=t.ERR_MSG;var n=t.EXTERNAL_FILE_URL&&0<t.EXTERNAL_FILE_URL.length,r=Often.null2Void(n?t.EXTERNAL_FILE_URL:t.FILE_PATH);if(""===r)return Often.toast("error",i18next.t("front.alert.filePath"));setTimeout(function(){l(r,n)},500*i),i++}),o&&Often.toast("error",o)}function l(e,t){e=e.replace("http:","https:").replace(/(https:\/\/)(staging.|develop.|)(flow.team)/gi,location.protocol+"//"+location.host);if(Electron.isElectronApp())return t?Electron.openExternalLinkforElectron(e):void(Often.isMessenger()?Electron.downloadFileForChat(e,"","",_ROOM_SRNO):Electron.downloadFile(e));window.open(e,t?"_blank":"_parent"),session2local()}function i(e){return e.ORCP_FILE_NM?$.trim(e.ORCP_FILE_NM):e.FILE_NAME?$.trim(e.FILE_NAME):e.FILE_NM?$.trim(e.FILE_NM):i18next.t("dictionary.unTitled")}function o(e){if(e&&isNaN(Number(e)))return e;if(!e||0===Number(e))return"-";var t=1024<e;return 1048576<e?Math.round(e/1048576*100)/100+" MB":t?Math.round(e/1024*100)/100+" KB":e+" B"}function a(e){if(!e)return{NAME:"",EXT:""};var t,n=e.lastIndexOf("."),r=e.length,i=-1===n?e:e.substring(0,n);try{t=-1===n?"":e.substring(n+1,r).toLowerCase()}catch(e){t=""}return{NAME:i,EXT:t}}function f(e,t){return"CLOUD"===e?"cloud":"GOOGLEDRIVE"===e?"google-drive":"DROPBOX"===e?"dropbox":t}function u(e){if(""===Often.null2Void(e))return"ETC";var t,n,r={DEFAULT:["default"],CLOUD:["googleDrive","dropbox"],PDF:["pdf"],WORD:["doc","docx"],EXCEL:["xlsx","xlsm","xlsb","xltx","xltxm","xls","xlt","xls","xlam"],HWP:["hwp"],PPT:["ppt","pptx"],IMAGE:["png","jpeg","jpg","bmp","rle","gif","pddv","tif","tiff","raw","al","eps","svg","svgz","iff","fpxv","frm","pcx","pct","pic","pxr","sct","tga","vda","icb","vst"],MEDIA:["avi","mpg","mpeg","mpe","wmv","asf","asx","flv","rm","mov","dat","mpeg1","mpeg2","mpeg4","mp3","mp4","ogg","wma","wav","au","rm","mid"],HTML:["html"],AUTOCAD:["dwgc","dws","dxf","dwt","plt","lsp"],ZIP:["alz","ace","arc","arj","b64","bh","bhx","bin","bz2","cab","ear","enc","gz","ha","hqx","ice","img","jar","lha","lzh","mim","pak","rar","sit","tar","tgz","uue","war","xxe","z","zip","zoo","001"],TXT:["txt"],PSD:["psd"],AI:["ai"]};for(n in r)-1<r[n].join("|").indexOf(e.toLowerCase())&&(t=n);return Often.null2Void(t,"ETC").toLowerCase()}function _(e){e=$.trim(e.split(".").pop()).toUpperCase();return-1<["DOC","DOCX","PPT","PPTX","XLS","XLSX","PDF","TXT","GIF","PNG","TIF","TIFF","JPG","JPEG","BMP","EML","HWP","MSG","HTML"].indexOf(e)}}();function isLimitOnMultiUpload(e,t){return!!(t&&30<e)&&(Often.toast("info","한번에 30개까지 보낼 수 있습니다"),!0)}
"use strict";var Func={init:function(){"Y"!==Often.getCookie("FIRST_MAIN_BASE")&&!Often.isFunc("FLOW_S_BLOCK_MAIN_BASE")&&Often.isFunc("FLOW_S_MAIN_BASE")&&(Often.setCookie("RENEWAL_SLIDE_NOTICE_HIDE_YN","N",3600),Often.setCookie("FIRST_MAIN_BASE","Y",3600)),$("#detailTab").find("[data-code=history]").css("display",Often.isFunc("ALARM_HISTORY")?"inline-block":"none")},CLOUD:{APPLE_LOGIN:"APPLE_LOGIN",AD_FILE_UPLOAD:"AD_FILE_UPLOAD",CHAT_MOA_VIEW:"CHAT_MOA_VIEW",CHAT_LINK_MOA_VIEW:"CHAT_LINK_MOA_VIEW",CHAT_SRCH:"CHAT_SRCH",CHAT_NOTICE:"CHAT_NOTICE",DROPBOX_UPLOAD_PREVENT:"DROPBOX_UPLOAD_PREVENT",DROPBOX_UPLOAD:"DROPBOX_UPLOAD",FILE_EXTENSION_BLOCK:"FILE_EXTENSION_BLOCK",GOOGLEDRIVE_UPLOAD:"GOOGLEDRIVE_UPLOAD",GOOGLEDRIVE_UPLOAD_PREVENT:"GOOGLEDRIVE_UPLOAD_PREVENT",GANTT:"GANTT",GUEST_LIMIT:"GUEST_LIMIT",GUEST_STORAGE_LIMIT:"GUEST_STORAGE_LIMIT",IMPORT_FILE_BOX:"IMPORT_FILE_BOX",NOTDISTURB:"NOTDISTURB",PROFILE_THUMBNAIL:"PROFILE_THUMBNAIL",POST_VIEW_SELECT:"POST_VIEW_SELECT",QUICK_GUIDE:"QUICK_GUIDE",RESTRICT_POPUP_MANAGER:"RESTRICT_POPUP_MANAGER",SHOW_SLOGAN:"SHOW_SLOGAN",TASK_START_TIME:"TASK_START_TIME",UPLOAD_PREVENT:"UPLOAD_PREVENT",VOUCHER_BANNER:"VOUCHER_BANNER",WRITE_AUTHORITY_SEPARATE:"WRITE_AUTHORITY_SEPARATE",VIDEO_CONFERENCE:"VIDEO_CONFERENCE",DOWNLOAD_PREVENT:"DOWNLOAD_PREVENT",BLOCK_WEB_LNB_EXCEPT_BOOKMARK:"BLOCK_WEB_LNB_EXCEPT_BOOKMARK",BLOCK_WEB_LNB_PROJ_LIST:"BLOCK_WEB_LNB_PROJ_LIST",CHAT_JBCL_VIEW:"CHAT_JBCL_VIEW",PARTICIPANTS_INFO:"PARTICIPANTS_INFO",TASK_UPGRADE:"TASK_UPGRADE",SCHEDULE_UPGRADE:"SCHEDULE_UPGRADE",MINI_TOOLTIP:"MINI_TOOLTIP",EDIT_TIME_TEXT:"EDIT_TIME_TEXT",MINI_CONTACT:"MINI_CONTACT",CHAT_PROJECT_PARTI:"CHAT_PROJECT_PARTI",ELECTRON_NAVI:"ELECTRON_NAVI",MESSENGER_TOOLTIP:"MESSENGER_TOOLTIP",EXTEND_TASK_FILTER:"EXTEND_TASK_FILTER",USE_CHANNEL_TAB:"USE_CHANNEL_TAB",MINI_BANNER:"MINI_BANNER",MINI_SECURE_DOWNLOAD:"MINI_SECURE_DOWNLOAD",ALARM_COUNT_SOCKET:"ALARM_COUNT_SOCKET",STOP_FLOWNEW:"STOP_FLOWNEW",SENTRY_MONITOR:"SENTRY_MONITOR",INVITATION_POPUP:"INVITATION_POPUP"},KT_BIZWORKS:{KT_QNA:"KT_QNA"},ENTER:{GOOGLE_MAP:"GOOGLE_MAP"},DEVELOP:{URL_COPY:"URL_COPY"},LOG:{LOCK:"LOCK_TOAST"}};
"use strict";var ImageUtil=function(){return{getThumbImgFile:function(e,t,n){if(!e)return t;var i=""!==Often.null2Void(n),r=i?Often.null2Void(n.BASE_SIZE,1024e3):1024e3,f=i?Often.null2Void(n.COMP_SIZE,102400):102400,g=i?Often.null2Void(n.MAX_SIZE,800):800,o=e.width,a=e.height,i=t.size,n=t.name;if(""===Often.null2Void(i)||Often.null2Void(i,0)<=r)return t;f=Math.ceil(Math.sqrt(Often.null2Void(i,0)/f,2));e.width/f<g&&e.height/f<g?a<o?g<o&&(a*=g/o,o=g):g<a&&(o*=g/a,a=g):(o=e.width/f,a=e.height/f);f=document.createElement("canvas");return f.width=o,f.height=a,f.getContext("2d").drawImage(e,0,0,o,a),function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),i=new Uint8Array(e),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return new Blob([e],{type:n})}(f.toDataURL("image/"+function(e){return"bmp"===e||"jpg"===e||"jpeg"===e?"jpeg":"png"}(function(e){return-1<e.indexOf(".bmp")?"bmp":-1<e.indexOf(".gif")?"gif":-1<e.indexOf(".jpg")?"jpg":-1<e.indexOf(".jpeg")?"jpeg":-1<e.indexOf(".png")?"png":-1<e.indexOf(".tiff")?"tiff":-1<e.indexOf(".ico")?"ico":"png"}(n))))},removeDomain:function(e,t){var n="";"POST"===e?n="https://i.pinimg.com/236x/fc/7e/ce/fc7ece8e8ee1f5db97577a4622f33975--photo-icon-sad.jpg":"PROFILE"===e?n="/flow-renewal/assets/images/profile-default.png":"ALLFILE"===e||"MESSAGE"===e?n="https://i.pinimg.com/236x/fc/7e/ce/fc7ece8e8ee1f5db97577a4622f33975--photo-icon-sad.jpg":"IMAGE-VIEWER"===e&&(n="/flow-renewal/assets/images/404-sprite-1.png");return""===Often.null2Void(t)?n:function(e){var t=Often.getLocOrigin(),n="/FLOW_DOWNLOAD_R001.act",i="/flowImg",r=e.indexOf(i);if(-1<r)return t+e.substr(r);r=e.indexOf(n);if(-1<r){r=t+e.substr(r),i=(r=r.replace(n+"?RAND_KEY=",i+"/")).indexOf("&");return-1<i?r.substr(0,i)+".png":r}return e}(t)},isImageExtension:n,isImageType:function(e){return""!==Often.null2Void(e.THUM_IMG_PATH,"")&&n(FileUtil.getFileName(e))&&t(e.FILE_SIZE)},isImageSize:t,getFileNameByClipboard:function(){var e=new Date,t=e.getMonth()+1<10?"0"+(e.getMonth()+1):""+e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():""+e.getDate(),i=e.getHours()+""+e.getMinutes()+e.getSeconds()+e.getMilliseconds();return"flow_"+e.getFullYear()+"-"+t+"-"+n+"_"+i+".png"}};function t(e){return Number(e)<20971520}function n(e){return!!new RegExp(".(bmp|gif|jpg|jpeg|png)$","i").test(e)}}();
"use strict";var ImageViewer=function(){var d,c,g,u,m={},h="",n=91,p=0,w=1,T=0,o=8,f=.5;return{openImage:function(t,i,n){FileUtil.checkFileOnServer(i,"DOC-VIEWER",function(e){return e[0].ERR_MSG&&0<e[0].ERR_MSG.length?Often.toast("error",e[0].ERR_MSG):"CHAT"===t?function(e){""!==Often.null2Void(e.SRC)&&(e.THUM_IMG_PATH=e.SRC,e.IMG_PATH=e.SRC);return OpenUtil.openSubScreen({GB:"IMAGE_VIEWER",IMG_DATA:JSON.stringify(e)})}(i[0]):"POST"===t?r(t,i,n):void 0})},openSimpleImage:function(e){return OpenUtil.openSubScreen({GB:"SIMPLE_IMAGE_VIEWER",IMG_DATA:JSON.stringify(e)})},drawImageViewer:r,closeImageViewer:a,drawSimpleImageViewer:function(e){var t=Often.null2Void(e.IMG_NAME,"image.png"),i=Often.null2Void(e.REGISTER_NAME,"No Register Name!"),n=Tz.momentTimeZone(e.REGISTER_DTTM,"type1"),r=$("#imageViewerItem .js-image-viewer-item");(g=r.clone()).attr("id","imageViewerLayer"),g.find(".left-fix, .viewer-close-button, .viewer-button, #btnDownPic, #btnAllDownPic").css("display","none"),r.after(g),v(g,e);e=g.find(".image-viewer-header");e.find(".image-size, .image-resolution, .secret-image").css("display","none"),e.find(".image-title").text(t),e.find(".image-user-name").text(i),e.find(".image-upload-date").text(n),M(),g.css("display","block"),g.focus(),_(g.find("img"),w,p),l()}};function r(e,t,i){if(c=t||[],"CHAT"!==(d=e)&&"POST"!==d)return Often.toast("error",i18next.t("front.alert.errorTryAgain"));if(0===c.length)return Often.toast("error",i18next.t("front.alert.invalidInformation",{val:"$t(dictionary.image)"}));e=$("#imageViewerItem .js-image-viewer-item");(g=e.clone()).attr("id","imageViewerLayer"),"CHAT"===d&&g.find(".left-fix, .viewer-close-button, #btnAllDownPic").css("display","none"),e.after(g),u=0===c.length?c:c.length,s(i),l(),$(window).on("resize",function(){M(),I(m.WIDTH,m.HEIGHT)}),g.off("keydown").on("keydown",function(e){if("CHAT"===d){if("ArrowLeft"===e.key&&!g.find(".left").hasClass("off"))return T-=1,void s();if("ArrowRight"===e.key&&!g.find(".right").hasClass("off"))return T+=1,void s();if("Escape"===e.key)return void window.close()}else{if("Escape"===e.key)return e.stopPropagation(),void a();if("ArrowLeft"===e.key){if(T<=0||u-1<=0)return;var t=g.find(".viewer-button.left");return void s(Number(t.attr("data-img-idx")))}if("ArrowRight"===e.key){if(u-1<=T)return;t=g.find(".viewer-button.right");return void s(Number(t.attr("data-img-idx")))}}if("+"===e.key||187===e.keyCode){if(o<=w)return Often.toast("error",i18next.t("front.imageViewer.cannotExpand"));w+=.25,g.find("img").css("transform",b(p,w))}if("-"===e.key||189===e.keyCode){if(w<=f)return Often.toast("error",i18next.t("front.imageViewer.cannotReduce"));w-=.25,g.find("img").css("transform",b(p,w)),w<=1.75&&g.find("img").css({left:0,top:0})}}),g.off("keyup").on("keyup",function(e){"Control"!==e.key&&e.keyCode!==n||0})}function a(){$("#imageViewerLayer").remove()}function v(r,e){var t=ImageUtil.removeDomain("IMAGE-VIEWER",-1<e.IMG_PATH.indexOf("_thumb.")?e.ATCH_URL:e.IMG_PATH),i=ImageUtil.removeDomain("IMAGE-VIEWER",e.THUM_IMG_PATH),n=Often.null2Void(FileUtil.getFileName(e),t);function a(e,t,i){var n;e&&((n=new Image).onload=function(e){!function(e){var t=$(e);t.addClass("js-image image current"),t.attr({width:"100%",height:"100%"});var i=r.find(".js-img-back");i.next(".js-image").remove(),i.after(t),I(e.width,e.height)}(e.target),"function"==typeof i&&i()},n.src=e,n.alt=t)}a(i,n,function(){a(t,n)})}function s(e){function a(){var e=""!==Often.null2Void(m.SECRET_TIME,"");g.find(".left").attr("data-img-idx",T-1),g.find(".right").attr("data-img-idx",T+1);var t,i={".left":1===u||e?h="off":0===Number(T)?(h="","off"):Number(u)===Number(T)+1?(h="off",""):h="",".right":h};for(t in i){var n=g.find(t);""===i[t]?n.removeClass("off"):n.addClass(i[t]),n.css("display",n.hasClass("off")?"none":"block")}}function o(e,t){e=i(e,"MSG_REC",t),t=i(e,"IMG_REC",0);return $.extend({},t,{ATCH_SRNO:FileUtil.getAtchSrno(t),RAND_KEY:FileUtil.getRandKey(t),IMG_PATH:t.DOWNLOAD_URL,RGSN_DTTM:t.RGSN_DTTM||e.RGSN_DTTM,RGSR_NM:e.RGSR_NM,ROOM_SRNO:e.ROOM_SRNO,ROOM_CHAT_SRNO:e.ROOM_CHAT_SRNO,BOMB_YN:e.BOMB_YN});function i(e,t,i){return e&&e[t]&&e[t].length>i?e[t][i]:{}}}var t,i,n,r,f,s,l;m=c[T="number"==typeof(l=t=e)&&0<=l?t:T],v(g,m),i=Often.null2Void(m.WIDTH,"0"),n=Often.null2Void(m.HEIGHT,"0"),r=Often.null2Void(FileUtil.getFileSize(m.FILE_SIZE),"0 B"),f=Often.null2Void(FileUtil.getFileName(m)),s=Often.null2Void(m.RGSR_NM,"No Register Name!"),e=Tz.momentTimeZone(m.RGSN_DTTM,"type1"),l=""!==Often.null2Void(m.SECRET_TIME,""),(t=g.find(".image-viewer-header")).find(".image-title").text(f),t.find(".image-size").text(r),t.find(".image-resolution").text(i+"X"+n),t.find(".image-user-name").text(s),t.find(".image-upload-date").text(e),t.find(".secret-image").text(l?i18next.t("front.common.chatSecret"):""),a(),l=(Number(g.find(".left").attr("data-img-idx"))+Number(g.find(".right").attr("data-img-idx")))/2,g.find(".js-total-count").text(u),g.find(".img-now").text(1+l),M(),"CHAT"===d&&(c[T+1]&&c[T-1]||Ajax.executeApi(RestApi.GET.COLABO2_CHAT_MSG_R001,$.extend({},m,{CHAT_SRCH_GB:"IC",PG_PER_CNT:"0"}),function(e){var t="Y"===e.PREV_YN,i=0===T,n=T===u-1,r=t?o(e,0):{},t=o(e,t?1:0);"Y"===e.PREV_YN&&i&&(c.unshift(r),T+=1,u+=1),"Y"===e.NEXT_YN&&n&&(c.push(t),u+=1),a()})),g.css("display","block"),g.focus(),_(g.find("img"),w,p),I(m.WIDTH,m.HEIGHT)}function l(){g.find(".js-container")[0].ondragstart=function(){return!0},g.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",x),g.find(".image-viewer-footer").off("click").on("click",E),g.find(".image-viewer-footer").find(".right-fix").off("click").on("click",t),g.find(".viewer-button").off("click").on("click",e),"POST"===d&&(g.on("click",i),g.find(".viewer-close-button").off("click").on("click",a),document.body.style.overflow="hidden")}function e(e){var t=$(e.target);"CHAT"===d?(t.hasClass("left")?T-=1:t.hasClass("right")&&(T+=1),s()):t.hasClass("off")||s(Number($(e.target).attr("data-img-idx")))}function t(e){var t=$(e.target),i=t.findUp("#btnDownPic"),t=t.findUp("#btnAllDownPic");if(0<i.length)return e.stopPropagation(),m.FILE_TYPE="IMAGE",void O(m);0<t.length&&(e.stopPropagation(),c.forEach(function(e,t){setTimeout(function(){e.FILE_TYPE="IMAGE",O(e)},500*t)}))}function i(e){0!==g.length&&("IMG"===e.target.tagName||"btnDownPic"===$(e.target).attr("id")||"btnAllDownPic"===$(e.target).attr("id")||$(e.target).hasClass("viewer-button")||$(e.target).hasClass("image-edit-btn")||$(e.target).parents().hasClass("image-title-area")||a())}function x(e){if(e.preventDefault(),e.stopPropagation(),0<e.originalEvent.wheelDelta){if(o<=w)return Often.toast("error",i18next.t("front.imageViewer.cannotExpand"));w+=.25,g.find("img").css("transform",b(p,w))}else{if(w<=f)return Often.toast("error",i18next.t("front.imageViewer.cannotReduce"));w-=.25,g.find("img").css("transform",b(p,w)),w<=1.75&&g.find("img").css({left:0,top:0})}_(g.find("img:visible"),w,p),I(m.WIDTH,m.HEIGHT)}function E(e){var t=$(e.target),i=m.HEIGHT,n=m.WIDTH,r=screen.height,a=screen.width,e=i<n,i=i/n,r=(r-100)/a;if(t.hasClass("rotate"))(p+=90)%180!=0?e?w=i<r?i/r:i:i<r?w=Math.max(i,n/a):(w=i*r)<1&&(w=1):(w=1,g.find(".js-image").css("transform",b(p,w)),g.find(".js-image").css({left:0,top:0})),g.find(".js-image").css("transform",b(p,w));else if(t.hasClass("plus")){if(o<=w)return Often.toast("error",i18next.t("front.imageViewer.cannotExpand"));w+=.25,g.find(".js-image").css("transform",b(p,w))}else if(t.hasClass("minus")){if(w<=f)return Often.toast("error",i18next.t("front.imageViewer.cannotReduce"));w-=.25,g.find(".js-image").css("transform",b(p,w)),w<=1.75&&g.find(".js-image").css({left:0,top:0})}else t.hasClass("autosize")&&M()}function R(e,t,i){var n=g.height(),r=g.width(),a=e.height()*t,o=e.width()*t,t=i%180!=0,i={},r=t?r<a:r<o,a=t?n<o:n<a;e.hasClass("ui-draggable")&&(e.draggable("destroy"),r&&(i.axis="x"),a&&(i.axis="y"),r&&a&&(i.axis=!1),i.scrollSensitivity=100),(r||a)&&e.draggable(i)}function _(t,i,n){var e=n%180==0;R(t,i,n);var r=t.width(),a=t.height(),o=g.height(),f=g.width(),s={top:e?(a*i-o)/2:(r*i-o)/2,left:e?(r*i-f)/2:(a*i-f)/2};t.off("drag").on("drag",function(){for(var e in s)if(0<s[e]&&s[e]<Math.abs(Number(t.css(e).replace("px","")))&&t.hasClass("ui-draggable"))return!1}),t.off("mouseup").on("mouseup",function(){for(var e in s)0<s[e]&&s[e]<Math.abs(Number(t.css(e).replace("px","")))&&(0<Number(t.css(e).replace("px",""))?t.css(e,s[e]+"px"):t.css(e,-1*s[e]+"px"),R(t,i,n))}),t.on("mousedown",function(){if(!t.hasClass("ui-draggable"))for(var e in s)0<s[e]&&s[e]<Math.abs(Number(t.css(e).replace("px","")))&&(0<Number(t.css(e).replace("px",""))?t.css(e,s[e]+"px"):t.css(e,-1*s[e]+"px"),R(t,i,n))})}function I(e,t){var i,n=g,r=n.height(),a=n.width(),a=e<300&&t<300?i="300px":(i=r+"px",a+"px");n.css({height:"auto",width:"auto"}),n.find(".js-image:visible").css({width:"auto",height:"auto",maxHeight:i,maxWidth:a})}function M(){p=0,w=1,g.find(".js-image").css({transform:"rotate(0deg) scale(1)",left:"0",top:"0"}),g.find("img").hasClass("ui-draggable")&&g.find("img").draggable("destroy")}function O(e){return FileUtil.saveFile([e])}function b(e,t){return"rotate("+e+"deg) scale("+t+")"}}();
"use strict";$.fn.isBottom=function(){return(this.prop("scrollTop")+this.prop("clientHeight"))/this.prop("scrollHeight")>SCROLL_RATIO},$.fn.isBottom2=function(){return(this[0].scrollTop+this.outerHeight())/this[0].scrollHeight>SCROLL_RATIO},$.fn.existScrollBar=function(){var t=this.prop("scrollHeight"),e=this.prop("clientHeight");return t<=0&&e<=0||t!==e},$.fn.moveToOffsetByClassName=function(t,e){t=this.find("."+t).offset();t&&t.top&&(t=this.scrollTop()+(t.top-50),this.moveToOffset(t,e))},$.fn.moveToOffsetById=function(t,e,o){var i=this.find("#"+t).offset();i&&i.top&&document.getElementById(t).scrollIntoView({block:o})},$.fn.moveToOffset=function(t,e){this.animate({scrollTop:t},e?500:0)},$.fn.moveToTop=function(t){this.moveToOffset(0,t)},$.fn.moveToBottom=function(t){var e=this.prop("scrollHeight");this.moveToOffset(e,t)},$.fn.isArrowSelect=function(t){var e=$(this),o=e.find("ul"),i="workerPopup"===e.attr("id")?o.parents(".js-worker-list"):o,l=o.children("li"),s=i.offset(),r=KeyCheck.isKey(t,"DOWN"),n=KeyCheck.isKey(t,"UP");if(!e.is(":visible"))return!1;if(!n&&!r)return!1;t.preventDefault();t=Number(e.find(".select").index()),e=l.length;if(n&&0===t||r&&t===e-1)return!0;l.removeClass("select");l=t+(r?1:-1),t=o.children("li:eq("+l+")");t.addClass("select");r=t.offset()?t.offset().top+t.height():0,o=s.top,s=s.top+i.height();return 0!==r&&(s<=r||r<=o)&&(t=l*t.outerHeight(),i.scrollTop(t)),!0},$.fn.findUp=function(t){return $(this).is(t)?$(this):$(this).parents(t)},$.fn.findSiblingsClass=function(t){return $(this).hasClass(t)?$(this):$(this).siblings("."+t)},$.fn.hasVerticalScrollBar=function(){return"auto"!==$(this).css("overflow")&&"scroll"!==$(this).css("overflow")&&"auto"!==$(this).css("overflow-y")&&"scroll"!==$(this).css("overflow-y")||!!$(this).get(0)&&$(this).get(0).scrollHeight>$(this).innerHeight()},$.fn.drawListHelper=function(t){var e,o,i,l,s,r,n,c=$(this),f=t.pageData||{},h=t.prevYn||"N",a=t.nextYn||"N",p=t.checkDttm||"",u=t.records,v=t.noDataHtml,T=t.reverse||!1,g=t.notEmpty||!1,d=f&&f.PG_NO===(f.ZERO_FIRST?0:1),m=u&&1===u.length&&u[0].FOLDER&&0===u[0].FOLDER.length&&u[0].FILE&&0===u[0].FILE.length,m=u&&(0===u.length||m),H=c;t.targetObj&&(H=t.targetObj.scroll||c,e=t.targetObj.focus),t.callback&&(i=t.callback.item,l=t.callback.click,o=t.callback.dblclick,s=t.callback.scroll,r=t.callback.scrollReverse,n=t.callback.final);t={ulDraw:"function"==typeof i,scroll:"function"==typeof s,scrollReverse:"function"==typeof r,final:"function"==typeof n};if(void 0!==f.PREV_YN&&(f.PREV_YN=h),void 0!==f.NEXT_YN&&(f.NEXT_YN=a),void 0!==f.CHECK_DTTM&&(f.CHECK_DTTM=p),d&&(g||c.empty(),e&&e.focus(),ListHelper.initClickEvent(c,l),ListHelper.initDBLClickEvent(c,o),ListHelper.initScrollEvent(H,s,r,t.scroll&&!t.scrollReverse&&!T),ListHelper.addClickEventOnMoveTopButton(H)),m)return f.NEXT_YN="N",d&&c.prepend(v),void(t.final&&n(c));t.ulDraw&&(T?c.prepend(i(u)):c.append(i(u)),f.PG_NO++,t.final&&n(c),0===(c=ListHelper.getScrollDirection(H))?H.existScrollBar()||(T&&"N"!==f.PREV_YN?t.scrollReverse&&r():"N"!==f.NEXT_YN&&t.scroll&&s()):c<0&&t.scrollReverse?setTimeout(function(){0===H.scrollTop()&&r()},300):0<c&&t.scroll&&setTimeout(function(){H.scrollTop()+H.prop("clientHeight")===H.prop("scrollHeight")&&s()},300))};
"use strict";var KeyCheck=function(){return{isKey:t,isArrowVertical:function(e){return 38===e.keyCode||40===e.keyCode},isAvailable:function(e){return!(65<=e.keyCode&&e.keyCode<=90||48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||t(e,"BACK")||t(e,"DELETE")||t(e,"SPACE_BAR")||t(e,"ENTER")||t(e,"KOREAN_INPUTTING"))},isStyleCommand:function(e){var r=e.key.toUpperCase();return(e.ctrlKey||t(e,"CTRL")||e.metaKey||t("META"))&&("B"===r||"I"===r||"U"===r||"S"===r)},isSelectAllCommand:function(e){var r=e.key.toUpperCase();return(e.ctrlKey||KeyCheck.isKey(e,"CTRL")||e.metaKey||KeyCheck.isKey("META"))&&"A"===r}};function t(o,e){var n=Often.isBrowser("ie");return"BACK"===e?r(8,"Backspace","Backspace"):"TAB"===e?r(9,"Tab","Tab"):"ENTER"===e?r(13,"Enter","Enter"):"SHIFT"===e?r(16,"Shift","Shift"):"CTRL"===e?r(17,"Control","Control"):"META"===e?r(91,"Meta","Meta"):"ALT"===e?r(18,"Alt","Alt"):"ESC"===e?r(27,"Esc","Escape"):"SPACE_BAR"===e?r(32,"Spacebar"," "):"LEFT"===e?r(37,"Left","ArrowLeft"):"UP"===e?r(38,"Up","ArrowUp"):"RIGHT"===e?r(39,"Right","ArrowRight"):"DOWN"===e?r(40,"Down","ArrowDown"):"DELETE"===e?r(46,"Del","Delete"):"F"===e?r(70,"F","F"):"PLUS"===e?r(107,"Add","+"):"MINUS"===e?r(109,"Subtract","-"):"RELOAD_WINDOW"===e?r(116,"F5","F5"):"RELOAD_MAC"===e?r(82,"R","R"):"KOREAN_INPUTTING"===e?r(229,"Process","Process"):void 0;function r(e,r,t){return Number(o.keyCode)===e?Number(o.keyCode)===e:n?o.key===r:o.key===t}}}();
"use strict";var ListEvent=function(){var r,e;return{arrowDownOnInput:function(n,t,o){n&&(t.blur(),"CHAT"===n&&(o.children("li").removeClass("on"),o.children("li:first").addClass("on").focus()))},arrowDownOnList:function(n,t,o){n&&(t.blur(),"CHAT"===n&&(0===(r=o.find("li.on")).length&&o.children("li:first").addClass("on"),0!==(e=r.next("li")).length&&(r.removeClass("on"),e.addClass("on"),i(o,e,!0))))},arrowUpOnList:function(n,t,o){n&&(t.blur(),"CHAT"!==n||0!==(n=(r=o.find("li.on")).prev("li")).length&&(r.removeClass("on"),n.addClass("on"),i(o,n,!1)))},enterOnList:function(n,t,o){var e;n&&"CHAT"===n&&0!==(r=o.find("li.on")).length&&0!==r.length&&(e=r.attr("data-room-srno"),Chatting.getRoomInfo(!0,e,function(n){Chatting.readMessageAndOpenMessenger("N"!==n.READ_OVER_YN,e)}))}};function i(n,t,o){var e=n.height(),r=t.offset().top;o&&e<r&&n.moveToOffsetById(t.attr("id"),!0,"start"),!o&&r<.2*e&&n.moveToOffsetById(t.attr("id"),!0,"end")}}();
"use strict";var SCROLL_RATIO=.8,SCROLL_RATIO_HALF=.5,ListHelper=function(){var o;return{initPageData:function(t,e,n){t&&(t.PG_NO=t.ZERO_FIRST?0:1),t&&t.PREV_YN&&(t.PREV_YN="Y"),t&&t.NEXT_YN&&(t.NEXT_YN="Y"),t&&t.CHECK_DTTM&&(t.CHECK_DTTM=""),t&&t.COMMT_RGSN_DTTM&&(t.COMMT_RGSN_DTTM=""),t&&t.ROOM_CHAT_SRNO&&(t.ROOM_CHAT_SRNO=""),e&&(e.empty(),n?e.prepend($("#commonLoading").html()):o=setTimeout(function(){e.is(":empty")&&e.prepend($("#commonLoading").html()),clearTimeout(o)},500))},getClassObj:function(t,e){return t.hasClass(e)?t:t.parents("."+e)},getNoDataHtml:function(t){if("CHAT_SEARCH_START"===t)return'<div class="results-empty"><i></i><span>'+i18next.t("front.alert.searchChat",{nextLine:"<br>"})+"</span></div>";if("CHAT_SEARCH"===t)return'<div class="results-empty"><i></i><span>'+i18next.t("front.common.noResult")+"</span></div>";if("POST"===t){var e=Number(LocalUtil.getLocalValue("CURRENT_PROJECT_SETTING","SENDIENCE_CNT")),n="/flow-renewal/assets/images/"+(1<e?"none_detail_data.png":"none_member.png"),o=1<e?i18next.t("front.alert.noPost"):i18next.t("front.alert.noParticipant"),r=1<e?i18next.t("front.alert.noPostContext"):i18next.t("front.alert.noParticipantContext"),i=1<e?i18next.t("front.common.uploadPost"):i18next.t("front.common.invite");return'<div id="noDetailData" class="detail-data-none">\n          <img src="'+n+'" alt="'+r+'">\n          <p class="none-text">'+o+"<br>\n            "+r+'</p>\n          <button id="noDetailDataBnt" type="button" class="data-none-button '+(1<e?"write":"invite")+'">'+i+"</button>\n        </div>"}var l,a,c,s,u;"SEARCH"===t?(l=i18next.t("front.common.noResult"),s="search-null"):"OPEN_SEARCH"===t?(l=i18next.t("front.common.noResult"),s="search-null",a="mgt-200"):"LABEL"===t?(l=Interpolation.breakLine(i18next.t("front.alertNoProject")),a="mgt-200"):"HIDDEN"===t?(l=Interpolation.breakLine(i18next.t("front.noData.hiddenProject")),a="mgt-200"):"TASK"===t?(l=Interpolation.breakLine(i18next.t("front.noData.noTask")),a="mgt-200",c=!0):-1!==["FILE","IMAGE","LINK"].indexOf(t)?(l=i18next.t("front.noData.registered",{val:"$t(dictionary."+t.toLowerCase()+")"}),a="mgt-200",c=!0):"ALARM"===t?(l=i18next.t("front.alert.checkAllAlarm"),a="mgt--5"):"CHAT"===t?(u="project-null-t-4",l=i18next.t("front.alert.inviteToChat"),a="mgt--5"):"ORGANIZATION"===t?(l=i18next.t("front.alert.Organization"),a="mgt-200"):"MENTION"===t?(l=i18next.t("front.noData.mention"),u="project-null-t-4",a="mgt-200",c=!0):"BOOKMARK"===t?(l=Interpolation.breakLine(i18next.t("front.noData.noBookmarkExist")),u="project-null-t-4",a="mgt-200",c=!0):"PROJECT_SEARCH"===t?(l=Interpolation.breakLine(i18next.t("front.alert.noResultWithExplanation")),u="project-null-t-4",a="mgt-200",c=!0):"SELF"===t?(l=i18next.t("front.noData.noPost"),u="project-null-t-4"):"READ-CHECKER"===t?(l=i18next.t("front.alert.notExist",{val:"$t(front.searchResult.searchResult)"}),a="mgt-200",c=!0):"CHAT-COLLECTION"===t?(l=i18next.t("front.common.noData"),u="project-null-t-4"):a="FAVORITE"===t?(l=i18next.t("front.alert.addNewFavorite"),"mgt--5"):"FAVORITE-MEMBER"===t?(l=i18next.t("front.alert.addNewPersonToGroup"),u="d-none","mgt-20"):(l="UNREAD"===t?i18next.t("front.alert.readProjectAlarm"):"OPEN_PROJECT_TAB"===t?Interpolation.breakLine(i18next.t("front.noData.noPublicProject")):"STAR"===t?Interpolation.breakLine(i18next.t("front.noData.favorite")):i18next.t("front.common.noData"),"mgt--5");return'<div class="js-project-null project-null-t-1 '+a+'">   <div class="project-null-t-2 '+(c?"base":"")+'">       <div class="'+(u||" project-null-t-3 ")+Often.null2Void(s,"")+'"></div>       <span>'+l+"</span>   </div></div>"},setProfile:l,setProfileImg:function(t,e){var n=e.split(","),o="";t===RoomType.PROJECT?o+='<i class="icon-project"></i>':t===RoomType.MULTI?$.each(n,function(t,e){o+='<div class="profile-img"'+l(e)+"></div>"}):o+='<div class="profile-img"'+l(e)+"></div>";return o},setImage:function(t){return'style="background-image:url('+ImageUtil.removeDomain("POST",t)+')" data'},setThumbnailImage:function(t,e,n){{var o;""===Often.null2Void(e)&&""===Often.null2Void(n)||(o="?width="+Often.null2Void(e,n),e="&height="+Often.null2Void(n,e),t+=o+e)}return'style="background-image:url('+ImageUtil.removeDomain("ALLFILE",t)+')" data'},setSrc:function(t){return""===t?"data":'src="'+t+'" data'},setImageSrc:function(t,e){var n=ImageUtil.removeDomain(t,"");return""===n?'src="'+ImageUtil.removeDomain(t,e)+'" data':'src="'+ImageUtil.removeDomain(t,e)+'" onerror="this.src=\''+n+"';\" data"},setSpanTag:function(t,e,n){return t=TagUtil.tag2html(t),"<span"+function(t,e){return""!==Often.null2Void(e)&&Often.null2Void(t,!1)?" class='js-mouseover' mouseover-text='"+e+" '":""}(n,e)+">"+e+"</span>"+t.replace(e,"")},setEmTag:function(t,e){if(t=TagUtil.tag2html(t),""===Often.null2Void(t))return"";var n=e;-1<t.indexOf("업무명")&&(n="업무명",e=i18next.t("front.common.taskTitle")+":");return"<em>"+e+"</em>"+TagUtil.tag2html(t.replace(n,"").replace(" : ",""))},setDisplay:function(t,e){return'style="display:'+(t?Often.null2Void(e,"block"):"none")+'" data'},setProgressBar:function(t){return""===Often.null2Void(t)?"":'style="width:'+t+'%" data'},setCount:function(t,e,n,o){t.text(r(e,o));e=0===Number(Often.null2Void(e,"0"));t.css("display",e?"none":Often.null2Void(n,"block"))},addClickEventOnMoveTopButton:function(t){var e;t.is("#RecentProjectUl")||t.is("#joinParticipantsUl")||t.is("#participantScrollArea")||t.is("#quickGuideList")||$("#moveTopButton").off("click").on("click",function(){e||0===t.scrollTop()||(e=!0,t.animate({scrollTop:0},500,function(){e=!1}))})},initScrollEvent:function(o,r,i,t){var l,a;o&&(r||i)&&(a=!1,c(o,l=0),setTimeout(function(){t&&o.scrollTop(0)},0),o.off("scroll").on("scroll",function(e){return a?(l=0,e.preventDefault(),void e.stopPropagation()):void(0!==l?(t=0<e.target.scrollTop-l?1:-1,c(o,t),l=e.target.scrollTop,t<0?e.target.scrollTop/e.target.scrollHeight<1-SCROLL_RATIO&&n(i):0<t&&SCROLL_RATIO<(e.target.scrollTop+e.target.clientHeight)/e.target.scrollHeight&&n(r)):l=e.target.scrollTop);var t;function n(t){a=!0,setTimeout(function(){a=!1},500),"function"==typeof t&&t(e)}}))},initClickEvent:function(t,e){t.off("click").on("click",e)},initDBLClickEvent:function(t,e){t.off("dblclick").on("dblclick",e)},replaceJson:function(t,i){return"string"!=typeof t?"":Often.null2Void(t,"").replace(/({[a-z-0-9A-Z_]+})/g,function(t){var e=t.replace(/{|}/g,"");if("prfl_phtg"===e)return Often.null2Void(i&&l(i[e.toUpperCase()]));var n=i?Often.null2Void(i[e]):"";if(!isNaN(Number(n)))return n;var o=-1<n.indexOf("<strong>")||-1<n.indexOf("<b>"),r=-1<n.indexOf("</em>");return-1<e.indexOf("-html")||-1<e.indexOf("-tag")||-1<e.indexOf("-area")||"contents"===e||"project-title"===e||"label"===e||"todo-menu"===e||"todo-ul"===e||"todo-rgsr-info"===e||"content"===e||"message-content"===e||"message-cntn"===e||"video-conference"===e||"image"===e||"link"===e||"file"===e||"profile"===e||"workers"===e||"task-name"===e||"progress"===e||"first-contents"===e||"emoji-icons"===e||"select_div"===e||"COLUMN_LIST"===e||"post-dimd-layer"===e||"EDIT_LAYER"===e||"SUBTASK_LIST"===e||"memo"===e||"attendance"===e||"schedule-header"===e||"group-icon"===e||r&&"new"===e||o&&("ORCP_FILE_NM"===e||"file_nm"===e||"TTL"===e||"TASK_NM"===e||"TASK_NUM"===e)?n:TagUtil.tag2html(n,t)})},removeAllColorClass:function(t){t.removeClass("color-code-0").removeClass("color-code-1").removeClass("color-code-2").removeClass("color-code-3").removeClass("color-code-4").removeClass("color-code-5").removeClass("color-code-6").removeClass("color-code-7").removeClass("color-code-8").removeClass("color-code-9").removeClass("color-code-10").removeClass("color-code-11")},getColorClassName:e,getColorClassNameOnInviteBtn:function(t){return 0===Number(t)?"color-code-3":e(t)},getScrollDirection:function(t){return Number(Often.null2Void(t.attr("scroll-direction"),"0"))},limitNum2PlusNum:r,selectFirstItemByArrow:function(t){t.children("li:first").addClass("select")}};function c(t,e){t.attr("scroll-direction",e)}function r(t,e){t=t||0;t=Number(t),e=e&&Number(e)?Number(e):1e3;return e<=t?e-1+" +":t}function e(t){return"color-code-"+t}function l(t){return'style="background-image:url('+ImageUtil.removeDomain("PROFILE",t)+'), url(/flow-renewal/assets/images/profile-default.png)" data'}}();
"use strict";var Loading={drawLoadingPop:function(n){var o=i18next.t("front.common.wait");o=(n?i18next.t("front.common.wait")+"\n":"")+o,$("body").prepend(ListHelper.replaceJson($("#wrapLoading").html(),{contents:o})),$(".js-loading-popup").find(".js-cancel-btn").css("display","none")},drawLoadingJson:function(n){var o=n.CONTENTS,a=ListHelper.replaceJson($("#wrapLoading").html(),{contents:o});$("body").prepend(a);o=n.CALLBACK&&n.CALLBACK.CANCEL;$($(".js-loading-popup")[0]).attr("id","js-loading-popup");a=$(".js-loading-popup");a.find(".js-cancel-btn").css("display",o?"block":"none"),o&&a.find(".js-cancel-btn").off("click").on("click",n.CALLBACK.CANCEL)},closeLoadingPop:function(){var n=$("#js-loading-popup");$(n[n.length-1]).remove()}};
"use strict";var LocalUtil=function(){return{getLocal:u,setLocal:r,getLocalValue:t,setLocalValue:function(n,t,e){try{var o=$.extend({},JSON.parse(u(n)));o[t]=e,r(n,JSON.stringify(o))}catch(n){}},getLocalJson:n,setLocalJson:function(n,t){localStorage.setItem(e(n),JSON.stringify(t))},removeLocal:function(n){localStorage.removeItem(e(n))},removeAllLocal:function(){Object.keys(localStorage).forEach(function(n){localStorage.removeItem(n)})},getSubPath:function(){return Often.null2Void(u("SUB_PATH"),"main")},getDeviceId:function(){return Often.null2Void(u("ONLY_DEVICE_ID"),"")},getDesktopNotiPopup:function(){return Often.null2Void(u("ONLY_DESKTOP_NOTI_POPUP"),"Y")},getAlarmSearchFilter:function(){return Often.null2Void(u("ALARM_SEARCH_FILTER"),"0,1,2,")},getVideoConference:function(){return Often.null2Void(u("ONLY_VIDEO_CONFERENCE"),"N")},getTaskFilter:function(){return Often.null2Void(u("TASK_FILTER"),"ON")},getElectronYn:function(){return Often.null2Void(u("ONLY_ELECTRON_YN"),"N")},getFeedType:function(){return Often.null2Void(u("FEED_TYPE"),"card")},getFileSetting:function(){return Often.null2Void(u("FILE_SETTING"),"list")},getFileFilter:function(){return Often.null2Void(u("FILE_FILTER"),"ON")},getAutoLogin:function(){return Often.null2Void(u("ONLY_AUTO_LOGIN_YN"),"N")},getProjectFilter:function(){return Often.null2Void(u("ONLY_PROJECT_FILTER"),"0")},getProjectOrder:function(){return Often.null2Void(u("ONLY_PROJECT_ORDER"),"0")},getProjectOpenYn:function(){return Often.null2Void(t("CURRENT_PROJECT_SETTING","OPEN_YN"),"N")},getProjectHiddenYn:function(){return Often.null2Void(t("CURRENT_PROJECT_SETTING","HIDDEN_YN"),"N")},getProjectManagerYn:function(){var n=$("#postPopup").is(":visible")?"POP":"CURRENT";return Often.null2Void(t(n+"_PROJECT_SETTING","MNGR_DSNC"),"N")},getProjectSrchAuthYn:function(){var n=$("#postPopup").is(":visible")?"POP":"CURRENT";return Often.null2Void(t(n+"_PROJECT_SETTING","SRCH_AUTH_YN"),"N")},getProjectBgColorCd:function(){return Often.null2Void(t("CURRENT_PROJECT_SETTING","BG_COLOR_CD"),"0")},getPopProjectBgColorCd:function(){return Often.null2Void(t("POP_PROJECT_SETTING","BG_COLOR_CD"),"0")},getBuyManger:function(){return Often.null2Void(t("ONLY_BUY_SETTING","MNGR_DSNC"),"N")},getBuyGrcDt:function(){return Often.null2Void(t("ONLY_BUY_SETTING","GRC_DT"),"7")},getBuyPrjMkLmtYn:function(){return Often.null2Void(t("ONLY_BUY_SETTING","PRJ_MK_LMT_YN"),"N")},getSerpYn:function(){return Often.null2Void(t("ONLY_BUY_SETTING","SERP_YN"),"N")},getLeftFoldCollectYn:function(){return Often.null2Void(Often.null2Void(t("ONLY_LEFT_FOLD_SETTING")).COLLECT,"Y")},getLeftFoldRecentYn:function(){return Often.null2Void(Often.null2Void(t("ONLY_LEFT_FOLD_SETTING")).RECENT,"Y")},getLeftFoldLabelYn:function(){return Often.null2Void(Often.null2Void(t("ONLY_LEFT_FOLD_SETTING")).LABEL,"Y")}};function e(n){return 0===n.indexOf("ONLY_")?"N_"+n:"N_"+n+"_"+_TAB_ID}function r(n,t){localStorage.setItem(e(n),t)}function u(n){return localStorage.getItem(e(n))}function n(n){return t(n)}function t(t,n){try{return n?JSON.parse(u(t))[n]:JSON.parse(u(t))}catch(n){return Often.null2Void(u(t))}}}();
"use strict";var LockControl=function(){var t,o,c,n,a,l,r=0;return{isLockMode:function(){return"lock"===location.hash},initSetting:function(){t=LocalUtil.getLocalValue("ONLY_USER_SETTING","LOCK_MODE_MIN"),t=""===Often.null2Void(t)?"":t,Often.isServerModeByHost("DEV_TEST");o=LocalUtil.getLocalValue("ONLY_USER_SETTING","LOCK_MODE_YN"),o=""===Often.null2Void(o)?"N":o,ServerChecker.isMobis&&(o=Mobis.get("LOCK_MODE_YN")),ServerChecker.isHyundaicar&&(o=Hyundaicar.get("LOCK_MODE_YN")),Often.isServerModeByHost("DEV_TEST");var e=LocalUtil.getDeviceId();LocalUtil.setLocal("ONLY_LOCK_MODE_MIN_"+e,t),LocalUtil.setLocal("ONLY_LOCK_MODE_YN_"+e,o),function(){n&&clearInterval(n),a&&clearTimeout(a);var e=$("body");function t(){var e=$("#toastPopup.js-lock-timer");e.fadeOut(200,function(){e.remove()}),s(),n&&clearInterval(n),a&&clearTimeout(a),a=setTimeout(i,5e3)}e.off("mousemove").off("mouseleave"),"N"!==o&&(l=LocalUtil.getDeviceId(),s(),e.on({mousemove:function(){t()},mouseleave:function(){t(),SocketControl.sendMessage({CHAT_CODE:SocketAPI.COMM.MOUSE_MOVE,ROOM_SRNO:_USER_ID,DUID:l})}}))}()},startLockModeAfterMinutes:i};function i(){var o=60*(c=Number(LocalUtil.getLocal("ONLY_LOCK_MODE_MIN_"+l)));n&&(location.hash="",r=0,clearInterval(n));var a=!1;n=setInterval(function(){var e,t=o-++r;Often.isFunc(Func.LOG.LOCK)&&t<60&&0<t&&(e=t+"초 뒤에 잠금모드로 전환됩니다",a?$("#toastPopup.js-lock-timer").find(".text").text(e):(a=!0,PopupDraw.drawToast({type:"success",msg:e,sec:1e5}),$("#toastPopup").addClass("js-lock-timer"))),t<0&&($("#toastPopup.js-lock-timer").fadeOut(200),location.hash="lock",SocketControl.sendMessage({CHAT_CODE:SocketAPI.COMM.TEMP_LOGOUT,ROOM_SRNO:_USER_ID,DUID:l,MINS:c}),r=0,clearInterval(n))},1e3)}function s(){LocalUtil.setLocal("ONLY_BASE_TIME_BY_LOCK_"+l,Tz.momentConversion("current"))}}();
"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}var MobileApp=function(){var e={N:"bizplaycollabo",Y:"bizplaycollaboent",G:"bizplaycollabogtalk",J:"joinsflow",K:"ktworks"},l={N:"https://itunes.apple.com/kr/app/%ED%94%8C%EB%A1%9C%EC%9A%B0-%EC%89%AC%EC%9A%B4-%ED%98%91%EC%97%85%ED%88%B4/id939143477?mt=8",Y:"https://itunes.apple.com/kr/app/kollabo-hyeob-eob!-ijebuteo/id1280834744?l=ko&ls=1&mt=8",G:"https://itunes.apple.com/kr/app/gtalk-%EC%A7%80%ED%86%A1/id1334605799?mt=8",J:"https://apps.apple.com/kr/app/id1484802560",K:"https://apps.apple.com/us/app/id1530166948"},n={N:"com.webcash.bizplay.collabo",Y:"team.flow.flowEnt",G:"team.flow.GTalkEnt",J:"com.joins.flow2",K:"team.flow.ktflow"};return{executeApp:p,goAppStoreOrPlayStore:function(o,t){if(o=o||GUBUN,t=t||_ENTER_YN,"IPHONE"===o||"IPAD"===o)return location.href=l[t];location.href=r("market://details",{id:n[t],referer:INVT_KEY})},goPostByTinyUrl:function(o){var t;""!==o&&(t=o.split("/"),o=i(1<t.length?t[1]:""),t=i(2<t.length?t[2]:""),p({colabo_srno:o,colabo_commt_srno:t}))}};function p(o,t){t=t||_ENTER_YN,location.href=r(e[t]+"://open",o)}function r(o,t){var e,l=o,n=0;for(e in t)l+=(0===n?"?":"&")+i(e)+"="+i(t[e]),n++;return l}function i(o,t){return null==o||""===o||void 0===_typeof(o)||"null"===o||"undefined"===o||void 0===o?"string"==typeof t?t:"":o}}();
"use strict";var windowChildren={},OpenUtil=function(){return{openMessengerByRoomSrno:o,openMessengerByOneUserId:function(e){e={SENDIENCE_REC:[{IN_RCVR_USER_ID:e}]};e.packetOption=Ajax.OPTION.PREVENT_EXECUTE,Ajax.executeApi(RestApi.POST.COLABO2_CHAT_C001,e,function(e){o(e.ROOM_SRNO)})},openMessengerByProjectSrno:function(e){e={COLABO_SRNO:e};e.packetOption=Ajax.OPTION.PREVENT_EXECUTE,Ajax.executeApi(RestApi.POST.COLABO2_CHAT_C001,e,function(e){o(e.ROOM_SRNO)})},openMessengerByFavoriteGroupCode:function(e){e={GROUP_CD:e,RENEWAL_YN:"Y"};e.packetOption=Ajax.OPTION.PREVENT_EXECUTE,Ajax.executeApi(RestApi.POST.COLABO2_CHAT_C002,e,function(e){o(e.ROOM_SRNO)})},openMessengerByInvite:function(i,e,n,t){t={SENDIENCE_REC:e,DVSN_REC:n,GROUP_REC:t,ROOM_SRNO:i};t.packetOption=Ajax.OPTION.PREVENT_EXECUTE,Ajax.executeApi(RestApi.POST.COLABO2_CHAT_C001,t,function(n){function t(){self.close()}i!==n.ROOM_SRNO?Chatting.getRoomInfo(!0,n.ROOM_SRNO,function(e){o(n.ROOM_SRNO),"N"!==e.READ_OVER_YN&&MessengerApi.readMessage(!1,i),e.ROOM_GB!==RoomType.ONE_TO_ONE?SocketControl.sendMessage({CHAT_CODE:SocketAPI.CONNECT.MESSENGER.CREATE,ROOM_SRNO:CONNECT_ID,CHATTING_ROOM_SRNO:n.ROOM_SRNO,CHAT_DATA:n},t):t()}):MessengerApi.inviteMessenger(n,function(){setTimeout(function(){t()},200)})})},openMessengerByDvsnCode:function(e){e={DVSN_CD:e};e.packetOption=Ajax.OPTION.PREVENT_EXECUTE,Ajax.executeApi(RestApi.POST.COLABO2_CHAT_C002,e,function(e){o(e.ROOM_SRNO)})},openMini:function(){var e=0,n=setInterval(function(){2<++e&&(clearInterval(n),PopupDraw.drawConfirm({contents:{main:i18next.t("front.alert.installFlow")},callback:{submit:DownloadApp.desktopDownload}}))},500);location.href=ServerChecker.isReal?"flownew://":"flowRenewalAppLink://",$(window).on("blur",function(){clearInterval(n)})},openWindow:t,openSubScreen:function(e){var n;n="GOOGLE_DRIVE"===e.GB?"flow-renewal/view/subscreen_view.jsp?GB=GOOGLE_DRIVE":"subscreen.act?GB="+e.GB;var t=$.extend({},c(e.GB)),t=_("",e.GB,t);return Often.submitForm(e.GB,n,e.GB,e),t},openGanttChart:function(e){var n,t,i;LimitGuest.isLimitGuest("timeline")||(n="gantt_chart",Electron.isElectronApp()||_("","_parent"),e=Often.null2Void(e),Often.submitForm(n,"gantt_chart.act",n,{USER_ID:_USER_ID,PRFL_PHTG:_PRFL_PHTG,COLABO_SRNO:e,STTS:"S"}),Electron.isElectronApp()&&(t=c("GANTT"),i=window.screenX||window.screenLeft,e=window.screenY||window.screenTop,Electron.setWindowSize(n,t.width,t.height,i+10,e+10)))},openPopup:_,openUrlOnBrowser:function(e,n){if(n=n||e,Electron.isElectronApp())return Electron.openExternalLink(e);t(e,n)}};function o(e){var n=Often.isBrowser().ie,t=Often.isBrowser().safari,i=Often.isBrowser().firefox,o="/messenger.act?room="+btoa(e)+"&time="+(new Date).getTime(),r="POPUP_CHAT_"+e,O=$.extend({},c("MESSENGER"));if(n||t||i)return _(o,r,O,ELECTRON_OPEN.CHAT);if(windowChildren[r]&&null!=windowChildren[r].parent)return LocalUtil.removeLocal("ONLY_MESSENGER-"+e),void windowChildren[r].focus();if(0<Object.keys(windowChildren).length&&!Electron.isElectronApp())for(var E in windowChildren)Math.abs(windowChildren[E].screenLeft-O.left)<5&&Math.abs(windowChildren[E].screenTop-O.top)<5&&(O.top+=30,O.left+=30);var s,i=Electron.isElectronApp();o&&i?s=_(o,r,O,ELECTRON_OPEN.CHAT):(o=LocalUtil.getLocalJson("ONLY_MESSENGER-"+e),s=_("",r,O,ELECTRON_OPEN.CHAT),Often.submitForm(r,"/messenger.act",r,{room:btoa(e),roomKind:o?LocalUtil.getLocalJson("ONLY_MESSENGER-"+e).ROOM_KIND:"",time:(new Date).getTime()})),windowChildren[r]=s}function c(e){var n,t=Often.getClientOSInfo().isWin7,i="INVITE_CHAT"===e||"NEW_CHAT"===e;return"IMAGE_VIEWER"===e||"SIMPLE_IMAGE_VIEWER"===e?n={width:820,height:720}:"CHAT_COLLECTION"===e?n={width:640,height:780}:"GOOGLE_DRIVE"===e||"DROPBOX_DRIVE"===e?n={width:620,height:720}:"MESSENGER"===e?n={width:420,height:640}:"MINI"===e?n={width:450,height:660}:"GANTT"===e?n={width:1366,height:768}:"CHAT_LONG_TEXT"===e||"CHAT_NOTICE_TEXT"===e?n={width:420,height:640}:i&&Often.isFunc("INVITATION_POPUP")?n={width:640,height:660,resizable:"no"}:i&&!Often.isFunc("INVITATION_POPUP")?n={width:431,height:660,resizable:"no"}:"FAVORITE"===e?n={width:430,height:660,resizable:"no"}:"PROFILE"===e?n={width:350,height:640,resizable:"no"}:"POST_LINK"===e?n={width:674,height:768,resizable:"no"}:"flowDrive"===e&&(n={width:1100,height:800}),"CHAT_COLLECTION"===e||"INVITE_CHAT"===e||"NEW_CHAT"===e||"PROFILE"===e||"FAVORITE"===e||-1<e.indexOf("_DRIVE")||"IMAGE_VIEWER"===e||"SIMPLE_IMAGE_VIEWER"===e||"CHAT_LONG_TEXT"===e||"CHAT_NOTICE_TEXT"===e||"POST_LINK"===e?(n.left=o(Number(window.screenLeft)+Number(window.outerWidth)),n.top=o(window.screenTop)):(n.left=o(window.screenLeft+($(window).width()-n.width)/2),n.top=o(window.screenTop+($(window).height()-n.height)/2)),n;function o(e){return t&&e<-1?0:e}}function _(e,n,t,i){var o=Electron.isElectronApp();if(e&&o)return e=Often.getLocOrigin()+e,void(ELECTRON_OPEN.CHAT===i?Electron.openElectronMessenger(e,n,t.width,t.height,t.left,t.top):Electron.openWindow(e,n,t.width,t.height,t.left,t.top));t=t?"width="+t.width+"px, height="+t.height+"px, top="+t.top+", left="+t.left+", resizable="+Often.null2Void(t.resizable,"yes"):"";return window.open(e,n,t)}function t(e,n){var t;e=e.replace("https://","").replace("http://",""),window.open((-1<(t=e).indexOf("localhost")||-1<t.indexOf("gw.oto.kr")?"http://":"https://")+e,n)}}();
"use strict";var PasteFile=function(){return{preventAll:o,pasteFileEvent:i,hideDimd:function(e){e=0<e.findUp(".js-dimd-layer").length;($(".js-dimd-layer:visible").length>0||e)&&r()},onUploadAreaPasteEvent:function(e){var n=$(e.target),t=(0<n.findUp(".js-comment-area").length?n.parents(".js-remark-layer"):n.findUp(".js-popup-before")).find(".js-dimd-layer");return!n.is("input")&&!n.is("textarea")&&(0!==t.length?(i(e,"paste"),r(),!0):(o(e),!1))},onUploadAreaDragEnterEvent:function(e){if(function(e){var t=!1,e=ClipBoard.getClipboardData(e);if(!e)return!1;if(!e.items)return!1;0<e.items.length&&$.each(e.items,function(e,n){if("file"===n.kind)return!(t=!0)});return t}(e)){var n=$(e.target),t=n.findUp(".js-popup-before").attr("data-code"),e=0<n.findUp(".js-remark-layer").length,n=(e?n.parents(".js-remark-layer"):n.findUp(".js-popup-before")).find(".js-dimd-layer");return"VIEW"!==t||e?0!==n.length&&(n.removeClass("d-none"),!0):!1}},onDimdAreaDragOverEvent:function(e){return!(0<$(e.target).findUp(".js-dimd-layer").length)&&(r(),!0)},onDropEvent:function(e){return 0!==$(e.target).findUp(".js-dimd-layer:visible").length?(i(e,"drop"),r(),!0):(o(e),!1)}};function r(){$(".js-dimd-layer").addClass("d-none")}function i(i,e){var a=Often.isMessenger(),n=ClipBoard.getClipboardData(i);if(""!==Often.null2Void(n)){var t="paste"===e&&""===n.getData("Text");!t&&"drop"!==e||o(i);var r=("drop"===e?i.originalEvent.dataTransfer:n).files;if(!r||0===r.length)return t&&Often.isBrowser("whale")?Often.toast("error","웨일 브라우저에서는 현재 지원하지 않는 기능입니다."):void 0;if(a){n=r.length,t=1<n?i18next.t("front.pasteFile.fileCount",{name:r[0].name,count:n}):r[0].name;if(!FileUtil.isFolder(t)&&!FileUtil.isLimitOnMultiUpload(n,!0)){for(var l=0;l<r.length;l++)if(FileUtil.isAvailableFileSize(r[l].size))return;PopupDraw.drawConfirm({contents:{main:i18next.t("front.alert.transferFile")+"\n"+t},callback:{submit:s,final:function(e){e.addClass("js-file-send")}}})}}else s()}function s(){Upload.putFilesAndSend("",r,function(e,n){if(a)return MessengerSend.sendFile(e,n);var t=$(i.target),r=t.findUp(".js-remark-layer");if(0<r.length){n=r.find(".js-remark-form").hasClass("admin");return Authority.isAdminAuthorityCheckAndAction(n)?void 0:void ItemRemark.drawUploadFile(e,r)}PostAppend.appendFileOrImg(t,e)},d)}function d(e){a&&$("#message-"+e).find(".reload-wr").css("display","none")}}function o(e){e.stopPropagation(),e.preventDefault()}}();
"use strict";var PasteText={pasteTextEvent:function(e){0!==$(e.target).findUp("[contenteditable=true]").length&&(e.preventDefault(),e=ClipBoard.getClipboardData(e),Often.isBrowser("ie")?function(e){var t=window.getSelection();if(t.getRangeAt&&t.rangeCount){var n=t.getRangeAt(0);n.deleteContents();var a,r,o=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=Often.null2Void(e);a=i.firstChild;)r=o.appendChild(a);n.insertNode(o),r?((n=n.cloneRange()).setStartAfter(r),n.collapse(!0),t.removeAllRanges(),t.addRange(n)):Often.toast("error",i18next.t("front.top.IEwarning"))}}(e.getData("text")):e.items&&0!==e.items.length&&(!document.queryCommandSupported("insertText")||0!==(e=TagConvert.html2HtmlStringByCopy(e.getData("text"))).length&&document.execCommand("insertHTML",!1,e)))}};
"use strict";var PopupDraw=function(){var p,h,a;return{drawInputConfirm:function(t){e("input",$.extend({TITLE:t.contents&&t.contents.title,HOLDER:t.contents&&t.contents.holder,VALUE:t.contents&&t.contents.value,EMPTY_MSG:t.contents&&t.contents.empty,OVER_MSG:t.contents&&t.contents.over,CLASS:t.class},n(t)))},drawConfirm:function(t){if($("#tempPopup .confirm-popup").is(":visible"))return!1;e("confirm",$.extend({MINI:t.mini,CONTENTS:t.contents&&t.contents.main},n(t)))},drawColorSetting:function(t){e("color",n(t))},drawLabelSetting:function(t){e("label",n(t))},drawPushAlarmSetting:function(t){e("push-alarm",n(t))},drawBlock:function(t){e("limit",$.extend({MINI:t.mini,CLASS:t.class,TITLE:i18next.t(t.contents&&t.contents.title),CONTENTS:Interpolation.breakLine(i18next.t(t.contents&&t.contents.main))},n(t)))},drawBigBlock:function(t){e("big-block",$.extend({CLASS:t.class,TITLE:t.contents&&t.contents.title,CONTENTS:t.contents&&t.contents.main},n(t)))},drawCheck:function(t){e("check-box",$.extend({MINI:t.mini,CLASS:t.contents&&t.class,CHECK_ID:t.contents&&t.id,TITLE:t.contents&&t.contents.title,CONTENTS:t.contents&&t.contents.main,VALUE:t.contents&&t.contents.value,HOLDER:t.contents&&t.contents.holder},n(t)))},drawAuth:function(t){e("auth",$.extend({CLASS:t.contents&&t.class,TITLE:t.contents&&t.contents.title,CONTENTS:t.contents&&t.contents.main,COUNTER_ID:t.contents&&t.contents.id},n(t)))},getPopupWrapObj:function(){return $($("#popupWrap").html()).attr("id","tempPopup").css("display","none").addClass("temp-popup")},drawToast:function(t){var n,e,o,i;function c(){return $("#toastPopup")}function l(){c().remove()}""!==Often.null2Void(t)&&(n=Often.null2Void(t.type,""),e=Often.null2Void(t.msg,""),o=Number(Often.null2Void(t.sec,"2500")),""!==e&&""!==n&&(0<(i=c()).length&&l(),(t=$($("#toastWrap").html())).attr("id","toastPopup"),Electron.isElectronApp()&&t.addClass("mini"),t.find(".alert-type").addClass(n),t.find(".text").text(e),$("body").prepend(t),(i=c()).fadeIn(200),a&&clearTimeout(a),a=setTimeout(function(){i.fadeOut(200,l)},o)))},closePopup:u,openTempPopup:b,addEventOnTempPopup:S};function n(t){return{AWAIT:t.await,LINK_URL:t.linkUrl,SUBMIT_TEXT:i18next.t(t.contents&&t.contents.submit),SECONDARY_SUBMIT_TEXT:i18next.t(t.contents&&t.contents.secondarySubmit),CANCEL_TEXT:i18next.t(t.contents&&t.contents.cancel),LINK_TEXT:i18next.t(t.contents&&t.contents.link_text),SUBMIT_CALLBACK:t.callback&&t.callback.submit,SECONDARY_SUBMIT_CALLBACK:t.callback&&t.callback.secondarySubmit,CANCEL_CALLBACK:t.callback&&t.callback.cancel,CLOSE_CALLBACK:t.callback&&t.callback.close,FINAL_CALLBACK:t.callback&&t.callback.final,KEYUP_CALLBACK:t.callback&&t.callback.keyup}}function e(t,n){h=$.extend({},n);var e,o,i,c,l,a,p,s,u,r,d,f,C,m,L,T,A,E,a=$((e=$("#colorPopup").html(),o=$("#confirmPopup").html(),i=$("#miniAlertPopup").html(),c=$("#alertPopup").html(),l=$("#labelWrap").html(),a=$("#pushWrap").html(),f=$("#profileWrap").html(),p=$("#popupWrap").html(),s=$("#blockPopup").html(),u=$("#bigBlockPopup").html(),r=$("#checkBoxPopup").html(),d=$("#emailAuthLayer").html(),f=ListHelper.replaceJson(p,{contents:u+s+e+o+r+d+i+c+l+a+f}),$(f).attr("id","tempPopup").css("display","none").addClass("temp-popup")));"input"===t?((f=a.find(".popup-input")).attr({"data-empty-msg":n.EMPTY_MSG,"data-over-msg":n.OVER_MSG}),L=f,A=Number(L.attr("maxlength")),L.off("keyup").on("keyup",function(t){T&&clearTimeout(T),T=setTimeout(function(){L.val().length===A&&Often.toast("error",L.attr("data-over-msg"))},10)})):"label"===t?(C=a.find(".js-label-ul"),AllLabel.drawProjectLabelList(C)):"push-alarm"===t?(m=a.find(".push-alarm-content"),PushAlarmSetting.drawPushAlarmSetting(m)):"check-box"===t?(C=a.find(".js-checkbox-input"),m=a.find(".js-checkbox-label"),C.attr("id",n.CHECK_ID),m.attr("for",n.CHECK_ID)):"auth"===t&&a.find(".js-auth-counter").attr("id",n.COUNTER_ID),a.find(".popup-title").text(n.TITLE),a.find(".popup-input").attr("placeholder"," "+n.HOLDER).val(Often.null2Void(n.VALUE)),a.find(".popup-cont").html(n.CONTENTS),a.find(".submit-event").text(Often.null2Void(n.SUBMIT_TEXT,i18next.t("dictionary.confirm"))),a.find(".cancel-event").text(i18next.t("dictionary.cancel")),a.find(".secondary-submit-event").text(n.SECONDARY_SUBMIT_TEXT),"limit"===t?(E=a.find("."+t+"-popup"),n.MINI&&E.addClass("chat-limit-popup"),n.LINK_URL&&a.find("#detailLinkBtn").css("display","inline-block"),n.LINK_TEXT&&a.find("#detailLinkBtn").text(n.LINK_TEXT),n.SUBMIT_TEXT||a.find(".limit-link-button").css("display","none"),n.CONTENTS===BLOCK_TYPE.STOP_FLOWNEW&&E.find(".limit-close-button").css("display","none")):(t=(n.MINI?"mini-":"")+t,E=a.find("."+t+"-popup")),n.CLASS&&E.addClass(n.CLASS),E.css("display","block"),S(a),b(a)}function S(t){t.on("click",function(t){t.stopPropagation();var n=$(t.target),e=n.is(".back-area"),o=n.findUp(".close-event"),i=n.findUp(".cancel-event"),c=n.findUp(".submit-event"),l=n.findUp(".secondary-submit-event"),a=n.findUp(".color-item"),t=n.findUp("#detailLinkBtn");if(e||0<o.length)return u();if(0<i.length)h&&"function"==typeof h.CANCEL_CALLBACK?h.CANCEL_CALLBACK(p):u();else{if(0<c.length)return s();0<l.length?h&&"function"==typeof h.SUBMIT_CALLBACK?(h.SECONDARY_SUBMIT_CALLBACK(p),h.AWAIT||u()):u():0<t.length?OpenUtil.openWindow(h.LINK_URL,"_blank"):0<a.length&&(n.findUp("#selectColorTypes").find(".project-color-check-active-1").removeClass("project-color-check-active-1"),a.addClass("project-color-check-active-1"))}}),t.off("keydown").on("keydown",function(t){t.stopPropagation(),KeyCheck.isKey(t,"ESC")?(Often.isAct("subscreen")?function(){var t=$(".temp-popup").length;if(t&&1<t)return $(".temp-popup")[t-1].remove();window.close()}:u)():KeyCheck.isKey(t,"ENTER")&&s()})}function b(t){$("body").append(t),p=$("#tempPopup"),h&&"function"==typeof h.FINAL_CALLBACK&&h.FINAL_CALLBACK(p),t.fadeIn(200,function(){(0!==t.find("input:visible").length?t.find("input:visible"):t).focus()})}function s(){h&&"function"==typeof h.SUBMIT_CALLBACK?(h.SUBMIT_CALLBACK(p),h.AWAIT||$("#tempPopup").remove()):u()}function u(){var t=$("#tempPopup");t.hasClass("serviceStop")||t.remove(),h&&"function"==typeof h.CLOSE_CALLBACK&&h.CLOSE_CALLBACK()}}();
"use strict";var Profile=function(){var t;return{drawProfilePopup:function(e){var n;"ALL"!==e&&(t=e,n=$(".js-profile-popup").is(":visible"),(e=n?$("#tempPopup"):PopupDraw.getPopupWrapObj()).css("z-index",11),n||e.find(".contents").html(""),e.find(".contents").append('<div class="profile-popup js-profile-popup d-none"></div>'),n=e.find(".js-profile-popup"),function(o,i){Ajax.executeApi(RestApi.GET.COLABO2_USER_PRFL_R002,{SRCH_USER_ID:t},function(e){var n,p;i.append((s=e,n=$("#profilePopup").html(),p=s.USER_ID===_USER_ID,e=0===Often.null2Void(s.PRFL_PHTG).length,ListHelper.replaceJson(n,{user_status_display:ListHelper.setDisplay(Often.isFunc("SET_STATUS")),btn_modi_display:ListHelper.setDisplay(p&&!Often.isAct("messenger"),"block"),btn_video_display:ListHelper.setDisplay(!p,"block"),li_slogan_display:ListHelper.setDisplay(Often.isFunc(Func.CLOUD.SHOW_SLOGAN)),profile_image:e?"":ListHelper.setProfile(s.PRFL_PHTG),IMG_DEFAULT:e?"default":"",USER_EMAIL:0!==s.EML.length?s.EML:"-",USER_TXT:0!==s.SLGN.length?s.SLGN:"-",USER_CALL:0!==s.CMPN_TLPH_NO.length?s.CMPN_TLPH_NO:"-",USER_PHONE:0!==s.CLPH_NO.length?s.CLPH_NO:"-",USER_NAME:s.FLNM,USER_POSITION:Often.null2Void(s.RSPT_NM,s.JBCL_NM),USER_COMPANY:s.CMNM,USER_DEPARTMENT:s.DVSN_NM,USER_ID:s.USER_ID}))),i.css("display","block"),$(".js-profile-popup").is(":visible")?$($(".js-profile-popup")[0]).remove():(PopupDraw.closePopup(),PopupDraw.openTempPopup(o)),PopupDraw.addEventOnTempPopup(o);var e=t===_USER_ID,s=$(".btn-wr").find(".js-btn-video");Often.showOrHideByFunc("VIDEO_CONFERENCE",s),e&&s.css("display","none"),Often.isAct("subscreen")&&e&&(i.find(".btn-modi").css("display","none"),i.addClass("mini-profile-popup"))})}(e,n),function(e){e.off("click").on("click",function(e){e.stopPropagation();var n=$(e.target),e=Electron.isElectronApp()&&Often.isAct("subscreen");0<n.findUp(".js-user-status").length?Often.toast("error","상태설정 - 준비중!!!"):0<n.findUp(".js-btn-chat").length?(e||PopupDraw.closePopup(),OpenUtil.openMessengerByOneUserId(t)):0<n.findUp(".js-btn-modi").length?(e||PopupDraw.closePopup(),MySettings.openPopup()):0<n.findUp(".js-btn-video").length?(PopupDraw.closePopup(),LimitGuest.isLimitGuest("video",Often.isAct("messenger"))||VideoConference.isZoomSynchronized(VideoConference.warnAndSendMessage,VideoConference.alertRequiredZoomSync,{isMini:Often.isAct("messenger"),type:"userID",val:n.attr("user_id")})):0<n.findUp(".btn-close").length&&(e?window.close():PopupDraw.closePopup())})}(n),Electron.isElectronApp()&&Often.isAct("subscreen")&&n.append($("#draggableForElectron").html()))},convertClphNo:function(e){var n="";n=!(e=Often.null2Void(e,"-")).length<8?e.replace(/[^0-9]/g,"").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})$/,"$1-$2-$3").replace("--","-"):"-";return n}}}();
"use strict";var RenewalApi={getTotalCount:function(){return Object.keys(RenewalApi.GET).length+Object.keys(RenewalApi.POST).length+Object.keys(RenewalApi.PUT).length},GET:{ACT_ALARM_LIST:"ACT_ALARM_LIST",ACT_FILE_CHECK:"ACT_FILE_CHECK",ACT_ORG_USERLIST:"ACT_ORG_USERLIST",ACT_POST_LIST:"ACT_POST_LIST",ACT_PROJECT_LIST:"ACT_PROJECT_LIST",ACT_POST_WORKER_LIST:"ACT_POST_WORKER_LIST",ACT_SEARCH_FILE_LIST:"ACT_SEARCH_FILE_LIST",ACT_SEARCH_POST_N_REMARK_LIST:"ACT_SEARCH_POST_N_REMARK_LIST",ACT_PROJECT_INFO:"ACT_PROJECT_INFO",ACT_ROOM_LIST:"ACT_ROOM_LIST",ACT_TASK_LIST:"ACT_TASK_LIST",ACT_FILE_LIST:"ACT_FILE_LIST",ACT_EXIST_YN_BY_POST_N_REMARK:"ACT_EXIST_YN_BY_POST_N_REMARK",ACT_ONE_TASK_STATE:"ACT_ONE_TASK_STATE"},POST:{COLABO2_C104:"COLABO2_C104"},PUT:{COLABO2_BG_COLOR_U002:"COLABO2_BG_COLOR_U002",COLABO2_NOTI_U102:"COLABO2_NOTI_U102"}};
"use strict";var RestApi={getTotalCount:function(){return Object.keys(RestApi.GET).length+Object.keys(RestApi.POST).length+Object.keys(RestApi.PUT).length+Object.keys(RestApi.DELETE).length},GET:{FLOW_AUTH_NO_CHECK_R001:"FLOW_AUTH_NO_CHECK_R001",FLOW_AUTH_NO_CHECK_R002:"FLOW_AUTH_NO_CHECK_R002",FLOW_BUY_R007:"FLOW_BUY_R007",FLOW_BUY_R009:"FLOW_BUY_R009",FLOW_CUR_TIME_R001:"FLOW_CUR_TIME_R001",FLOW_CHAT_LOST_CHECK_R001:"FLOW_CHAT_LOST_CHECK_R001",FLOW_CHAT_SRCH_MSG_R001:"FLOW_CHAT_SRCH_MSG_R001",FLOW_DEVICE_ACCESS_R001:"FLOW_DEVICE_ACCESS_R001",FLOW_DVSN_R003:"FLOW_DVSN_R003",FLOW_EXT_SERVICE_R001:"FLOW_EXT_SERVICE_R001",FLOW_EMPL_R001:"FLOW_EMPL_R001",FLOW_FAV_GROUP_R002:"FLOW_FAV_GROUP_R002",FLOW_GROUP_R001:"FLOW_GROUP_R001",FLOW_JOIN_REQ_R001:"FLOW_JOIN_REQ_R001",FLOW_JOIN_REQ_R002:"FLOW_JOIN_REQ_R002",FLOW_LANG_PACK_R001:"FLOW_LANG_PACK_R001",FLOW_PUB_CAT_R001:"FLOW_PUB_CAT_R001",FLOW_PUB_PRJ_R001:"FLOW_PUB_PRJ_R001",FLOW_SUB_DOM_R001:"FLOW_SUB_DOM_R001",FLOW_SCHD_ATD_R02:"FLOW_SCHD_ATD_R02",FLOW_SENDIENCE_R001:"FLOW_SENDIENCE_R001",FLOW_SERVICE_CENTER_R001:"FLOW_SERVICE_CENTER_R001",FLOW_TAG_R001:"FLOW_TAG_R001",FLOW_TASK_FILTER_R001:"FLOW_TASK_FILTER_R001",FLOW_TASK_COLUMN_R001:"FLOW_TASK_COLUMN_R001",FLOW_UPDATE_R001:"FLOW_UPDATE_R001",FLOW_USE_INTT_INFM_R001:"FLOW_USE_INTT_INFM_R001",FLOW_VIEW_TYPE_U001:"FLOW_VIEW_TYPE_U001",FLOW_ONE_PROJ:"FLOW_ONE_PROJ",FLOW_USE_INTT_LINK_R001:"FLOW_USE_INTT_LINK_R001",COLABO_USER_DUPLICATE_R001:"COLABO_USER_DUPLICATE_R001",COLABO2_ADM_R002:"COLABO2_ADM_R002",COLABO2_AT_ME_R101:"COLABO2_AT_ME_R101",COLABO2_AUTO_LOGIN_R001:"COLABO2_AUTO_LOGIN_R001",COLABO2_AUTO_LOGIN_R002:"COLABO2_AUTO_LOGIN_R002",COLABO2_BUY_R001:"COLABO2_BUY_R001",COLABO2_CHAT_SENDIENCE_R001:"COLABO2_CHAT_SENDIENCE_R001",COLABO2_CHAT_SENDIENCE_R002:"COLABO2_CHAT_SENDIENCE_R002",COLABO2_CHAT_SENDIENCE_R003:"COLABO2_CHAT_SENDIENCE_R003",COLABO2_CHAT_MSG_R001:"COLABO2_CHAT_MSG_R001",COLABO2_CHAT_MSG_R002:"COLABO2_CHAT_MSG_R002",COLABO2_CHAT_CNPL_R001:"COLABO2_CHAT_CNPL_R001",COLABO2_CHAT_SOCKET_ID_LIST_R001:"COLABO2_CHAT_SOCKET_ID_LIST_R001",COLABO2_CHAT_NOTICE_R001:"COLABO2_CHAT_NOTICE_R001",COLABO2_CHAT_R001:"COLABO2_CHAT_R001",COLABO2_EMOTI_R001:"COLABO2_EMOTI_R001",COLABO2_EMOTI_R002:"COLABO2_EMOTI_R002",COLABO2_EMT_R001:"COLABO2_EMT_R001",COLABO2_FLD_L102:"COLABO2_FLD_L102",COLABO2_FILE_FLD_R001:"COLABO2_FILE_FLD_R001",COLABO2_FILE_FLD_R003:"COLABO2_FILE_FLD_R003",COLABO2_FILE_FLD_R004:"COLABO2_FILE_FLD_R004",COLABO2_FILESIZE_CONF_R001:"COLABO2_FILESIZE_CONF_R001",COLABO2_FILE_EXTENSION_BLOCK_R001:"COLABO2_FILE_EXTENSION_BLOCK_R001",COLABO2_FUNC_R003:"COLABO2_FUNC_R003",COLABO2_INVT_R001:"COLABO2_INVT_R001",COLABO2_INVT_R003:"COLABO2_INVT_R003",COLABO2_LOGOUT_R001:"COLABO2_LOGOUT_R001",COLABO2_LOGIN_R003:"COLABO2_LOGIN_R003",COLABO2_L105:"COLABO2_L105",COLABO2_MNGR_R001:"COLABO2_MNGR_R001",COLABO2_NOTI_R101:"COLABO2_NOTI_R101",COLABO2_NOT_READ_CNT_R001:"COLABO2_NOT_READ_CNT_R001",COLABO2_PIN_R001:"COLABO2_PIN_R001",COLABO2_PWD_R001:"COLABO2_PWD_R001",COLABO2_R104:"COLABO2_R104",COLABO2_REMARK_R101:"COLABO2_REMARK_R101",COLABO2_SENDIENCE_R101:"COLABO2_SENDIENCE_R101",COLABO2_SET_R101:"COLABO2_SET_R101",COLABO2_SCHD_R005:"COLABO2_SCHD_R005",COLABO_TOOLTIP_LOG_R001:"COLABO_TOOLTIP_LOG_R001",COLABO2_VIDEO_CONFERENCE_R001:"COLABO2_VIDEO_CONFERENCE_R001",COLABO2_USER_PRFL_R002:"COLABO2_USER_PRFL_R002",COLABO_ZOOM_TOKEN_R001:"COLABO_ZOOM_TOKEN_R001"},POST:{FLOW_GROUP_MEMBER_C001:"FLOW_GROUP_MEMBER_C001",COLABO2_GROUP_MEMBER_C004:"COLABO2_GROUP_MEMBER_C004",FLOW_GROUP_C001:"FLOW_GROUP_C001",FLOW_JOIN_C001:"FLOW_JOIN_C001",FLOW_LANG_PACK_C001:"FLOW_LANG_PACK_C001",FLOW_SUB_DOM_C001:"FLOW_SUB_DOM_C001",FLOW_SUBTASK_C001:"FLOW_SUBTASK_C001",FLOW_TEAM_INVT_C001:"FLOW_TEAM_INVT_C001",COLABO_TOOLTIP_LOG_C001:"COLABO_TOOLTIP_LOG_C001",COLABO_USER_HISTORY_C001:"COLABO_USER_HISTORY_C001",COLABO2_ADM_C002:"COLABO2_ADM_C002",COLABO2_BRING_C001:"COLABO2_BRING_C001",COLABO2_COMMT_C101:"COLABO2_COMMT_C101",COLABO2_C102:"COLABO2_C102",COLABO2_C103:"COLABO2_C103",COLABO2_C105:"COLABO2_C105",COLABO2_CHAT_C001:"COLABO2_CHAT_C001",COLABO2_CHAT_C002:"COLABO2_CHAT_C002",COLABO2_CHAT_MSG_C001:"COLABO2_CHAT_MSG_C001",COLABO2_CHAT_MSG_READ_C002:"COLABO2_CHAT_MSG_READ_C002",COLABO2_FILE_FLD_C001:"COLABO2_FILE_FLD_C001",COLABO2_FLD_C101:"COLABO2_FLD_C101",COLABO2_INVT_C001:"COLABO2_INVT_C001",COLABO2_PUSH_C001:"COLABO2_PUSH_C001",COLABO2_PIN_C001:"COLABO2_PIN_C001",COLABO2_REMARK_C101:"COLABO2_REMARK_C101",COLABO2_REGISTER_C001:"COLABO2_REGISTER_C001",COLABO2_SMS_C001:"COLABO2_SMS_C001",COLABO2_SENDIENCE_C001:"COLABO2_SENDIENCE_C001",COLABO2_SENDIENCE_C002:"COLABO2_SENDIENCE_C002",IAMPORT_PAYMENT_C001:"IAMPORT_PAYMENT_C001"},PUT:{FLOW_GROUP_U001:"FLOW_GROUP_U001",FLOW_TASK_WORKER_U002:"FLOW_TASK_WORKER_U002",FLOW_TASK_FILTER_U001:"FLOW_TASK_FILTER_U001",FLOW_TASK_COLUMN_U001:"FLOW_TASK_COLUMN_U001",FLOW_TASK_REPORT_U001:"FLOW_TASK_REPORT_U001",FLOW_SCHD_ATD_U001:"FLOW_SCHD_ATD_U001",FLOW_SCHD_ATD_U002:"FLOW_SCHD_ATD_U002",FLOW_SUBTASK_U001:"FLOW_SUBTASK_U001",colabo_fld_u003:"colabo_fld_u003",COLABO_FLD_ITEM_U002:"COLABO_FLD_ITEM_U002",COLABO2_ALAM_U002:"COLABO2_ALAM_U002",COLABO2_ALAM_U102:"COLABO2_ALAM_U102",COLABO2_BG_COLOR_U001:"COLABO2_BG_COLOR_U001",COLABO2_COMMT_U101:"COLABO2_COMMT_U101",COLABO2_CHAT_U001:"COLABO2_CHAT_U001",COLABO2_CHAT_MSG_U001:"COLABO2_CHAT_MSG_U001",COLABO2_CHAT_MSG_READ_U002:"COLABO2_CHAT_MSG_READ_U002",COLABO2_CHAT_NOTICE_SEE_U001:"COLABO2_CHAT_NOTICE_SEE_U001",COLABO2_CHAT_SENDIENCE_U001:"COLABO2_CHAT_SENDIENCE_U001",COLABO2_CHAT_SENDIENCE_U002:"COLABO2_CHAT_SENDIENCE_U002",COLABO2_CHAT_SENDIENCE_U005:"COLABO2_CHAT_SENDIENCE_U005",COLABO2_CHAT_SENDIENCE_U006:"COLABO2_CHAT_SENDIENCE_U006",COLABO2_FLD_U101:"COLABO2_FLD_U101",COLABO2_FILE_FLD_U001:"COLABO2_FILE_FLD_U001",COLABO2_FILE_FLD_U002:"COLABO2_FILE_FLD_U002",COLABO2_INVT_U001:"COLABO2_INVT_U001",COLABO2_NOTI_U101:"COLABO2_NOTI_U101",COLABO2_PWD_U001:"COLABO2_PWD_U001",COLABO2_PWD_U002:"COLABO2_PWD_U002",COLABO2_POST_EMT_U001:"COLABO2_POST_EMT_U001",COLABO2_REMARK_U101:"COLABO2_REMARK_U101",COLABO2_REMARK_EMT_U001:"COLABO2_REMARK_EMT_U001",COLABO2_SET_U101:"COLABO2_SET_U101",COLABO2_SET_U102:"COLABO2_SET_U102",COLABO2_SENDIENCE_U001:"COLABO2_SENDIENCE_U001",COLABO2_TODO_U101:"COLABO2_TODO_U101",COLABO2_TASK_U001:"COLABO2_TASK_U001",COLABO2_U001:"COLABO2_U001",COLABO2_U101:"COLABO2_U101",COLABO2_USER_SET_U002:"COLABO2_USER_SET_U002",COLABO2_USER_SET_U003:"COLABO2_USER_SET_U003",COLABO2_USER_PRFL_U002:"COLABO2_USER_PRFL_U002",COLABO_ZOOM_TOKEN_U001:"COLABO_ZOOM_TOKEN_U001"},DELETE:{FLOW_DEVICE_ACCESS_D001:"FLOW_DEVICE_ACCESS_D001",FLOW_GROUP_MEMBER_D001:"FLOW_GROUP_MEMBER_D001",FLOW_SUBTASK_D001:"FLOW_SUBTASK_D001",FLOW_EXT_SERVICE_D001:"FLOW_EXT_SERVICE_D001",COLABO_D101:"COLABO_D101",COLABO2_BRING_D001:"COLABO2_BRING_D001",COLABO2_COMMT_D101:"COLABO2_COMMT_D101",COLABO2_CHAT_SENDIENCE_D001:"COLABO2_CHAT_SENDIENCE_D001",COLABO2_FLD_D101:"COLABO2_FLD_D101",COLABO2_FILE_FLD_D001:"COLABO2_FILE_FLD_D001",COLABO2_PIN_D001:"COLABO2_PIN_D001",COLABO2_REMARK_D101:"COLABO2_REMARK_D101",COLABO2_SENDIENCE_D001:"COLABO2_SENDIENCE_D001",COLABO2_USER_DELETE_001:"COLABO2_USER_DELETE_001",COLABO_ZOOM_TOKEN_D001:"COLABO_ZOOM_TOKEN_D001"}};
"use strict";var ScrapMetaData=function(){return{addUrlPreview:function(t,e){o=e,(r=t).on("keyup",function(t){KeyCheck.isKey(t,"BACK")||i(n())}).on("paste",function(t){i(ClipBoard.getClipboardData(t).getData("Text"))})},addMessengerUrlPreview:function(t,e,n){u=n,o=e,i(t)},getMetaData:a,drawUrlPreview:i,getCurrentWord:n,adjustMetaData:g,checkURL:e,isOverWidthMetaImageByDbData:function(t){return""!==t.PREVIEW_IMG&&"size1"===t.PREVIEW_GB}};var o,r,t,u;function a(t){var e,n,a,i,r;Often.isFunc("NODE_URL_PREVIEW")?s(i=t)||((r={}).ROOM_SRNO=_USER_ID,r.URL=function(t){(-1<t.indexOf("://bit.ly")||-1<t.indexOf("://goo.gl"))&&(t+="!");return t}(i),SocketControl.getSocket().emit("sendURL",r),SocketControl.getSocket().off("receiveMetadata").on("receiveMetadata",function(t){t=void 0===t.data?t:t.data;g(i,t,!0)})):s(e=t)||(t="/url_scrap.act?URL=",t+=encodeURIComponent(e),n="",(a=new XMLHttpRequest).open("GET",encodeURI(t),!0),a.onreadystatechange=function(t){4===a.readyState&&200===a.status&&(n=JSON.parse(a.response.trim()),g(e,n))},a.send(null))}function i(n){e(n)&&(t&&clearTimeout(t),t=setTimeout(function(){var t,e;a((e=(t=n).trim(),/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)/i.test(t)?e:"http://"+e))},500))}function g(t,e,n){var a,i,r;$.isEmptyObject(e)||(a=n?Often.null2Void(e.ogTitle,t):Often.null2Void(e.title,t),i=t,t=n?e.ogDescription:e.description,n=n?(r=f(e,"IMAGE"),f(e,"VIDEO")):(r=e.image,Often.null2Void(e.video_url,"")),function(t){for(var e=0;e<t.length;e++)if(void 0!==t[e]&&""!==t[e])return!1;return!0}([t,r,n])||(t={PREVIEW_TTL:a,PREVIEW_LINK:i,PREVIEW_IMG:r,PREVIEW_CNTN:t,PREVIEW_VIDEO:n,PREVIEW_GB:(t=e,n=0===Often.null2Void(t.ogImage).length,e=Array.isArray(t.ogImage),400<(n?"":(e?t.ogImage[0]:t.ogImage).width)?"size1":"size2")},"function"==typeof o&&o(t)))}function e(t){return/(((?:(?:(?:https?|ftp|file):\/\/|www\\.|ftp\\.)[-a-zA-Z0-9+&@#/%?=~_|$!:,.;ㄱ-ㅎㅏ-ㅣㄱ-힣()]*[-a-zA-Z0-9+&@#/%=~_|ㄱ-ㅎㅏ-ㅣㄱ-힣$?]|((?:mailto:)?[a-zA-Z0-9._%+-]+@[a-zA-Z0-9._%-]+\\.[a-zA-Z]{2,4})\\b)|"(?:(?:https?|ftp|file):\/\/|www\\.|ftp\\.)[^\\"\\r\\n]+\\"?|\\'(?:(?:https?|ftp|file):\/\/|www\\.|ftp\\.)[^'\\r\\n]+'?|(http(s)?:\/\/.)?(www\\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\\.(aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cx|cy|cz|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mn|mn|mo|mp|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|nom|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ra|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw|arpa)\\b([-a-zA-Z0-9@:%_+.~#?&/=]*))|((www\.)[0-9a-zA-z_\-?=%/.&#;()ㄱ-ㅎㅏ-ㅣㄱ-힣?]*[-a-zA-Z0-9+&@#/%=~_|ㄱ-ㅎㅏ-ㅣㄱ-힣$?]+))/gi.test(t)}function n(t){var e=function(){try{return window.getSelection().focusNode.data}catch(t){return""}}(),e=""===Often.null2Void(e,"")?[]:e.substring(0,window.getSelection().focusOffset).split(" ");return Often.null2Void(e[e.length-1],"")}function s(t){if("N"!==u)for(var e=function(){for(var t=[],e=r.parents(".js-popup-before:visible").find(".url-link"),n=0;n<e.length;n++)t.push(e[n].getAttribute("preview_link"));return t}(),n=c(t),a=0;a<e.length;a++){var i=c(e[a]);if(-1<n.indexOf(i)||-1<i.indexOf(n))return 1}}function c(t){return new URL(t).host}function f(t,e){var n=t.ogType||!!t.ogImage&&t.ogImage.type,n=n&&-1<n.indexOf("video");if("VIDEO"===e&&n){var n=Often.undefined2Obj(t.ogVideo,t.ogImage),a=Array.isArray(n);return 0===Often.null2Void(n).length?"":(a?n[0]:n).url}if("IMAGE"===e)return a=Array.isArray(t.ogImage),0===Often.null2Void(t.ogImage).length?"":(a?t.ogImage[0]:t.ogImage).url}}();
"use strict";var Secure={preventOverlapLogin:function(){var e=Often.getDeviceJson(_CLIENT_IP),I=e.DUID,n=e.DUID_NM;Ajax.executeApi(RestApi.GET.FLOW_USE_INTT_INFM_R001,{},function(e){"N"!==Often.null2Void(e.MULTIPLE_LOGIN_YN,"N")&&Ajax.executeApi(RestApi.GET.FLOW_DEVICE_ACCESS_R001,{SRCH_USER_ID:_USER_ID,DUID:I},function(e){$.each(e.DUID_REC,function(e,_){var D=n.split("_")[0]+"",t=_.DUID_NM.split("_")[0]+"";I===_.DUID||D.indexOf(t)<0||SocketControl.sendMessage({CHAT_CODE:"OVERLAPLOGOUT0001",ROOM_SRNO:_USER_ID,DUID:_.DUID})})})})}};
"use strict";var SocketControl=function(){var i,o,c,e=!1;return{getSocket:function(){return i},getSocketIdList:_,getRoomConnectId:function(){return c},getStrSocketUserIds:function(){return o},setStrSocketUserIds:function(t){o=t},isDisconnectAndConnect:n,connectSocket:function(t){var e;e="undefined"==typeof _CHAT_URL||""===Often.null2Void(_CHAT_URL)?ServerChecker.isReal&&!ServerChecker.isEnter?"https://flowchat.appplay.co.kr:7820":"https://flowtest.info:8082":_CHAT_URL;i=io.connect(e,{rememberUpgrade:!0}),c=Often.getUUID(),A(),Often.isAct("subscreen")||(Often.isAct("messenger")&&i.on("receiveMessage",S),(Often.isAct("main")||Often.isAct("/l/"))&&i.on("receiveMessage",E),Often.isAct("miniMain")&&i.on("receiveMessage",a)),"function"==typeof t&&t()},sendMessage:r,sendMessageByUserIds:function(e){if(!BotUtil.isBotRoom()){if(e.CHATTING_ROOM_SRNO||(e.CHATTING_ROOM_SRNO=_ROOM_SRNO),""!==Often.null2Void(o))return t();_(t,e.CHATTING_ROOM_SRNO)}function t(){e.ROOM_SRNO=_USER_ID,r(e),o.split(",").forEach(function(t){""===Often.null2Void(t)||_USER_ID===t||(e.ROOM_SRNO=t,r(e))})}},sendAlarmAndPinUpdate:function(t,e,o){var n=t?"PUSH_ALAM_YN":"PIN_YN",i={CHAT_CODE:SocketAPI.MAIN.ALARM_N_PIN_UPDATE,ROOM_SRNO:o,IN_RCVR_USER_ID:_USER_ID,CHATTING_ROOM_SRNO:o};i[n]=e;t={CHAT_CODE:SocketAPI.MAIN.ALARM_N_PIN_UPDATE,ROOM_SRNO:_USER_ID,CHATTING_ROOM_SRNO:o},o={CHAT_CODE:SocketAPI.MESSENGER.ALARM_N_PIN_UPDATE,ROOM_SRNO:_USER_ID,CHATTING_ROOM_SRNO:o,IN_RCVR_USER_ID:_USER_ID};o[n]=e,t[n]=e,r(i),r(t),r(o)},closeExpiredWindows:function(t){try{i.emit("sendMessage",{CHAT_CODE:"POPUP0001",ROOM_SRNO:_USER_ID,WEB_USER_ID:_USER_ID,isELECTRON:t})}catch(t){}},addDefaultEvent:A};function n(t,e,o){var n="function"==typeof o;return i.disconnected?(SentryMonitor.setExtra("DISCONNECT",e),SentryMonitor.captureException("[DISCONNECT] "+t),setTimeout(function(){n&&i.connected&&o()},5e3),!0):(n&&o(),!1)}function O(){Often.isAct("messenger")?(i.emit("requestRandomChat",{ROOM_SRNO:_USER_ID}),i.emit("requestRandomChat",{ROOM_SRNO:_ROOM_SRNO}),i.emit("requestRandomChat",{ROOM_SRNO:c})):Often.isAct("miniMain")?(i.emit("requestRandomChat",{ROOM_SRNO:_USER_ID}),i.emit("requestRandomChat",{ROOM_SRNO:c}),i.emit("electronSession",{USER_ID:_USER_ID,RGSN_DTTM:_RGSN_DTTM,USE_INTT_ID:_USE_INTT_ID,WEB_USER_ID:_USER_ID})):(i.emit("requestRandomChat",{ROOM_SRNO:_USER_ID}),i.emit("requestRandomChat",{ROOM_SRNO:c}))}function r(t,e){var o;n("socketMessageEmit : emitJson",o=Often.isFunc("CHAT_ENCRYPT")?$.extend({WEB_USER_ID:_USER_ID,MC_USER_ID:_USER_ID,ENCRYPT_YN:"Y",ROOM_SRNO:chatLike(t.ROOM_SRNO,_USER_ID),GUBUN:Electron.isElectronApp()?"DESKTOP":"WEB"},t):$.extend({WEB_USER_ID:_USER_ID,TAB_ID:_TAB_ID},t))||(i.emit("sendMessage",o),"function"==typeof e&&e())}function _(e,t){Ajax.executeApi(RestApi.GET.COLABO2_CHAT_SOCKET_ID_LIST_R001,{ROOM_SRNO:t},function(t){o=t.SOCKET_ID_LIST,"function"==typeof e&&e()})}function A(){function t(t){}i.on("connect",t),i.on("reconnect",t),i.on("disconnect",O),i.on("connected",O),i.on("reconnecting",t),i.on("completeMatch",function(){var t;e||(e=!0,Often.isAct("messenger")&&(t=setTimeout(function(){MessengerLost.lostLastMessage(),clearTimeout(t)},3e3)))})}function E(t){var e,o,n=Often.null2Void(t.CHAT_CODE),i=$("#chattingLayer").is(":visible"),c=Often.null2Void(t.CHATTING_ROOM_SRNO),O=LocalUtil.getDeviceId(),r=Electron.isElectronApp()&&!Electron.getElectronConfig().b_fullMode;if(n!==SocketAPI.COMM.MOUSE_MOVE&&n!==SocketAPI.MAIN.FOCUS_IN&&n!==SocketAPI.MAIN.FOCUS_OUT&&Often.clog("메인 소켓",n,t),SocketAPI.MAIN.BADGE_UPDATE===n)return AlarmUpdate.updateUnReadElementBySocketReceive(t),void Chatting.drawTopNotReadCount();if(SocketAPI.CONNECT.MESSENGER.CREATE!==n){if(SocketAPI.MAIN.READ_ALL_MESSAGE_BY_ROOM===n)return ListHelper.setCount($("#chatting-"+c).find(".not-read-count"),0),Electron.isElectronApp()&&Electron.hideNoti(c),void Chatting.drawTopNotReadCount();if(SocketAPI.MAIN.CHAT_UPDATE===n)return Chatting.drawTopNotReadCount(),i&&Chatting.updateChattingLayer(t),void(r||BrowserNoti.showChattingNotification(t));if(SocketAPI.MAIN.ROOM_NAME_UPDATE!==n&&SocketAPI.MAIN.ALARM_N_PIN_UPDATE!==n&&SocketAPI.MAIN.DELETE_MESSAGE_MY_VIEW!==n&&SocketAPI.MAIN.DELETE_MESSAGE_ALL_VIEW!==n)if(SocketAPI.MAIN.ROOM_LEAVE!==n){return SocketAPI.COMM.LOGOUT===n&&t.DUID===O?(Often.toast("info",i18next.t("front.alert.terminateDevice")),void Often.logoutDirect()):SocketAPI.COMM.TEMP_LOGOUT!==n?SocketAPI.COMM.OVERLAP_LOGOUT===n?t.DUID!==LocalUtil.getDeviceId()?void 0:(Often.toast("info",i18next.t("front.alert.terminateDevice")),void Often.logoutDirect()):SocketAPI.COMM.MOUSE_MOVE===n?t.TAB_ID===_TAB_ID||t.DUID!==LocalUtil.getDeviceId()?void 0:void LockControl.startLockModeAfterMinutes():void(SocketAPI.MAIN.FOCUS_IN!==n?SocketAPI.MAIN.FOCUS_OUT!==n?(SocketAPI.MAIN.FLOW_DRIVE_FILE_IMPORT===n&&(o=$("#postPopup:visible"),$.each(t.FILE_REC,function(t,e){PostAppend.appendFileOrImg(o,e)})),SocketAPI.MAIN.BADGE_SELF_UPDATE===n&&Often.isFunc(Func.CLOUD.ALARM_COUNT_SOCKET)&&AlarmUpdate.updateUnReadElementBySelf(t.ALARM_DATA)):$("body").attr("data-focus-room-srno",""):$("body").attr("data-focus-room-srno",t.FOCUS_ROOM_SRNO)):void(t.LOGOUT_CODE!==LogoutCode.STOP?t.DUID===O&&(e=Often.isFunc("FLOW_S_LOGOUT_ON_NEW"),O=Often.null2Void(t.MINS,0),O=Tz.convertMinToHourForLockMode(O),Often.logoutDirect(!0),PopupDraw.drawBlock({class:"service",contents:{title:i18next.t("front.common.lockMode"),main:i18next.t("front.alert.autoLogout",{time:O}),submit:i18next.t("dictionary.login")},callback:{submit:_,close:_}})):Company.drawServiceBlock(BLOCK_TYPE.SERVICE_USER,Often.logoutDirect,function(){confirm(i18next.t("front.alert.redirectLogin"))&&Often.logoutDirect()}));function _(){location.replace(e?"/login.act":"/signin.act")}}else i&&Chatting.removeChattingLayer(t);else i&&Chatting.updateChattingLayer(t)}else Chatting.updateChattingLayer(t)}function S(t){var e=Often.null2Void(t.CHAT_CODE),o=LocalUtil.getDeviceId(),n=Electron.isElectronApp(),o=t.DUID!==o;if(e!==SocketAPI.COMM.MOUSE_MOVE&&e!==SocketAPI.MAIN.FOCUS_IN&&e!==SocketAPI.MAIN.FOCUS_OUT&&Often.clog("채팅 소켓",e,t),!(MessengerApi.isReceiveAndAction(e,t)||MessengerMenu.isReceiveAndAction(e,t)||MessengerDelete.isReceiveAndAction(e,t)||MessengerNotice.isReceiveAndAction(e,t)))return SocketAPI.MESSENGER.JOIN_N_LEAVE===e?MessengerSendience.joinNLeaveRoom(t):SocketAPI.COMM.POPUP_CLOSE===e&&t.isELECTRON===Electron.isElectronApp()?Often.toast("error","POPUP_CLOSE"):SocketAPI.COMM.TEMP_LOGOUT===e?t.LOGOUT_CODE!==LogoutCode.STOP&&o?void 0:void window.close():SocketAPI.COMM.MOUSE_MOVE===e?t.TAB_ID===_TAB_ID||o?void 0:void LockControl.startLockModeAfterMinutes():SocketAPI.COMM.OVERLAP_LOGOUT===e?o?void 0:(n&&window.open("","_self",""),window.close(),void self.close()):void(SocketAPI.CONNECT.MESSENGER.FILE!==e?SocketAPI.CONNECT.MESSENGER.CREATE===e&&c===t.ROOM_SRNO&&self.close():t.FILE_REC.forEach(MessengerSend.sendFile))}function a(t){var e=Often.null2Void(t.CHAT_CODE),o=$("#miniChatting").is(":visible"),n=$("#miniProject").is(":visible"),i=Often.null2Void(t.CHATTING_ROOM_SRNO),c=Often.null2Void(t.COLABO_SRNO,"-1"),O=Electron.isElectronApp(),r=LocalUtil.getDeviceId();if(e!==SocketAPI.COMM.MOUSE_MOVE&&e!==SocketAPI.MAIN.FOCUS_IN&&e!==SocketAPI.MAIN.FOCUS_OUT&&Often.clog("미니 소켓",e,t),SocketAPI.COMM.TEMP_LOGOUT===e){if(t.LOGOUT_CODE===LogoutCode.STOP)return void Company.drawServiceBlock(BLOCK_TYPE.SERVICE_USER,Often.logoutDirect,function(){confirm(i18next.t("front.alert.redirectLogin"))&&Often.logoutDirect()});if(t.DUID!==r||O)return;O=Often.null2Void(t.MINS,0),O=Tz.convertMinToHourForLockMode(O);function _(){location.href="miniSignin.act"}return Often.logoutDirect(!0),void PopupDraw.drawBlock({mini:!0,class:"service",contents:{title:i18next.t("front.common.lockMode"),main:i18next.t("front.alert.autoLogout",{time:O}),submit:i18next.t("dictionary.login")},callback:{submit:_,close:_}})}if(SocketAPI.COMM.OVERLAP_LOGOUT===e)return t.DUID!==LocalUtil.getDeviceId()?void 0:(Often.toast("info",i18next.t("front.alert.terminateDevice")),void Often.logoutDirect());if(SocketAPI.CONNECT.MESSENGER.CREATE!==e)if(SocketAPI.MAIN.ROOM_LEAVE!==e)if(SocketAPI.MAIN.CHANGE_STATE!==e)if(SocketAPI.CONNECT.INVITE.FAVORITE!==e){if(SocketAPI.MAIN.CHAT_UPDATE===e)return BrowserNoti.showChattingNotification(t),Chatting.drawTopNotReadCount(),void(o&&Chatting.updateChattingLayer(t));if(SocketAPI.MAIN.READ_ALL_MESSAGE_BY_ROOM===e)return ListHelper.setCount($("#chatting-"+i).find(".not-read-count"),0),Chatting.drawTopNotReadCount(),void(Electron.isElectronApp()&&Electron.hideNoti(i));if(SocketAPI.MAIN.BADGE_UPDATE===e){c="0"===c&&"0"===t.FLOW_CNT&&"0"!==t.CHAT_CNT;return Chatting.drawTopNotReadCount(),MiniLeft.setProjectBadgeCount(c),BrowserNoti.showAlarmNotification(t),c&&Electron.isElectronApp()&&Electron.hideNoti(),void(n&&MiniProject.initProject(!0))}if(SocketAPI.MAIN.ROOM_NAME_UPDATE!==e&&SocketAPI.MAIN.ALARM_N_PIN_UPDATE!==e&&SocketAPI.MAIN.DELETE_MESSAGE_MY_VIEW!==e&&SocketAPI.MAIN.DELETE_MESSAGE_ALL_VIEW!==e)return SocketAPI.MAIN.BADGE_SELF_UPDATE===e?Often.isFunc(Func.CLOUD.ALARM_COUNT_SOCKET)?void AlarmUpdate.updateUnReadElementBySelf(t.ALARM_DATA):void 0:void(SocketAPI.MAIN.FOCUS_IN!==e?SocketAPI.MAIN.FOCUS_OUT===e&&$("body").attr("data-focus-room-srno",""):$("body").attr("data-focus-room-srno",t.FOCUS_ROOM_SRNO));o&&Chatting.updateChattingLayer(t)}else MiniFavorite.showFavoriteGroupData(!1);else MiniState.setProfileStatus(t.STATUS,t.USER_ID);else o&&MiniChatting.removeMessengerList(i);else Chatting.updateChattingLayer(t)}}();
"use strict";var TagConvert=function(){return{html2DbStringByPost:function(t){var a=Often.null2Void(t);return""===$.trim(t)?t:(a=TagUtil.html2tag(a),a=TagUtil.removeSpecialTag(a),a=TagUtil.mentionTag2Data(a),a=TagUtil.hashtagTag2Data(a),a=TagUtil.styleTag2Data(a),a=TagUtil.NewLine2Data(a),g(),a)},html2DbStringByRemark:function(t){var a=Often.null2Void(t);return""===$.trim(t)?t:(a=TagUtil.html2tag(a),a=TagUtil.removeSpecialTag(a),a=TagUtil.mentionTag2Data(a),a=TagUtil.NewLine2Data(a),g(),a)},html2DbStringByChat:function(t){var a=Often.null2Void(t);return""===$.trim(t)?t:(a=TagUtil.removePrevNewLine(a),a=TagUtil.html2tag(a),a=TagUtil.removeSpecialTag(a),a=TagUtil.NewLine2Data(a),g(),a)},db2HtmlStringByPost:function(t,a){var i=Often.null2Void(t);return""===$.trim(i)||(i=TagUtil.html2tag(i),i=TagUtil.blank2SpaceTag(i),i=TagUtil.removeSpecialTag(i),i=TagUtil.styleData2TagPlusTag2html(i),i=TagUtil.hashtagData2Tag(i),i=TagUtil.mentionData2Tag(i,a),i=TagUtil.LinkData2Tag(i),i=TagUtil.spaceTag2Tag(i),i=TagUtil.NewLine2Tag(i),g()),i},db2HtmlStringByRemark:function(t){var a=Often.null2Void($.trim(t));return""===$.trim(a)||(a=TagUtil.html2tag(a),a=TagUtil.removeSpecialTag(a),a=TagUtil.tag2html(a),a=TagUtil.mentionData2Tag(a),a=TagUtil.LinkData2Tag(a),a=TagUtil.NewLine2Tag(a),g()),a},db2HtmlStringByChat:function(t){var a=Often.null2Void(t);return""===$.trim(a)||(a=TagUtil.tag2html(a),a=TagUtil.LinkData2Tag(a),a=TagUtil.NewLine2Tag(a),g()),a},db2OneString:function(t,a){var i=Often.null2Void(t);if(""===$.trim(i))return i;i=TagUtil.json2text(i),i=TagUtil.html2tag(i),i=TagUtil.styleData2TagPlusTag2html(i),i=a?(i=TagUtil.hashtagData2Tag(i),i=TagUtil.mentionData2Tag(i),i=TagUtil.removeAllTag(i),TagUtil.shortContent(i,200)):(i=TagUtil.removeAllTag(i),i=TagUtil.shortContent(i,200),i=TagUtil.hashtagData2Tag(i),TagUtil.mentionData2Tag(i));return i=TagUtil.icon2tag(i),g(),i},db2TwoStringByChatting:function(t){var a=Often.null2Void(t);return""===$.trim(a)||(a=TagUtil.br2n(a),a=TagUtil.removeAllTag(a),a=TagUtil.shortContentByNewLine(a,50),g()),a},db2TwoStringByAlarm:function(t){var a=Often.null2Void(t);return""===$.trim(a)||(a=TagUtil.checkEmptyNewLine(a),a=TagUtil.br2n(a),a=TagUtil.shortContentByNewLine(a,100),g()),a},html2HtmlStringByRemark:function(t){var a=Often.null2Void(t);return""===$.trim(t)?t:(a=TagUtil.removeSpecialTag(a),g(),a)},html2HtmlStringByCopy:function(t){var a=Often.null2Void(t);return""===$.trim(t)?t:(a=TagUtil.html2tag(a),a=TagUtil.removeSpecialTag(a),a=TagUtil.tag2html(a),a=TagUtil.NewLine2Tag(a),a=TagUtil.blank2SpaceTag(a),a=TagUtil.spaceTag2Tag(a),a=TagUtil.data2Html(a),g(),a)}};function g(){}}();
"use strict";var TagUtil=function(){var i=/\#\[([^\[\]\s]+)\]\(([^\[\]\s]+)\)/gi,t=/(<span class=\"tag hashtag-span\" contenteditable=\"false\">\#)([^\[\]\s]+)(<\/span>)/gi,r=/\@\[([^\[\]]+)\]\(([^\[\]]+?)\)/gi,n=/(<span class=\"tag mention-span\" user-id=\")([a-zA-Zㄱ-힣0-9_\-\/&amp;\@\.\&\^\s]+)(\" contenteditable=\"false\">)([a-zA-Zㄱ-힣0-9&amp;\"\'\!\@\$\%\^\&\*\(\)\_\+\-\=\|\{\}\[\]\\\/\.\&\^\ \,\~\:\?\☆\★\s\u0080-\uFFFF]+)(<\/span>)/gi,a=/(<span class=\"tag mention-span\" contenteditable=\"false\" user-id=\")([a-zA-Zㄱ-힣0-9_\-\/&amp;\@\.\&\^\s]+)(\">)([a-zA-Zㄱ-힣0-9&amp;\"\'\!\@\$\%\^\&\*\(\)\_\+\-\=\|\{\}\[\]\\\/\.\&\^\ \,\~\:\?\☆\★\s\u0080-\uFFFF]+)(<\/span>)/gi;return{mentionData2Tag:function(e,t){return t?e.replace(r,"$1"):e.replace(r,'<span class="tag mention-span" user-id="$2" contenteditable="false">$1</span>')},mentionTag2Data:function(e){return e.replace(n,"@[$4]($2)").replace(a,"@[$4]($2)")},extractMentionedUsers:function(e){var t=null,n=[];for(;t=r.exec(e);)n.push(t[2]);return n},hashtagData2Tag:function(e){return e.replace(i,'<span class="tag hashtag-span" contenteditable="false">#$1</span>')},hashtagTag2Data:function(e){return e.replace(t,"#[$2]($2)")},extractHashtags:function(e){var t=null,n=[];for(;t=i.exec(e);)n.push(t[1]);return n},styleData2TagPlusTag2html:function(e){var t="[[f_b]]",n="[[/f_b]]",i="[[f_i]]",r="[[/f_i]]",a="[[f_u]]",l="[[/f_u]]",s="[[f_del]]",u="[[/f_del]]",c={boldStart:"<b>",boldEnd:"</b>",italicStart:"<i>",italicEnd:"</i>",underlineStart:"<u>",underlineEnd:"</u>",delStart:"<strike>",delEnd:"</strike>"};0<navigator.userAgent.indexOf("Trident")&&(c.boldStart="<strong>",c.boldEnd="</strong>",c.italicStart="<em>",c.italicEnd="</em>");u=e.replace(/<f_b>/gi,t).replace(/<\/f_b>/gi,n).replace(/<f_u>/gi,a).replace(/<\/f_u>/gi,l).replace(/<f_i>/gi,i).replace(/<\/f_i>/gi,r).replace(/<f_del>/gi,s).replace(/<\/f_del>/gi,u);return(u=p(u)).replace(/\[\[f_b\]\]/gi,c.boldStart).replace(/\[\[\/f_b\]\]/gi,c.boldEnd).replace(/\[\[f_u\]\]/gi,c.underlineStart).replace(/\[\[\/f_u\]\]/gi,c.underlineEnd).replace(/\[\[f_i\]\]/gi,c.italicStart).replace(/\[\[\/f_i\]\]/gi,c.italicEnd).replace(/\[\[f_del\]\]/gi,c.delStart).replace(/\[\[\/f_del\]\]/gi,c.delEnd)},styleTag2Data:function(e){return(e=l(Often.null2Void(e))).replace(/(<b>|<b style="">|<strong>)/gi,"<f_b>").replace(/(<\/b>|<\/strong>)/gi,"</f_b>").replace(/(<u>|<u style="">)/gi,"<f_u>").replace(/<\/u>/gi,"</f_u>").replace(/(<i>|<i style="">|<em>)/gi,"<f_i>").replace(/(<\/i>|<\/em>)/gi,"</f_i>").replace(/(<strike>|<strike style="">)/gi,"<f_del>").replace(/<\/strike>/gi,"</f_del>").replace(/(<font face[^>]*>)/gi,"")},splitStyle:l,NewLine2Data:function(e){if(""===e.trim())return"";var t=e.replace(/((<br><\/p><p>)|(<br><\/div><div>)|(<br><\/p><div>)|(<br><\/div><p>))/gi,"\n").replace(/((<\/p><p>)|(<\/div><p>)|(<\/p><div>)|(<\/div><div>)|<br>)/gi,"\n").replace(/(<div><div>)/gi,"<div>");t=t.replace(/(\n<div>)/gi,"\n").replace(/(<\/div>\n)/gi,"\n"),0===e.indexOf("<div>")?t=t.substring(5):0===e.indexOf("<p>")&&(t=t.substring(3));return t=t.replace(/((<p>)|(<div>))/gi,"\n").replace(/((<\/p>)|(<\/div>))/gi,"")},NewLine2Tag:function(e){var t=Often.getClientOSInfo().isWin,n="<div>"+e.replace(t?/(\r\n|\n)/gi:/(\r|\n)/gi,"</div><div>")+"</div>",e=n.length,t="<div></div>";return n=(n=(n=t===n.substring(e-t.length,e)?n.substring(0,e-t.length):n).replace(/(<div><\/div>)/gi,"<div></br></div>")).replace(/(<div><b><\/div>)/gi,"<div></br></div>")},checkEmptyNewLine:function(e){var t=p(e);return t=t.replace(/&nbsp;/gi,""),""===$.trim(t)?"":e},shortContent:u,shortContentByNewLine:function(e,t){var n="",e=e.split("\n"),i=0;return e.forEach(function(e){e=$.trim(e);""!==e&&i<2&&(i++,n+=u(e,t)+(1===i?"\n":""))}),n},shortContentByLong:function(e){var t=e.split("\n");return t.length<15?e:299<e.length?e.substring(0,300):t.slice(0,15).join("\n")},removeSpecialTag:function(e){var t=/(<\/span>)([a-zA-Zㄱ-힣0-9\(\)\_\-\☆\★\○\●\◇\◆\□\■\△\▲\▽\▼\◁\◀\▷\▶\+@\.\=\~\^\s\[\]\#\%\!\$\&\*\<\>\?\/\'\"\:\,\{\\\}]+)(<span style=\"background-color: )(initial|transparent)(;\">)/gi,n=/(<\/span>)(<span style=\"background-color: )(initial|transparent)(;\">)/gi;return e=e.replace(/(<span style=\"background-color: )(.*?)(\">)([a-zA-Zㄱ-힣0-9\(\)\_\-\☆\★\○\●\◇\◆\□\■\△\▲\▽\▼\◁\◀\▷\▶\+@\.\=\~\^\s\[\]\#\%\!\$\&\*\<\>\?\/\'\"\:\;\,\{\\\}]+)(<\/span>)/gi,"$4").replace(/(<span style=\"white-space:pre)(.*?)(\">)([a-zA-Zㄱ-힣0-9\(\)\_\-\☆\★\○\●\◇\◆\□\■\△\▲\▽\▼\◁\◀\▷\▶\+@\.\=\~\^\s\[\]\#\%\!\$\&\*\<\>\?\/\'\"\:\;\,\{\\\}]+)(<\/span>)/gi,"$4").replace(/(<font style="vertical-align: inherit;">)|(<\/font>)/gi,"").replace(t,"$2").replace(n,"").replace(t,"$2").replace(n,"").replace(/(<div style=\"user-select: auto;\">)|(<div style=\\"user-select: auto;\\">)|(<br style=\\\"user-select: auto;\\\">)|(<br style=\"user-select: auto;\">|<p style=\"user-select: auto;\">|<p style=\\\"user-select: auto;\\\">)/gi,"").replace(/(<sub><\/sub>)|(<sup><\/sup>)|(<sub><\\\/sub>)|(<sup><\\\/sup>)/gi,"").replace(/(<a href=)(.*?\"\>)(.*?)(<\/a>)/gi,"$3").replace(/(<div class="js-hidden-component hidden-component" contenteditable="false">)|(<div class="" contenteditable="">)|(<div class="edit-component" contenteditable="">)/gi,"")},removeAllTag:function(e){return e.replace(/<(\/)?([a-zA-Z]*)(\s[a-zA-Z]*=[^>]*)?(\s)*(\/)?>/gi,"")},removeNewLine:function(e){return e.replace(/(\r\n\t|\n|\r\t|"\\n")/gm," ")},removePrevNewLine:function(e){return e.replace(/^\s*/,"")},br2n:function(e){return e.replace(/(<br>)/gi,"\n")},escapeHtml:s,tag2html:p,html2tag:function(e){return(e=Often.null2Void(e)).replace(/(&lt;|&gt;|&amp;|&nbsp;|&#x2F;)/gi,function(e){return{"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#x2F;":"/"}[e]})},text2highlight:function(e,n,t){if(n=s(Often.null2Void(n,"")),""===(t=s(Often.null2Void(t,"")))||-1===n.indexOf(t.toUpperCase())&&-1===n.indexOf(t.toLowerCase()))return n;if(-1<t.indexOf(" "))for(var i=t.split(" "),r=0;r<i.length;r++)""!==i[r]&&a(i[r]);else a(t);return n;function a(e){var t=new RegExp(e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"g");n=n.replace(t,l().replace("{key}",p(e)))}function l(){return"CHAT_SEARCH"===e?'<span class="search-highlight">{key}</span>':"SEARCH"===e?"<strong>{key}</strong>":"SEARCH2"===e?"<b>{key}</b>":void 0}},LinkData2Tag:function(e,n){if(-1===e.indexOf("&nbsp;"))return i(e);var t=[];return e.split("&nbsp;").forEach(function(e){t.push(i(e))}),t.join("&nbsp;");function i(e){var t=/(((?:(?:(?:https?|ftp|file):\/\/|www\\.|ftp\\.)[-a-zA-Z0-9+&@#/%?=~_|$!:,.;ㄱ-ㅎㅏ-ㅣㄱ-힣()\u2700-\u27BF\uE000-\uF8FF|\uD83C|\uDC00-\uDFFF|\uD83D|\uDC00-\uDFFF|\u2011-\u26FF|\uD83E|\uDD10-\uDDFF]*[-a-zA-Z0-9+&@#/%=~_|ㄱ-ㅎㅏ-ㅣㄱ-힣$?\u2700-\u27BF\uE000-\uF8FF|\uD83C|\uDC00-\uDFFF|\uD83D|\uDC00-\uDFFF|\u2011-\u26FF|\uD83E|\uDD10-\uDDFF]|((?:mailto:)?[a-zA-Z0-9._%+-]+@[a-zA-Z0-9._%-]+\\.[a-zA-Z]{2,4})\\b)|"(?:(?:https?|ftp|file):\/\/|www\\.|ftp\\.)[^\\"\\r\\n]+\\"?|\\'(?:(?:https?|ftp|file):\/\/|www\\.|ftp\\.)[^'\\r\\n]+'?|(http(s)?:\/\/.)?(www\\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\\.(aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cx|cy|cz|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mn|mn|mo|mp|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|nom|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ra|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw|arpa)\\b([-a-zA-Z0-9@:%_+.~#?&/=]*))|((www\.)[0-9a-zA-z_\-?=%/.&#;()ㄱ-ㅎㅏ-ㅣㄱ-힣?]*[-a-zA-Z0-9+&@#/%=~_|ㄱ-ㅎㅏ-ㅣㄱ-힣$?\u2700-\u27BF\uE000-\uF8FF|\uD83C|\uDC00-\uDFFF|\uD83D|\uDC00-\uDFFF|\u2011-\u26FF|\uD83E|\uDD10-\uDDFF]+))/gi;return n?e.replace(t,'<span class="js-hyper-button urllink blue">$&</span>'):e.replace(t,'<a href="$&" target="_blank" class="js-hyper-button urllink blue">$&</a>')}},json2text:function(e){var t=e;if(-1===e.indexOf('{"COMPS":')&&-1===e.indexOf('{"SYS_CODE":'))return t;e=function(t,n){try{var i="";return JSON.parse(t).COMPS.forEach(function(e){"TEXT"===e.COMP_TYPE&&(i+=e.COMP_DETAIL.CONTENTS+"\n")}),i}catch(e){return n?"":t}}(e,!0);if(""!==e)return e;try{t=t.replace("\n"," ");var n=JSON.parse(t).SYS_CODE,i="[ICON:IMAGE] ("+i18next.t("dictionary.image")+")",r="[ICON:FILE] ("+i18next.t("dictionary.file")+")";t={S13:i,S14:r,S20:i+" "+r}[n]}catch(e){}return t},icon2tag:function(e){var t=e,n='<i class="all-setup-icon-type-1"></i>',e='<i class="all-setup-icon-type-2"></i>';return t=(t=t.replace(/\[ICON:IMAGE\]/gi,e)).replace(/\[ICON:FILE\]/gi,n)},blank2SpaceTag:function(e){return e.replace(/ /gi," &nbsp;")},spaceTag2Tag:function(e){return e.replace(/ &nbsp;/gi,"&nbsp;")},data2Html:function(e){return e.replace(/\t/gi,"&nbsp;&nbsp;&nbsp;&nbsp;")}};function p(e,t){return(e=Often.null2Void(e)+"").replace(/\<|\>/gi,function(e){return Often.null2Void({"<":"&lt;",">":"&gt;"}[e])})}function s(e){return""===Often.null2Void(e,"")?"":e.replace(/[\"&<>]/g,function(e){return Often.null2Void({'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"}[e],"")})}function l(e){var t,n=e,i={STYLE:"font-weight: bold;",UNDERLINE:/(<u style="font-weight: bold;">)(.*?)(<\/u>)/gi,ITALIC:/(<i style="font-weight: bold;">)(.*?)(<\/i>)/gi,STRIKE:/(<strike style="font-weight: bold;">)(.*?)(<\/strike>)/gi},r={STYLE:"text-decoration-line: underline;",BOLD:/(<b style="text-decoration-line: underline;">)(.*?)(<\/b>)/gi,ITALIC:/(<i style="text-decoration-line: underline;">)(.*?)(<\/i>)/gi,STRIKE:/(<strike style="text-decoration-line: underline;">)(.*?)(<\/strike>)/gi},a={STYLE:"text-decoration-line: italic;",BOLD:/(<b style="font-style: italic;">)(.*?)(<\/b>)/gi,UNDERLINE:/(<u style="font-style: italic;">)(.*?)(<\/u>)/gi,STRIKE:/(<strike style="font-style: italic;">)(.*?)(<\/strike>)/gi},l={STYLE:"text-decoration-line: line-through;",BOLD:/(<b style="text-decoration-line: line-through;">)(.*?)(<\/b>)/gi,UNDERLINE:/(<u style="text-decoration-line: line-through;">)(.*?)(<\/u>)/gi,ITALIC:/(<i style="text-decoration-line: line-through;">)(.*?)(<\/i>)/gi};return-1<e.indexOf(i.STYLE)&&(t=' style="'+i.STYLE+'"',n=s(n,i.UNDERLINE,"<u"+t+">","<u><b>","</b></u>"),n=s(n,i.ITALIC,"<i"+t+">","<i><b>","</b></i>"),n=s(n,i.STRIKE,"<strike"+t+">","<strike><b>","</b></strike>")),-1<e.indexOf(r.STYLE)&&(t=' style="'+r.STYLE+'"',n=s(n,r.BOLD,"<b"+t+">","<b><u>","</u></b>"),n=s(n,r.ITALIC,"<i"+t+">","<i><u>","</u></i>"),n=s(n,r.STRIKE,"<strike"+t+">","<strike><u>","</u></strike>")),-1<e.indexOf(a.STYLE)&&(t=' style="'+a.STYLE+'"',n=s(n,a.BOLD,"<b"+t+">","<b><i>","</i></b>"),n=s(n,a.UNDERLINE,"<u"+t+">","<u><i>","</i></u>"),n=s(n,a.STRIKE,"<strike"+t+">","<strike><i>","</i></strike>")),-1<e.indexOf(l.STYLE)&&(t=' style="'+l.STYLE+'"',n=s(n,l.BOLD,"<b"+t+">","<b><strike>","</strike></b>"),n=s(n,l.UNDERLINE,"<u"+t+">","<u><strike>","</strike></u>"),n=s(n,l.ITALIC,"<i"+t+">","<i><strike>","</strike></i>")),n;function s(e,t,n,i,r){var a=[];return(a=e.split(t)).forEach(function(e,t){a[t]===n&&(a[t]=i,a[t+2]=r)}),a.join("")}}function u(e,t){return e.length<=t?e:e.substring(0,t)+"..."}}();
"use strict";var Tooltip=function(){return{isDrawToolTipAndAction:function(t){if(0<t.findUp(".flatpickr-calendar").length)return!1;var e=$("#detailToolTip");e&&0<e.length&&e.remove();var o=t.findUp(".js-mouseover");if(!o||0===o.length)return!1;var i=o.hasClass("js-top-tooltip"),t=n(o);if(""===t)return!1;if(!(function(t){var e=t[0].nodeName;"INPUT"===e&&(e="SPAN");e=$("<"+e+"></"+e+">").attr("class","js-over-text-check").html(n(t)).css(function(t){return{"z-index":-1,"font-size":t.css("font-size"),"font-weight":t.css("font-weight"),"text-align":t.css("text-align"),position:"absolute"}}(t));$("body").prepend(e);t=e.width()>t.width();return $(".js-over-text-check").remove(),t}(o)||o.hasClass("js-button-tooltip")||_IsMini||Often.isMessenger()))return!1;e=$('<span class="tooltip-square"></span>'),i&&e.addClass("up-tooltip");return e.html(t),$("body").prepend(e),e.attr("id","detailToolTip").css(r(e,event,i)),!0},isMoveToolTipAndAction:function(t){var e=$("#detailToolTip");if(!e||0===e.length)return!1;t=t.findUp(".js-mouseover").hasClass("js-top-tooltip");return e&&e.css(r(e,event,t)),!0},isRemoveToolTipAndAction:function(t){var e=$("#detailToolTip"),t=t.findUp(".js-mouseover");return!!(t&&0!==t.length||e&&0!==e.length)&&(e.remove(),!0)}};function n(t){var e=$.trim(TagUtil.removeAllTag(Often.null2Void(t.attr("mouseover-text")))),o=(e=""===(e=""!==e?e:t.is("input")?t.val():"")?""!==(t=$.trim(t.text()))?t:"":e).split("<br>");return o.forEach(function(t,e){o[e]=TagUtil.tag2html(t)}),$.trim(o.join("<br>"))}function r(t,e,o){var i=t.outerWidth(),t=t.outerHeight();return{top:o?e.pageY-t-10:e.pageY+30,left:e.pageX-i/2+4,position:"absolute","z-index":1e5}}}();
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Tz=function(){var i="Asia/Seoul",f="YYYYMMDDHHmmss";return{momentTimeZone:function(t,n,o){if(""===Often.null2Void(t))return"-";14<t.length&&(t=t.substring(0,14));if("type8"===n&&function(t){return 14===t.length&&"000000"===t.substring(8,14)}(t))return"";var e=moment.tz.guess(),r="input"===o,m="fromNow"===o,u=i18next.t("date.format."+n,{lng:r?"ko":""}),o=r?e:i,e=r?i:e,t=s(t,o),o=moment.tz(t,f,!0,o);if(!o.isValid())return t;t=o.tz(e);return""===Often.null2Void(n,"")?t:m&&moment().diff(t,"second")<44&&"ko"===Internationalization.getCurrentLanguage()?"방금":m&&moment().diff(t,"hours")<22&&0===moment().diff(t,"days")?t.fromNow():o.tz(e).format(u)},momentConversion:function(t,n,o){var e=n?i18next.t("date.format."+n):"YYYYMMDDHHmmss";switch(t){case"current":return moment().format(e);case"currentInMilli":return moment().format(e+"SSS");case"convertOnly":14<o.length&&(o=o.substring(0,14));var r=moment(s(o),f);return r.isValid()?moment(r,f).format(e):r;case"seoulCurrentTime":return moment().tz("Asia/Seoul").format(e);default:return"-"}},roundMomentByMinutes:function(t){var n=moment(),t=t-n.minute()%t;return moment(n).add(t,"minutes").format("HH mm ss")},convertMinToHourForLockMode:function(t){{if(t<60)return i18next.t("front.common.js-minute",{count:t});t=t/60;return i18next.t("front.common.js-hour",{count:t})}},isToday:function(t,n){var o=moment(s(t),"YYYYMMDD"),t=moment().format("YYYYMMDD");return 0===o.diff(t,n)},isTimeExists:function(t){return 12===t.length&&"0000"!==t.substring(8)}};function s(t,n){var o=""===Often.null2Void(t),e=""===Often.null2Void(n);return"object"===_typeof(t)?t=t.format(f):o&&e?t=moment().format(f):o&&(t=moment.tz(n).format(f)),12===t.length&&(t+="00"),8===t.length&&(t+="000000"),t="object"==_typeof(t)?"":t}}();
"use strict";var Upload=function(){var f,d,p,c={BASE_SIZE:102400,COMP_SIZE:102400,MAX_SIZE:200},g=!1;return{getQueueTotalCount:function(){return p},uploadFile:function(n,t){if(Often.isFunc(Func.CLOUD.UPLOAD_PREVENT))return Often.toast("info",i18next.t("front.alert.adminRestriction"));var i="profile"===n?e(!1,!0):e(!0,!1);i.on("change",function(e){e=e.srcElement||e.target;i.remove(),a(n,e.files,t)}),$("body").append(i),i.click()},putFilesAndSend:a};function a(e,r,l,u){if(Often.isFunc(Func.CLOUD.UPLOAD_PREVENT))return Often.toast("info",i18next.t("front.alert.adminRestriction"));if(0!==r.length&&!(FileUtil.isLimitOnMultiUpload(r.length,Often.isMessenger())||"profile"!==e&&LimitGuest.isStorageFullGuest("data500",Often.isAct("messenger"))))if(UploadHandler.setCurrentUploadCount(UploadHandler.getCurrentUploadCount()+1),1===UploadHandler.getCurrentUploadCount()&&(f=[],p=0,g=!(d=[])),10<d.length)Often.toast("error",i18next.t("front.upload.fileInQueue"));else{for(var n=!0,t=0;t<r.length;t++){if(FileUtil.isAvailableFileSize(r[t].size)){n=!1;break}if(FileUtil.isFolder(r[t].name)){n=!1;break}}if(n)for(t=0;t<r.length;t++){var i=ImageUtil.isImageExtension(r[t].name)&&ImageUtil.isImageSize(r[t].size),a="profile"===e;if("profile"===e&&!i)return void Often.toast("2",i18next.t("front.alert.imageOnly"));var o=Often.isMessenger()&&MessengerSend.getQueueNumber();"file"!==e&&(i||a)?function(e,n,t){!function(i){return Rx.Observable.create(function(e){var n=new FileReader,t=new Image;n.onload=function(){t.onload=function(){e.next({image:t,index:i})},t.src=n.result},n.readAsDataURL(r[i])})}(e).subscribe(function(e){s(e.image,r[e.index],n,t)})}(a?0:t,o,a):s(null,r[t],o)}}function s(e,n,t,i){var a=""===(e=Often.null2Void(e)),o=i&&Often.isFunc(Func.CLOUD.PROFILE_THUMBNAIL),i=a?"":ImageUtil.getThumbImgFile(e,n,o?c:null),o=!a&&o?i:n,n="image.png"===(n=n.name)?ImageUtil.getFileNameByClipboard():n,n={USER_ID:_USER_ID,RGSN_DTTM:_RGSN_DTTM,NOW:(new Date).getTime(),FILE:o,WIDTH:Often.null2Void(e.width,""),HEIGHT:Often.null2Void(e.height,""),THUMB_IMG_FILE:i,FILE_NAME:n};Often.isMessenger()&&(n.TEMP_CHAT_SRNO=t,MessengerSend.drawTempFile(t,o.name,o.size,a?"":e.src)),d.push(n),f.push(function(e){var n,t=new FormData;for(n in e)t.append(n,e[n]);return t}(n)),p=f.length,g||r.length!==p||function(o,n){g=!0;var r=[],l=1,u="/FLOW_UPLOAD_C001.jct";!function t(i){var a=d[i].TEMP_CHAT_SRNO;function e(e,n){"function"==typeof e&&e(),l<p?(l++,t(i+1)):(g=!1,"function"==typeof n&&n())}r[i]=new XMLHttpRequest,r[i].upload.addEventListener("loadstart",function(){UploadHandler.loadStart(d,i,function(){r[i].abort(),UploadHandler.abort()})},!1),r[i].upload.addEventListener("progress",function(e){e.lengthComputable&&(e=Math.ceil((e.loaded||e.position)/e.total*100),UploadHandler.progress(d,i,e))},!1),r[i].upload.addEventListener("abort",function(){"function"==typeof n&&n(d[i].TEMP_CHAT_SRNO),UploadHandler.abort()},!1),r[i].upload.addEventListener("error",function(){e(function(){UploadHandler.error(d,i)},function(){UploadHandler.finished(d,i)})},!1),r[i].open("POST",u,!0),r[i].onreadystatechange=function(){var n=this;4===n.readyState&&200===n.status&&e(function(){var e=JSON.parse(n.responseText);e.COMMON_HEAD&&e.COMMON_HEAD.ERROR?Often.toast("info",e.COMMON_HEAD.MESSAGE):o(JSON.parse(n.responseText).FILE_REC[0],a)},function(){UploadHandler.setCurrentUploadCount(0)})},r[i].send(f[i])}(0)}(l,u)}}function e(e,n){var t=$('<input type="file" style="display: none;">');return t.attr({id:"fileUploadInput",multiple:e?"multiple":"",accept:n?"image/*":""}),t}}();
"use strict";var UploadHandler=function(){var o,e=0,r=0,u={};return{setCurrentUploadCount:function(n){e=n},getCurrentUploadCount:function(){return e},getCurrentQueueNumber:function(){return},loadStart:function(n,e,i){if(Often.isMessenger())return MessengerSend.initFirstTempDraw();l()||$("body").append($($("#fileLoadingPopupDiv").html()).attr("id","fileLoadingPopup"));f(t(n[e]),e,0),function(n){var e=$("#fileLoadingPopup .btn_cancel");e.off("click").on("click",function(){e.remove(),"function"==typeof n&&n()})}(i)},progress:function(n,e,i){if(Often.isMessenger())MessengerSend.setPercentOnTempFile(i,n[e].TEMP_CHAT_SRNO);else{if(100===i)return a(n,e);n=t(n[e]);u[n]=i,f(n,e,i)}},abort:function(){p(),$("#fileLoadingPopup").remove()},error:function(n,e){0===$("#fileErrorPopup").length&&($("body").append($("#fileErrorPopupDiv").html()),o=$("#fileErrorPopup"));var i=$($("#fileErrorLi").html()),e=FileUtil.getFileNameAndExtension(t(n[e]));i.find(".file_name").text(e.NAME),i.find("em").text(e.EXT),o.find("ul").append(i),r++},finished:a,isUploading:l,isUploadingAndCallback:function(n){if(l())return PopupDraw.drawConfirm({contents:{main:"업로드 중입니다. 작업을 취소하고 올리시겠습니까?"},callback:{submit:function(){UploadHandler.stopUploading(),n(),PopupDraw.closePopup()},cancel:function(){PopupDraw.closePopup()}}}),!0;return n(),!1},stopUploading:function(){var n=$("#fileLoadingPopup:visible");if(0!==n.length)return n.find(".btn_cancel").trigger("click")}};function t(n){return n?n.FILENAME||n.FILE.name:""}function l(){return 0<$("#fileLoadingPopup:visible").length}function p(){r=e=0,u={}}function a(n,e){var i=$("#fileLoadingPopup"),t=n.length-1===e,e=n[e].name;delete u[e],t&&(p(),i.remove(),0<r&&o.css("display","block"))}function f(n,e,i){var t=$("#fileLoadingPopup");t.find(".js-name").text(n),t.find(".js-count").text(e+1+"/"+Upload.getQueueTotalCount()),t.find(".js-progress").css("width",i+"%")}}();
"use strict";var UrlCatcher={isPostUrlAncAction:function(t){var e=t.indexOf("/l/");return-1!==e&&(Ajax.executeApi("ACT_POST_BY_TINY_URL",{LINK_URL:t.substring(e+"/l/".length)},function(t){return""!==t.RETURN_MSG?Often.toast("error",t.RETURN_MSG):void(Often.isAct("messenger")?OpenUtil.openSubScreen($.extend({GB:"POST_LINK"},t)):PostPopup.togglePostView(t.COLABO_SRNO,t.COLABO_COMMT_SRNO,"","",!0))}),!0)},isProjectInviteUrlAndAction:function(t){var e="("+Often.getLocOrigin()+")",n=-1<t.indexOf("Invite")?"(/Invite/([a-zA-Z0-9])+)":"(/Invitation/([a-zA-Z0-9])+)";n=/((https:\/\/)([a-zA-Z0-9_-].)*(flow.team))/.test(Often.getLocOrigin())?"((((https://)([a-zA-Z0-9_-].)*(flow.team))|"+e+")"+n+")":"("+e+n+")";return!!new RegExp(n,"gi").test(t)&&(CONNECT_INVITE_KEY=t.split("Invitation/")[1]||t.split("Invite/")[1],InvitePopup.openInvitePopup(),!0)}};
"use strict";var Validation=function(){var v=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i,w=/^[0-9a-zA-Z]{3,50}$/,h=/^[~!@$%^&*()_+|?:;{}★☆]/,x=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|\uD83E[\uDD10-\uDDFF])/gi,D=/^[0-9a-z_+]*$/g,E=/^\d{2,3}-\d{3,4}-\d{4}$/g,F=/^[0-9]+$/,R=/^.*(?=^.{6,20}$)(?=.*\d)(?=.*[a-zA-Z]).*$/g,b=/^.{1,20}$/g;return{checkInput:function(e,r){var m,c=!1,p=!1,f=!1,t={};$.each(e,function(e,r){var t,n,a,o,s,i,u=$.trim($(r).val()),g=Number(Often.null2Void($(r).attr("maxlength"),"50")),d=Often.null2Void($(r).attr("data-valid"),""),l="Y"===Often.null2Void($(r).attr("data-required-yn"),"N");!c&&""===u&&l?(c=!0,m=$(r)):!c&&!p&&g<u.length?(p=!0,m=$(r)):c||p||f||(t=d,n=u,a=r,o=new RegExp(w).test(n),s=new RegExp(v).test(n),i=new RegExp(ServerChecker.isKimchang?Kimchang.getPwdRex():R).test(n),l=new RegExp(b).test(n),g=new RegExp(x).test(n),d=!new RegExp(h).test(n)&&!g,u=new RegExp(D).test(n),g=new RegExp(E).test(n),n=new RegExp(F).test(n),(f="teamUrl"===t&&!o||"name"===t&&!d||"email"===t&&!s||"password"===t&&!i||"password-confirm"===t&&!function(e){var r=e.parents("form");return 0<r.length&&0<r.find(".js-join-password").length&&e.val()===r.find(".js-join-password").val()}($(a))||"domain"===t&&!u||"phoneNumber"===t&&!g||"number"===t&&!n||"login-password"===t&&!l)&&(m=$(r)))});var n=c?"empty":p?"over":f?"un-valid":"",e=""!=n;m&&e&&(t={errorObj:m,errorCode:n,errorMessage:m.attr("data-"+n+"-msg")},r&&(Often.toast("error",t.errorMessage),t.errorObj.focus()));return t},checkEditable:function(e,r){var t=""===$.trim(TagConvert.html2DbStringByPost(e.html())),n={},t=t?"empty":"";t&&(n={errorObj:e,errorCode:t,errorMessage:i18next.t("front.common.enterContext",{val:"$t(dictionary.article)"})},r&&(Often.toast("error",n.errorMessage),n.errorObj.focus()));return n}}}();
"use strict";var VideoConference=function(){return{getZoomToken:function(e,t){var o="SCHEDULE"===e.TYPE,n=o?i("START"):moment().format("YYYY-MM-DDTHH:mm:ssZ"),o=o?i("END"):moment().add(1,"hours").format("YYYY-MM-DDTHH:mm:ssZ"),o={VC_TTL:e.VC_TTL,VC_START_DTTM:n,VC_END_DTTM:o,CONF_TYPE:"2",CONF_TIMEZONE:moment.tz.guess()};Ajax.executeApi(RestApi.GET.COLABO_ZOOM_TOKEN_R001,o,t)},updateZoomToken:function(e,t){var o=i("START"),n=i("END"),n={VC_TTL:e.VC_TTL,VC_SRNO:e.VC_SRNO,VC_START_DTTM:o,VC_END_DTTM:n,CONF_TIMEZONE:moment.tz.guess()};Ajax.executeApi(RestApi.PUT.COLABO_ZOOM_TOKEN_U001,n,t)},deleteZoomToken:function(e,t){e={VC_SRNO:e.VC_SRNO};Ajax.executeApi(RestApi.DELETE.COLABO_ZOOM_TOKEN_D001,e,t)},getZoomUrl:function(e,t,o){VideoConference.isVC(e)&&Ajax.executeApi(RestApi.GET.COLABO2_VIDEO_CONFERENCE_R001,{VC_SRNO:e},function(e){e=JSON.parse(e.RESULT_MSG),e=e._VC_RGSR_ID===_USER_ID&&t?e._START_URL:e._JOIN_URL;t?VideoConference.createZoomConferenceRoom(e):o(e)})},warnAndSendMessage:function(e,t){LimitGuest.isLimitGuest("video")||(Often.isServerModeByHost("DEV_TEST")?o:function(e,t){PopupDraw.drawConfirm({contents:{main:i18next.t("front.videoConference.startVideoConference")},callback:{submit:function(){o(e,t)}}})})(e,t)},OpenMessengerAndSend:o,alertRequiredZoomSync:e,checkOpenWithVCButton:n,createZoomConferenceRoom:function(e){var t={width:500,height:700,left:100,top:100};Electron.isElectronApp()?Electron.openWindow(e,"_target",t.width,t.height,t.left,t.top):OpenUtil.openPopup(e,"_target",t)},syncZoom:t,unSyncZoom:function(e){Ajax.executeApi(RestApi.DELETE.FLOW_EXT_SERVICE_D001,{EXT_SERVICE_NM:"Zoom"},e)},isZoomSynchronized:_,isVC:function(e){return"0"!==Often.null2Void(e,"0")}};function i(e){var t=$("#editDateTimeArea"),t=("START"===e?t.find("#START_DTTM"):t.find("#END_DTTM")).val(),t=t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8)+"T"+t.slice(8,10)+":"+t.slice(10,12)+":"+t.slice(12,14);return moment(t).format("YYYY-MM-DDTHH:mm:ssZ")}function e(e){LimitGuest.isLimitGuest("video",e)||PopupDraw.drawBlock({mini:e,class:"video",contents:{title:BLOCK_TYPE.ZOOM_CONNECT.title,main:BLOCK_TYPE.ZOOM_CONNECT.main,submit:BLOCK_TYPE.ZOOM_CONNECT.submit,link_text:BLOCK_TYPE.ZOOM_CONNECT.link_text},linkUrl:"https://support.flow.team/hc/ko/articles/4404603293197",callback:{submit:t}})}function o(e,t){switch(LocalUtil.setLocal("ONLY_VIDEO_CONFERENCE","Y"),e){case"roomSrno":OpenUtil.openMessengerByRoomSrno(t);break;case"projectSrno":OpenUtil.openMessengerByProjectSrno(t);break;case"userID":OpenUtil.openMessengerByOneUserId(t);break;case"groupCode":OpenUtil.openMessengerByFavoriteGroupCode(t);break;case"chat":n()}}function n(){"Y"===LocalUtil.getLocal("ONLY_VIDEO_CONFERENCE")&&(LocalUtil.removeLocal("ONLY_VIDEO_CONFERENCE"),_(MessengerSend.sendVideoMessage,e,{isMini:!0}))}function t(){var e="https://zoom.us/oauth/authorize?response_type=code&client_id=k89F6GEhTJyf3s8xlFUEFA&redirect_uri="+(Often.getLocOrigin()+(location.port?":"+location.port:""))+"/zoom_oauth.act";LocalUtil.setLocal("vc_base_page","vc_integration"),window.open(e,"_blank","width=500,height=600")}function _(n,i,_){Ajax.executeApi(RestApi.GET.FLOW_EXT_SERVICE_R001,{},function(e){var t=e.EXT_SERVICE_REC&&0===e.EXT_SERVICE_REC.length||""===e.EXT_SERVICE_REC[0],o=(_ENTER_YN,Often.isServerModeByHost("DEV_TEST"));t||$.each(e.EXT_SERVICE_REC,function(e,t){o="Zoom"===t.EXT_SERVICE_NM});e={};_&&(e={type:_.type,val:_.val,isMini:_.isMini}),o?n(e.type,e.val):i(e.isMini)})}}();
"use strict";var GoogleOAuth={logoutSecurity:function(o){var e,t=Electron.isElectronApp(),n="https://accounts.google.com/Logout?continue=http://google.com";e=t?window.open(n,"_blank","top="+screen.height+", left="+screen.width):window.open(n);var r=setTimeout(function(){e.close(),"function"==typeof o&&o(),clearTimeout(r)},1e3)},getKey:function(o){return{developerKey:o?"HddwNpZ_0QQclS7AGTJMGrhT":"JaoC4XDgXDBa5jWmiyyjEca7",clientId:o?"37387137807-39m3vmoo1o6ktlm4k0d1cmajamm2gkhi.apps.googleusercontent.com":"37387137807-6kmhqldqos2op49mrfaofapt4pl71101.apps.googleusercontent.com",appId:"37387137807"}},getScope:function(o){return"https://www.googleapis.com/auth/"+("SignIn"===o?"userinfo.profile":"drive")},getRedirectUri:function(o){return Often.getLocOrigin()+"/collabo/inc/google"+o+"_view.jsp"},isUsable:function(){return!(parseInt(Often.getIEVersion(),10)<9)||(Often.toast("error",i18next.t("front.alert.unSupportIE")),!1)}};
"use strict";var DropboxDrive=function(){var n;return{load:function(){$("head").append('<script async src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="mby426ffrxlv4qn"><\/script>')},openDropboxDrive:function(o){"undefined"!=typeof Dropbox&&null!=Dropbox&&(Dropbox.isBrowserSupported()?(n=o,Electron.isElectronApp()?Electron.openDropbox():Dropbox.choose({success:e,cancel:t,linkType:"preview",multiselect:!0,extensions:[""]})):Often.toast(i18next.t("front.alert.unSupportIE")))},dropboxSuccessCallback:e,dropboxCancelCallback:t};function e(o){var e=[],t="DROPBOX";o.forEach(function(o){var n=t+"_"+Tz.momentConversion("currentInMilli"),o={RAND_KEY:t,FILE_IDNT_ID:t,IMG_PATH:o.link,FILE_DOWN_URL:o.link,ATCH_URL:o.link,FILE_NM:Often.null2Void(o.name,n),FILE_NAME:Often.null2Void(o.name,n),FILE_SIZE:Often.null2Void(o.bytes,0),USE_INTT_ID:_USE_INTT_ID,CLOUD_YN:"Y",ATCH_SRNO:"0"};e.push(o)}),"function"==typeof n&&n(e)}function t(){}}();
"use strict";var GoogleDrive=function(){var i,n,t,e=GoogleOAuth.getKey(ServerChecker.isReal),o=e.clientId,r=e.appId,c=!1;return{load:function(){$("head").append('<script async src="https://apis.google.com/js/platform.js?google-drive"><\/script>')},openGoogleDrive:function(e,o){"undefined"!=typeof gapi&&null!=gapi&&(parseInt(Often.getIEVersion(),10)<9?Often.toast("error",i18next.t("front.alert.unSupportIE")):(n=e,t=o,gapi.load("auth",{callback:a}),gapi.load("picker",{callback:g})))},OpenPickerAfterSign:u};function a(){gapi.auth.authorize({client_id:o,scope:GoogleOAuth.getScope("Drive"),immediate:!0,cookie_policy:"none"},d)}function l(){g(),s()}function g(){c=!0}function d(e){e&&!e.error?(i=e.access_token,s()):Often.isMessenger()?p():PopupDraw.drawConfirm({contents:{main:i18next.t("front.alert.googleLoginRequired")},callback:{submit:p}})}function p(){new GoogleSignInDriveApi(u).load()}function u(e){i=e,gapi.load("picker",{callback:l})}function s(){var e,o;c&&i&&(e=Often.null2Void(Often.getCookie("FLOW_LANG"),"ko"),o=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setOwnedByMe(!0),(new google.picker.PickerBuilder).disableFeature(google.picker.Feature.NAV_HIDDEN).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).setAppId(r).setOAuthToken(i).setOrigin(Often.getLocOrigin()).setLocale(e).addView(o).addView(google.picker.ViewId.DOCUMENTS).addView(google.picker.ViewId.SPREADSHEETS).addView(google.picker.ViewId.PRESENTATIONS).addView(google.picker.ViewId.PDFS).addView(google.picker.ViewId.DOCS_IMAGES).setCallback(I).build().setVisible(!0),$(".picker-dialog").css("z-index","99999"),"function"==typeof n&&n())}function I(e){var i,n;e.action===google.picker.Action.PICKED&&(i=[],n="GOOGLEDRIVE",e.docs.forEach(function(e){var o=n+"_"+Tz.momentConversion("currentInMilli"),o=Often.null2Void(e.name,o)+"",e={RAND_KEY:n,FILE_IDNT_ID:n,ATCH_URL:e.url,IMG_PATH:e.url,FILE_DOWN_URL:e.url,FILE_NM:o,FILE_NAME:o,FILE_SIZE:Often.null2Void(e.sizeBytes,0),CLOUD_YN:"Y",ATCH_SRNO:"0",USE_INTT_ID:_USE_INTT_ID};i.push(e)}),"function"==typeof t&&t(i))}}();
"use strict";var GoogleMap={load:function(){$("head").append('<script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADjbtMn46r9DGFyo_ZRz3c6fOXzuOKWCw&libraries=places" charset="UTF-8"><\/script>')},addSearchEvent:function(o,a){0<$(".pac-logo").length&&$(".pac-logo").remove();var t;"undefined"!=typeof google&&google.maps&&google.maps.places&&(t=new google.maps.places.SearchBox(o[0])).addListener("places_changed",function(){o.val("");var e=t.getPlaces();0!==e.length&&(e={TITLE:e[0].name,URL:e[0].url,PLACE:e[0].formatted_address,LOCATION:JSON.stringify(e[0].geometry.location).replace("{","").replace('"lat":',"").replace('"lng":',"").replace("}","")},Often.toast("info",i18next.t("front.googleMap.warning")),$("#pac-container").empty(),"function"==typeof a&&a(e))})},convertGoogleMapImage:function(e,o){var a={width:"646",height:"220",zoom:"14",markers:"color:blue"};return a=$.extend({},a,Often.null2Void(o,{})),"https://maps.googleapis.com/maps/api/staticmap?center="+e+"&zoom="+a.zoom+"&size="+a.width+"x"+a.height+"&markers="+a.markers+"|"+e+"&key=AIzaSyADjbtMn46r9DGFyo_ZRz3c6fOXzuOKWCw"},getGoogleMapLink:function(e,o){return"https://www.google.co.kr/maps/place/"+e+"?q="+encodeURIComponent(o)},checkPlaceInput:function(e,o,a){""===Often.null2Void(e.val())&&o.fadeOut(100,function(){a.attr("src","")})}};
"use strict";var ThirdPartyUtil={load:function(o){"Y"!==_INNER_NETWORK_YN&&(Often.isServerModeByHost("REAL")||Often.isServerModeByHost("REAL_TEST"))&&(GoogleDrive.load(),DropboxDrive.load(),"main"===o&&GoogleMap.load())}};
"use strict";var DaumTracking={load:function(){"file:"!==location.protocol&&$("head").append('<script type="text/javascript" src="https://t1.daumcdn.net/cssjs/common/cts/vr200/dcts.js"><\/script>')}};
"use strict";var GoogleAnalytics={load:function(){try{!function(e,n,c,a,t,o){n.className+=" "+c,t.end=o=function(){n.className=n.className.replace(RegExp(" ?"+c),"")},(e[a]=e[a]||[]).hide=t,setTimeout(function(){o(),t.end=null},4e3)}(window,document.documentElement,"async-hide","dataLayer",{"GTM-PJMHRLW":!0})}catch(e){console.log("구글애널리틱스 추적을 활용하지않습니다.")}}};
"use strict";var GoogleTagManager={load:function(){!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});n=t.getElementsByTagName(a)[0],a=t.createElement(a);a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id=GTM-PJMHRLW",n.parentNode.insertBefore(a,n)}(window,document,"script","dataLayer")}};
"use strict";var KaKaoPixel={load:function(){try{$.getScript("/flow-renewal/js/lib/kakaoPixel/kakaoPixel.min.js",function(a,e,i){200===i.status&&(kakaoPixel("6501044944766874017").pageView(),kakaoPixel("6501044944766874017").completeRegistration())})}catch(a){console.log("카카오픽셀 추적을 활용하지않습니다.")}}};
"use strict";var MonitorUtil={load:function(){"Y"!==_INNER_NETWORK_YN&&(Often.isServerModeByHost("REAL")||Often.isServerModeByHost("REAL_TEST"))&&(Often.isFunc(Func.CLOUD.SENTRY_MONITOR)&&SentryMonitor.init(),KaKaoPixel.load(),GoogleAnalytics.load(),DaumTracking.load())}};
"use strict";var SentryMonitor={init:function(){$("head").append('<script src="https://browser.sentry-cdn.com/6.13.2/bundle.tracing.min.js" integrity="sha384-XuDodOP4mgLWA8eRlqZJWs+mtmznHF6ES/nOotK0fE7SHjj0Ec3YMVIzjh5ytsKH" crossorigin="anonymous"><\/script>'),setTimeout(function(){if("undefined"!=typeof Sentry){Sentry.init({dsn:"https://53d44c5b820c4c7589f8a33bf6fdeec3@o292402.ingest.sentry.io/1535742",release:"my-project-name@2.3.12",integrations:[new Sentry.Integrations.BrowserTracing],tracingOptions:{trackComponents:!0},attachProps:!0,tracesSampleRate:1});try{Sentry.setExtra("USER_INFO",{_USER_ID:_USER_ID,_USER_NM:_USER_NM,_USE_INTT_ID:_USE_INTT_ID,_USE_INTT_NM:_USE_INTT_NM,_CLIENT_IP:_CLIENT_IP})}catch(t){}}},500)},setExtra:function(t,n){"undefined"!=typeof Sentry&&Sentry.setExtra(t,n)},captureException:function(t){"undefined"!=typeof Sentry&&Sentry.captureException(t)}};
"use strict";var Kyungrinara={get:function(n){return{FILE_GUEST_LIMIT_SIZE_B:52428800,FILE_GUEST_LIMIT_SIZE_MB:50}[n]},getVersionName:function(n){return i18next.t("front.company.kungrinaraVersion",{version:n?"$t(dictionary.free)":"$t(dictionary.premium)"})}};
